(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function R2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ip={exports:{}},Rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function PN(){if(U1)return Rc;U1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var m in s)m!=="key"&&(l[m]=s[m])}else l=s;return s=l.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:l}}return Rc.Fragment=e,Rc.jsx=t,Rc.jsxs=t,Rc}var V1;function LN(){return V1||(V1=1,Ip.exports=PN()),Ip.exports}var d=LN(),Dp={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function UN(){if(z1)return Pe;z1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,B={};function L(U,Z,me){this.props=U,this.context=Z,this.refs=B,this.updater=me||N}L.prototype.isReactComponent={},L.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=L.prototype;function V(U,Z,me){this.props=U,this.context=Z,this.refs=B,this.updater=me||N}var G=V.prototype=new F;G.constructor=V,C(G,L.prototype),G.isPureReactComponent=!0;var Y=Array.isArray,P={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function j(U,Z,me,de,ge,ee){return me=ee.ref,{$$typeof:n,type:U,key:Z,ref:me!==void 0?me:null,props:ee}}function S(U,Z){return j(U.type,Z,void 0,void 0,void 0,U.props)}function A(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function I(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(me){return Z[me]})}var O=/\/+/g;function z(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?I(""+U.key):Z.toString(36)}function D(){}function Re(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(D,D):(U.status="pending",U.then(function(Z){U.status==="pending"&&(U.status="fulfilled",U.value=Z)},function(Z){U.status==="pending"&&(U.status="rejected",U.reason=Z)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function _e(U,Z,me,de,ge){var ee=typeof U;(ee==="undefined"||ee==="boolean")&&(U=null);var he=!1;if(U===null)he=!0;else switch(ee){case"bigint":case"string":case"number":he=!0;break;case"object":switch(U.$$typeof){case n:case e:he=!0;break;case _:return he=U._init,_e(he(U._payload),Z,me,de,ge)}}if(he)return ge=ge(U),he=de===""?"."+z(U,0):de,Y(ge)?(me="",he!=null&&(me=he.replace(O,"$&/")+"/"),_e(ge,Z,me,"",function(De){return De})):ge!=null&&(A(ge)&&(ge=S(ge,me+(ge.key==null||U&&U.key===ge.key?"":(""+ge.key).replace(O,"$&/")+"/")+he)),Z.push(ge)),1;he=0;var Ae=de===""?".":de+":";if(Y(U))for(var ve=0;ve<U.length;ve++)de=U[ve],ee=Ae+z(de,ve),he+=_e(de,Z,me,ee,ge);else if(ve=T(U),typeof ve=="function")for(U=ve.call(U),ve=0;!(de=U.next()).done;)de=de.value,ee=Ae+z(de,ve++),he+=_e(de,Z,me,ee,ge);else if(ee==="object"){if(typeof U.then=="function")return _e(Re(U),Z,me,de,ge);throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return he}function ce(U,Z,me){if(U==null)return U;var de=[],ge=0;return _e(U,de,"","",function(ee){return Z.call(me,ee,ge++)}),de}function oe(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(me){(U._status===0||U._status===-1)&&(U._status=1,U._result=me)},function(me){(U._status===0||U._status===-1)&&(U._status=2,U._result=me)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var ue=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ne(){}return Pe.Children={map:ce,forEach:function(U,Z,me){ce(U,function(){Z.apply(this,arguments)},me)},count:function(U){var Z=0;return ce(U,function(){Z++}),Z},toArray:function(U){return ce(U,function(Z){return Z})||[]},only:function(U){if(!A(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Pe.Component=L,Pe.Fragment=t,Pe.Profiler=s,Pe.PureComponent=V,Pe.StrictMode=r,Pe.Suspense=p,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Pe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Pe.cache=function(U){return function(){return U.apply(null,arguments)}},Pe.cloneElement=function(U,Z,me){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=C({},U.props),ge=U.key,ee=void 0;if(Z!=null)for(he in Z.ref!==void 0&&(ee=void 0),Z.key!==void 0&&(ge=""+Z.key),Z)!ie.call(Z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Z.ref===void 0||(de[he]=Z[he]);var he=arguments.length-2;if(he===1)de.children=me;else if(1<he){for(var Ae=Array(he),ve=0;ve<he;ve++)Ae[ve]=arguments[ve+2];de.children=Ae}return j(U.type,ge,void 0,void 0,ee,de)},Pe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Pe.createElement=function(U,Z,me){var de,ge={},ee=null;if(Z!=null)for(de in Z.key!==void 0&&(ee=""+Z.key),Z)ie.call(Z,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ge[de]=Z[de]);var he=arguments.length-2;if(he===1)ge.children=me;else if(1<he){for(var Ae=Array(he),ve=0;ve<he;ve++)Ae[ve]=arguments[ve+2];ge.children=Ae}if(U&&U.defaultProps)for(de in he=U.defaultProps,he)ge[de]===void 0&&(ge[de]=he[de]);return j(U,ee,void 0,void 0,null,ge)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(U){return{$$typeof:m,render:U}},Pe.isValidElement=A,Pe.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:oe}},Pe.memo=function(U,Z){return{$$typeof:y,type:U,compare:Z===void 0?null:Z}},Pe.startTransition=function(U){var Z=P.T,me={};P.T=me;try{var de=U(),ge=P.S;ge!==null&&ge(me,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ne,ue)}catch(ee){ue(ee)}finally{P.T=Z}},Pe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Pe.use=function(U){return P.H.use(U)},Pe.useActionState=function(U,Z,me){return P.H.useActionState(U,Z,me)},Pe.useCallback=function(U,Z){return P.H.useCallback(U,Z)},Pe.useContext=function(U){return P.H.useContext(U)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(U,Z){return P.H.useDeferredValue(U,Z)},Pe.useEffect=function(U,Z){return P.H.useEffect(U,Z)},Pe.useId=function(){return P.H.useId()},Pe.useImperativeHandle=function(U,Z,me){return P.H.useImperativeHandle(U,Z,me)},Pe.useInsertionEffect=function(U,Z){return P.H.useInsertionEffect(U,Z)},Pe.useLayoutEffect=function(U,Z){return P.H.useLayoutEffect(U,Z)},Pe.useMemo=function(U,Z){return P.H.useMemo(U,Z)},Pe.useOptimistic=function(U,Z){return P.H.useOptimistic(U,Z)},Pe.useReducer=function(U,Z,me){return P.H.useReducer(U,Z,me)},Pe.useRef=function(U){return P.H.useRef(U)},Pe.useState=function(U){return P.H.useState(U)},Pe.useSyncExternalStore=function(U,Z,me){return P.H.useSyncExternalStore(U,Z,me)},Pe.useTransition=function(){return P.H.useTransition()},Pe.version="19.0.0",Pe}var F1;function cy(){return F1||(F1=1,Dp.exports=UN()),Dp.exports}var k=cy();const Zo=R2(k);var jp={exports:{}},Cc={},Op={exports:{}},kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function VN(){return B1||(B1=1,function(n){function e(ce,oe){var ue=ce.length;ce.push(oe);e:for(;0<ue;){var ne=ue-1>>>1,U=ce[ne];if(0<s(U,oe))ce[ne]=oe,ce[ue]=U,ue=ne;else break e}}function t(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var oe=ce[0],ue=ce.pop();if(ue!==oe){ce[0]=ue;e:for(var ne=0,U=ce.length,Z=U>>>1;ne<Z;){var me=2*(ne+1)-1,de=ce[me],ge=me+1,ee=ce[ge];if(0>s(de,ue))ge<U&&0>s(ee,de)?(ce[ne]=ee,ce[ge]=ue,ne=ge):(ce[ne]=de,ce[me]=ue,ne=me);else if(ge<U&&0>s(ee,ue))ce[ne]=ee,ce[ge]=ue,ne=ge;else break e}}return oe}function s(ce,oe){var ue=ce.sortIndex-oe.sortIndex;return ue!==0?ue:ce.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();n.unstable_now=function(){return u.now()-m}}var p=[],y=[],_=1,w=null,T=3,N=!1,C=!1,B=!1,L=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function G(ce){for(var oe=t(y);oe!==null;){if(oe.callback===null)r(y);else if(oe.startTime<=ce)r(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(y)}}function Y(ce){if(B=!1,G(ce),!C)if(t(p)!==null)C=!0,Re();else{var oe=t(y);oe!==null&&_e(Y,oe.startTime-ce)}}var P=!1,ie=-1,j=5,S=-1;function A(){return!(n.unstable_now()-S<j)}function I(){if(P){var ce=n.unstable_now();S=ce;var oe=!0;try{e:{C=!1,B&&(B=!1,F(ie),ie=-1),N=!0;var ue=T;try{t:{for(G(ce),w=t(p);w!==null&&!(w.expirationTime>ce&&A());){var ne=w.callback;if(typeof ne=="function"){w.callback=null,T=w.priorityLevel;var U=ne(w.expirationTime<=ce);if(ce=n.unstable_now(),typeof U=="function"){w.callback=U,G(ce),oe=!0;break t}w===t(p)&&r(p),G(ce)}else r(p);w=t(p)}if(w!==null)oe=!0;else{var Z=t(y);Z!==null&&_e(Y,Z.startTime-ce),oe=!1}}break e}finally{w=null,T=ue,N=!1}oe=void 0}}finally{oe?O():P=!1}}}var O;if(typeof V=="function")O=function(){V(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=I,O=function(){D.postMessage(null)}}else O=function(){L(I,0)};function Re(){P||(P=!0,O())}function _e(ce,oe){ie=L(function(){ce(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ce){ce.callback=null},n.unstable_continueExecution=function(){C||N||(C=!0,Re())},n.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<ce?Math.floor(1e3/ce):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ce){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var ue=T;T=oe;try{return ce()}finally{T=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ce,oe){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var ue=T;T=ce;try{return oe()}finally{T=ue}},n.unstable_scheduleCallback=function(ce,oe,ue){var ne=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ne+ue:ne):ue=ne,ce){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ue+U,ce={id:_++,callback:oe,priorityLevel:ce,startTime:ue,expirationTime:U,sortIndex:-1},ue>ne?(ce.sortIndex=ue,e(y,ce),t(p)===null&&ce===t(y)&&(B?(F(ie),ie=-1):B=!0,_e(Y,ue-ne))):(ce.sortIndex=U,e(p,ce),C||N||(C=!0,Re())),ce},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(ce){var oe=T;return function(){var ue=T;T=oe;try{return ce.apply(this,arguments)}finally{T=ue}}}}(kp)),kp}var q1;function zN(){return q1||(q1=1,Op.exports=VN()),Op.exports}var Mp={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function FN(){if(H1)return cn;H1=1;var n=cy();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,y,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:p,containerInfo:y,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(p,y,null,_)},cn.flushSync=function(p){var y=u.T,_=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=y,r.p=_,r.d.f()}},cn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},cn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},cn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var _=y.as,w=m(_,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:N}):_==="script"&&r.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},cn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,w=m(_,y.crossOrigin);r.d.L(p,_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(p,y){if(typeof p=="string")if(y){var _=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},cn.requestFormReset=function(p){r.d.r(p)},cn.unstable_batchedUpdates=function(p,y){return p(y)},cn.useFormState=function(p,y,_){return u.H.useFormState(p,y,_)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.0.0",cn}var G1;function BN(){if(G1)return Mp.exports;G1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mp.exports=FN(),Mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function qN(){if($1)return Cc;$1=1;var n=zN(),e=cy(),t=BN();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),N=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function ie(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function S(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case p:return"Fragment";case m:return"Portal";case _:return"Profiler";case y:return"StrictMode";case B:return"Suspense";case L:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case N:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case C:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return a=i.displayName||null,a!==null?a:S(i.type)||"Memo";case V:a=i._payload,i=i._init;try{return S(i(a))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,O,z;function D(i){if(O===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);O=a&&a[1]||"",z=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+i+z}var Re=!1;function _e(i,a){if(!i||Re)return"";Re=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var X=J}Reflect.construct(i,[],le)}else{try{le.call()}catch(J){X=J}i.call(le.prototype)}}else{try{throw Error()}catch(J){X=J}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],x=g[1];if(b&&x){var M=b.split(`
`),H=x.split(`
`);for(f=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(c===M.length||f===H.length)for(c=M.length-1,f=H.length-1;1<=c&&0<=f&&M[c]!==H[f];)f--;for(;1<=c&&0<=f;c--,f--)if(M[c]!==H[f]){if(c!==1||f!==1)do if(c--,f--,0>f||M[c]!==H[f]){var te=`
`+M[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=f);break}}}finally{Re=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?D(o):""}function ce(i){switch(i.tag){case 26:case 27:case 5:return D(i.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return i=_e(i.type,!1),i;case 11:return i=_e(i.type.render,!1),i;case 1:return i=_e(i.type,!0),i;default:return""}}function oe(i){try{var a="";do a+=ce(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ue(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function ne(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function U(i){if(ue(i)!==i)throw Error(r(188))}function Z(i){var a=i.alternate;if(!a){if(a=ue(i),a===null)throw Error(r(188));return a!==i?null:i}for(var o=i,c=a;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return U(f),i;if(g===c)return U(f),a;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=f,c=g;else{for(var b=!1,x=f.child;x;){if(x===o){b=!0,o=f,c=g;break}if(x===c){b=!0,c=f,o=g;break}x=x.sibling}if(!b){for(x=g.child;x;){if(x===o){b=!0,o=g,c=f;break}if(x===c){b=!0,c=g,o=f;break}x=x.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:a}function me(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=me(i),a!==null)return a;i=i.sibling}return null}var de=Array.isArray,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},he=[],Ae=-1;function ve(i){return{current:i}}function De(i){0>Ae||(i.current=he[Ae],he[Ae]=null,Ae--)}function Ze(i,a){Ae++,he[Ae]=i.current,i.current=a}var pn=ve(null),Zi=ve(null),Gn=ve(null),zr=ve(null);function Fr(i,a){switch(Ze(Gn,a),Ze(Zi,i),Ze(pn,null),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?f1(a):0;break;default:if(i=i===8?a.parentNode:a,a=i.tagName,i=i.namespaceURI)i=f1(i),a=m1(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}De(pn),Ze(pn,a)}function Ji(){De(pn),De(Zi),De(Gn)}function wl(i){i.memoizedState!==null&&Ze(zr,i);var a=pn.current,o=m1(a,i.type);a!==o&&(Ze(Zi,i),Ze(pn,o))}function to(i){Zi.current===i&&(De(pn),De(Zi)),zr.current===i&&(De(zr),wc._currentValue=ee)}var no=Object.prototype.hasOwnProperty,Ja=n.unstable_scheduleCallback,io=n.unstable_cancelCallback,jf=n.unstable_shouldYield,Al=n.unstable_requestPaint,An=n.unstable_now,Iu=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,Ft=n.unstable_UserBlockingPriority,er=n.unstable_NormalPriority,Du=n.unstable_LowPriority,Sl=n.unstable_IdlePriority,Of=n.log,es=n.unstable_setDisableYieldValue,Br=null,on=null;function xl(i){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Br,i,void 0,(i.current.flags&128)===128)}catch{}}function wi(i){if(typeof Of=="function"&&es(i),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Br,i)}catch{}}var gn=Math.clz32?Math.clz32:Ou,Nl=Math.log,ju=Math.LN2;function Ou(i){return i>>>=0,i===0?32:31-(Nl(i)/ju|0)|0}var Ai=128,qr=4194304;function fi(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $n(i,a){var o=i.pendingLanes;if(o===0)return 0;var c=0,f=i.suspendedLanes,g=i.pingedLanes,b=i.warmLanes;i=i.finishedLanes!==0;var x=o&134217727;return x!==0?(o=x&~f,o!==0?c=fi(o):(g&=x,g!==0?c=fi(g):i||(b=x&~b,b!==0&&(c=fi(b))))):(x=o&~f,x!==0?c=fi(x):g!==0?c=fi(g):i||(b=o&~b,b!==0&&(c=fi(b)))),c===0?0:a!==0&&a!==c&&(a&f)===0&&(f=c&-c,b=a&-a,f>=b||f===32&&(b&4194176)!==0)?a:c}function Hr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function ro(i,a){switch(i){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rl(){var i=Ai;return Ai<<=1,(Ai&4194176)===0&&(Ai=128),i}function Gr(){var i=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),i}function ao(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function bt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ku(i,a,o,c,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var x=i.entanglements,M=i.expirationTimes,H=i.hiddenUpdates;for(o=b&~o;0<o;){var te=31-gn(o),le=1<<te;x[te]=0,M[te]=-1;var X=H[te];if(X!==null)for(H[te]=null,te=0;te<X.length;te++){var J=X[te];J!==null&&(J.lane&=-536870913)}o&=~le}c!==0&&$r(i,c,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~a))}function $r(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-gn(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194218}function Kr(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var c=31-gn(o),f=1<<c;f&a|i[c]&a&&(i[c]|=a),o&=~f}}function Mu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Pu(){var i=ge.p;return i!==0?i:(i=window.event,i===void 0?32:j1(i.type))}function Yr(i,a){var o=ge.p;try{return ge.p=i,a()}finally{ge.p=o}}var Si=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Si,kt="__reactProps$"+Si,tr="__reactContainer$"+Si,ts="__reactEvents$"+Si,so="__reactListeners$"+Si,xi="__reactHandles$"+Si,Cl="__reactResources$"+Si,Qr="__reactMarker$"+Si;function ns(i){delete i[Bt],delete i[kt],delete i[ts],delete i[so],delete i[xi]}function mi(i){var a=i[Bt];if(a)return a;for(var o=i.parentNode;o;){if(a=o[tr]||o[Bt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=y1(i);i!==null;){if(o=i[Bt])return o;i=y1(i)}return a}i=o,o=i.parentNode}return null}function nr(i){if(i=i[Bt]||i[tr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Xr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Wr(i){var a=i[Cl];return a||(a=i[Cl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ut(i){i[Qr]=!0}var Il=new Set,oo={};function On(i,a){Sn(i,a),Sn(i+"Capture",a)}function Sn(i,a){for(oo[i]=a,i=0;i<a.length;i++)Il.add(a[i])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},jl={};function Lu(i){return no.call(jl,i)?!0:no.call(Dl,i)?!1:kf.test(i)?jl[i]=!0:(Dl[i]=!0,!1)}function Zr(i,a,o){if(Lu(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function Jr(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Kn(i,a,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+c)}}function yn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Uu(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Mf(i){var a=Uu(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function is(i){i._valueTracker||(i._valueTracker=Mf(i))}function Ol(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return i&&(c=Uu(i)?i.checked?"true":"false":i.value),i=c,i!==o?(a.setValue(i),!0):!1}function lo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ir=/[\n"\\]/g;function pt(i){return i.replace(ir,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ea(i,a,o,c,f,g,b,x){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),a!=null?b==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+yn(a)):i.value!==""+yn(a)&&(i.value=""+yn(a)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),a!=null?co(i,b,yn(a)):o!=null?co(i,b,yn(o)):c!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+yn(x):i.removeAttribute("name")}function rs(i,a,o,c,f,g,b,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+yn(o):"",a=a!=null?""+yn(a):o,x||a===i.value||(i.value=a),i.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=x?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function co(i,a,o){a==="number"&&lo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Qe(i,a,o,c){if(i=i.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=a.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+yn(o),a=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}a!==null||i[f].disabled||(a=i[f])}a!==null&&(a.selected=!0)}}function as(i,a,o){if(a!=null&&(a=""+yn(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+yn(o):""}function ta(i,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(r(92));if(de(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=yn(a),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function Yn(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var Pf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(i,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,o):typeof o!="number"||o===0||Pf.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function Vu(i,a,o){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&o[f]!==c&&kl(i,f,c)}else for(var g in a)a.hasOwnProperty(g)&&kl(i,g,a[g])}function Ml(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(i){return Uf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Qn=null;function uo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rr=null,ar=null;function sr(i){var a=nr(i);if(a&&(i=a.stateNode)){var o=i[kt]||null;e:switch(i=a.stateNode,a.type){case"input":if(ea(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==i&&c.form===i.form){var f=c[kt]||null;if(!f)throw Error(r(90));ea(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===i.form&&Ol(c)}break e;case"textarea":as(i,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Qe(i,!!o.multiple,a,!1)}}}var Pl=!1;function zu(i,a,o){if(Pl)return i(a,o);Pl=!0;try{var c=i(a);return c}finally{if(Pl=!1,(rr!==null||ar!==null)&&(Dd(),rr&&(a=rr,i=ar,ar=rr=null,sr(a),i)))for(a=0;a<i.length;a++)sr(i[a])}}function ss(i,a){var o=i.stateNode;if(o===null)return null;var c=o[kt]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,a,typeof o));return o}var Xn=!1;if(kn)try{var os={};Object.defineProperty(os,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Xn=!1}var Ri=null,na=null,or=null;function Ll(){if(or)return or;var i,a=na,o=a.length,c,f="value"in Ri?Ri.value:Ri.textContent,g=f.length;for(i=0;i<o&&a[i]===f[i];i++);var b=o-i;for(c=1;c<=b&&a[o-c]===f[g-c];c++);return or=f.slice(i,1<c?1-c:void 0)}function Ci(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ii(){return!0}function Ul(){return!1}function qt(i){function a(o,c,f,g,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(o=i[x],this[x]=o?o(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ii:Ul,this.isPropagationStopped=Ul,this}return I(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),a}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=qt(Je),ls=I({},Je,{view:0,detail:0}),Fu=qt(ls),fo,mo,Di,cs=I({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Di&&(Di&&i.type==="mousemove"?(fo=i.screenX-Di.screenX,mo=i.screenY-Di.screenY):mo=fo=0,Di=i),fo)},movementY:function(i){return"movementY"in i?i.movementY:mo}}),Wn=qt(cs),Bu=I({},cs,{dataTransfer:0}),Vf=qt(Bu),us=I({},ls,{relatedTarget:0}),po=qt(us),Vl=I({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),go=qt(Vl),qu=I({},Je,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yo=qt(qu),zf=I({},Je,{data:0}),zl=qt(zf),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fl(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Gu[i])?!!a[i]:!1}function hs(){return Fl}var $u=I({},ls,{key:function(i){if(i.key){var a=ds[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ci(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Hu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(i){return i.type==="keypress"?Ci(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ci(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vo=qt($u),Ku=I({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bl=qt(Ku),lr=I({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),Yu=qt(lr),Qu=I({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=qt(Qu),Wu=I({},cs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),_o=qt(Wu),vn=I({},Je,{newState:0,oldState:0}),Zu=qt(vn),Ju=[9,13,27,32],ji=kn&&"CompositionEvent"in window,h=null;kn&&"documentMode"in document&&(h=document.documentMode);var v=kn&&"TextEvent"in window&&!h,E=kn&&(!ji||h&&8<h&&11>=h),R=" ",K=!1;function W(i,a){switch(i){case"keyup":return Ju.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ge=!1;function Mt(i,a){switch(i){case"compositionend":return ye(a);case"keypress":return a.which!==32?null:(K=!0,R);case"textInput":return i=a.data,i===R&&K?null:i;default:return null}}function $e(i,a){if(Ge)return i==="compositionend"||!ji&&W(i,a)?(i=Ll(),or=na=Ri=null,Ge=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ht[i.type]:a==="textarea"}function cr(i,a,o,c){rr?ar?ar.push(c):ar=[c]:rr=c,a=Pd(a,"onChange"),0<a.length&&(o=new ho("onChange","change",null,o,c),i.push({event:o,listeners:a}))}var Zt=null,Oi=null;function ql(i){l1(i,0)}function ed(i){var a=Xr(i);if(Ol(a))return i}function Lv(i,a){if(i==="change")return a}var Uv=!1;if(kn){var Ff;if(kn){var Bf="oninput"in document;if(!Bf){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),Bf=typeof Vv.oninput=="function"}Ff=Bf}else Ff=!1;Uv=Ff&&(!document.documentMode||9<document.documentMode)}function zv(){Zt&&(Zt.detachEvent("onpropertychange",Fv),Oi=Zt=null)}function Fv(i){if(i.propertyName==="value"&&ed(Oi)){var a=[];cr(a,Oi,i,uo(i)),zu(ql,a)}}function hx(i,a,o){i==="focusin"?(zv(),Zt=a,Oi=o,Zt.attachEvent("onpropertychange",Fv)):i==="focusout"&&zv()}function fx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ed(Oi)}function mx(i,a){if(i==="click")return ed(a)}function px(i,a){if(i==="input"||i==="change")return ed(a)}function gx(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Mn=typeof Object.is=="function"?Object.is:gx;function Hl(i,a){if(Mn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!no.call(a,f)||!Mn(i[f],a[f]))return!1}return!0}function Bv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qv(i,a){var o=Bv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=a&&c>=a)return{node:o,offset:a-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Bv(o)}}function Hv(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Hv(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Gv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=lo(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=lo(i.document)}return a}function qf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function yx(i,a){var o=Gv(a);a=i.focusedElem;var c=i.selectionRange;if(o!==a&&a&&a.ownerDocument&&Hv(a.ownerDocument.documentElement,a)){if(c!==null&&qf(a)){if(i=c.start,o=c.end,o===void 0&&(o=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(o,a.value.length);else if(o=(i=a.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!o.extend&&g>c&&(f=c,c=g,g=f),f=qv(a,g);var b=qv(a,c);f&&b&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),o.removeAllRanges(),g>c?(o.addRange(i),o.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),o.addRange(i)))}}for(i=[],o=a;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)o=i[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var vx=kn&&"documentMode"in document&&11>=document.documentMode,Eo=null,Hf=null,Gl=null,Gf=!1;function $v(i,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gf||Eo==null||Eo!==lo(c)||(c=Eo,"selectionStart"in c&&qf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gl&&Hl(Gl,c)||(Gl=c,c=Pd(Hf,"onSelect"),0<c.length&&(a=new ho("onSelect","select",null,a,o),i.push({event:a,listeners:c}),a.target=Eo)))}function fs(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var bo={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},$f={},Kv={};kn&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function ms(i){if($f[i])return $f[i];if(!bo[i])return i;var a=bo[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in Kv)return $f[i]=a[o];return i}var Yv=ms("animationend"),Qv=ms("animationiteration"),Xv=ms("animationstart"),_x=ms("transitionrun"),Ex=ms("transitionstart"),bx=ms("transitioncancel"),Wv=ms("transitionend"),Zv=new Map,Jv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pi(i,a){Zv.set(i,a),On(a,[i])}var Zn=[],To=0,Kf=0;function td(){for(var i=To,a=Kf=To=0;a<i;){var o=Zn[a];Zn[a++]=null;var c=Zn[a];Zn[a++]=null;var f=Zn[a];Zn[a++]=null;var g=Zn[a];if(Zn[a++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}g!==0&&e0(o,f,g)}}function nd(i,a,o,c){Zn[To++]=i,Zn[To++]=a,Zn[To++]=o,Zn[To++]=c,Kf|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Yf(i,a,o,c){return nd(i,a,o,c),id(i)}function ia(i,a){return nd(i,null,null,a),id(i)}function e0(i,a,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;f&&a!==null&&i.tag===3&&(g=i.stateNode,f=31-gn(o),g=g.hiddenUpdates,i=g[f],i===null?g[f]=[a]:i.push(a),a.lane=o|536870912)}function id(i){if(50<gc)throw gc=0,ep=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var wo={},t0=new WeakMap;function Jn(i,a){if(typeof i=="object"&&i!==null){var o=t0.get(i);return o!==void 0?o:(a={value:i,source:a,stack:oe(a)},t0.set(i,a),a)}return{value:i,source:a,stack:oe(a)}}var Ao=[],So=0,rd=null,ad=0,ei=[],ti=0,ps=null,ur=1,dr="";function gs(i,a){Ao[So++]=ad,Ao[So++]=rd,rd=i,ad=a}function n0(i,a,o){ei[ti++]=ur,ei[ti++]=dr,ei[ti++]=ps,ps=i;var c=ur;i=dr;var f=32-gn(c)-1;c&=~(1<<f),o+=1;var g=32-gn(a)+f;if(30<g){var b=f-f%5;g=(c&(1<<b)-1).toString(32),c>>=b,f-=b,ur=1<<32-gn(a)+f|o<<f|c,dr=g+i}else ur=1<<g|o<<f|c,dr=i}function Qf(i){i.return!==null&&(gs(i,1),n0(i,1,0))}function Xf(i){for(;i===rd;)rd=Ao[--So],Ao[So]=null,ad=Ao[--So],Ao[So]=null;for(;i===ps;)ps=ei[--ti],ei[ti]=null,dr=ei[--ti],ei[ti]=null,ur=ei[--ti],ei[ti]=null}var _n=null,Jt=null,Xe=!1,gi=null,ki=!1,Wf=Error(r(519));function ys(i){var a=Error(r(418,""));throw Yl(Jn(a,i)),Wf}function i0(i){var a=i.stateNode,o=i.type,c=i.memoizedProps;switch(a[Bt]=i,a[kt]=c,o){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(o=0;o<vc.length;o++)qe(vc[o],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),rs(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),is(a);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),ta(a,c.value,c.defaultValue,c.children),is(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||h1(a.textContent,o)?(c.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),c.onScroll!=null&&qe("scroll",a),c.onScrollEnd!=null&&qe("scrollend",a),c.onClick!=null&&(a.onclick=Ld),a=!0):a=!1,a||ys(i)}function r0(i){for(_n=i.return;_n;)switch(_n.tag){case 3:case 27:ki=!0;return;case 5:case 13:ki=!1;return;default:_n=_n.return}}function $l(i){if(i!==_n)return!1;if(!Xe)return r0(i),Xe=!0,!1;var a=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||yp(i.type,i.memoizedProps)),o=!o),o&&(a=!0),a&&Jt&&ys(i),r0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){Jt=vi(i.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}Jt=null}}else Jt=_n?vi(i.stateNode.nextSibling):null;return!0}function Kl(){Jt=_n=null,Xe=!1}function Yl(i){gi===null?gi=[i]:gi.push(i)}var Ql=Error(r(460)),a0=Error(r(474)),Zf={then:function(){}};function s0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function sd(){}function o0(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(sd,sd),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Ql?Error(r(483)):i;default:if(typeof a.status=="string")a.then(sd,sd);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Ql?Error(r(483)):i}throw Xl=a,Ql}}var Xl=null;function l0(){if(Xl===null)throw Error(r(459));var i=Xl;return Xl=null,i}var xo=null,Wl=0;function od(i){var a=Wl;return Wl+=1,xo===null&&(xo=[]),o0(xo,i,a)}function Zl(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function ld(i,a){throw a.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function c0(i){var a=i._init;return a(i._payload)}function u0(i){function a($,q){if(i){var Q=$.deletions;Q===null?($.deletions=[q],$.flags|=16):Q.push(q)}}function o($,q){if(!i)return null;for(;q!==null;)a($,q),q=q.sibling;return null}function c($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function f($,q){return $=pa($,q),$.index=0,$.sibling=null,$}function g($,q,Q){return $.index=Q,i?(Q=$.alternate,Q!==null?(Q=Q.index,Q<q?($.flags|=33554434,q):Q):($.flags|=33554434,q)):($.flags|=1048576,q)}function b($){return i&&$.alternate===null&&($.flags|=33554434),$}function x($,q,Q,re){return q===null||q.tag!==6?(q=$m(Q,$.mode,re),q.return=$,q):(q=f(q,Q),q.return=$,q)}function M($,q,Q,re){var Te=Q.type;return Te===p?te($,q,Q.props.children,re,Q.key):q!==null&&(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===V&&c0(Te)===q.type)?(q=f(q,Q.props),Zl(q,Q),q.return=$,q):(q=xd(Q.type,Q.key,Q.props,null,$.mode,re),Zl(q,Q),q.return=$,q)}function H($,q,Q,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Km(Q,$.mode,re),q.return=$,q):(q=f(q,Q.children||[]),q.return=$,q)}function te($,q,Q,re,Te){return q===null||q.tag!==7?(q=Ns(Q,$.mode,re,Te),q.return=$,q):(q=f(q,Q),q.return=$,q)}function le($,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=$m(""+q,$.mode,Q),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case u:return Q=xd(q.type,q.key,q.props,null,$.mode,Q),Zl(Q,q),Q.return=$,Q;case m:return q=Km(q,$.mode,Q),q.return=$,q;case V:var re=q._init;return q=re(q._payload),le($,q,Q)}if(de(q)||ie(q))return q=Ns(q,$.mode,Q,null),q.return=$,q;if(typeof q.then=="function")return le($,od(q),Q);if(q.$$typeof===N)return le($,wd($,q),Q);ld($,q)}return null}function X($,q,Q,re){var Te=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Te!==null?null:x($,q,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return Q.key===Te?M($,q,Q,re):null;case m:return Q.key===Te?H($,q,Q,re):null;case V:return Te=Q._init,Q=Te(Q._payload),X($,q,Q,re)}if(de(Q)||ie(Q))return Te!==null?null:te($,q,Q,re,null);if(typeof Q.then=="function")return X($,q,od(Q),re);if(Q.$$typeof===N)return X($,q,wd($,Q),re);ld($,Q)}return null}function J($,q,Q,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return $=$.get(Q)||null,x(q,$,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case u:return $=$.get(re.key===null?Q:re.key)||null,M(q,$,re,Te);case m:return $=$.get(re.key===null?Q:re.key)||null,H(q,$,re,Te);case V:var Ue=re._init;return re=Ue(re._payload),J($,q,Q,re,Te)}if(de(re)||ie(re))return $=$.get(Q)||null,te(q,$,re,Te,null);if(typeof re.then=="function")return J($,q,Q,od(re),Te);if(re.$$typeof===N)return J($,q,Q,wd(q,re),Te);ld(q,re)}return null}function we($,q,Q,re){for(var Te=null,Ue=null,xe=q,Ce=q=0,Kt=null;xe!==null&&Ce<Q.length;Ce++){xe.index>Ce?(Kt=xe,xe=null):Kt=xe.sibling;var We=X($,xe,Q[Ce],re);if(We===null){xe===null&&(xe=Kt);break}i&&xe&&We.alternate===null&&a($,xe),q=g(We,q,Ce),Ue===null?Te=We:Ue.sibling=We,Ue=We,xe=Kt}if(Ce===Q.length)return o($,xe),Xe&&gs($,Ce),Te;if(xe===null){for(;Ce<Q.length;Ce++)xe=le($,Q[Ce],re),xe!==null&&(q=g(xe,q,Ce),Ue===null?Te=xe:Ue.sibling=xe,Ue=xe);return Xe&&gs($,Ce),Te}for(xe=c(xe);Ce<Q.length;Ce++)Kt=J(xe,$,Ce,Q[Ce],re),Kt!==null&&(i&&Kt.alternate!==null&&xe.delete(Kt.key===null?Ce:Kt.key),q=g(Kt,q,Ce),Ue===null?Te=Kt:Ue.sibling=Kt,Ue=Kt);return i&&xe.forEach(function(Ta){return a($,Ta)}),Xe&&gs($,Ce),Te}function ke($,q,Q,re){if(Q==null)throw Error(r(151));for(var Te=null,Ue=null,xe=q,Ce=q=0,Kt=null,We=Q.next();xe!==null&&!We.done;Ce++,We=Q.next()){xe.index>Ce?(Kt=xe,xe=null):Kt=xe.sibling;var Ta=X($,xe,We.value,re);if(Ta===null){xe===null&&(xe=Kt);break}i&&xe&&Ta.alternate===null&&a($,xe),q=g(Ta,q,Ce),Ue===null?Te=Ta:Ue.sibling=Ta,Ue=Ta,xe=Kt}if(We.done)return o($,xe),Xe&&gs($,Ce),Te;if(xe===null){for(;!We.done;Ce++,We=Q.next())We=le($,We.value,re),We!==null&&(q=g(We,q,Ce),Ue===null?Te=We:Ue.sibling=We,Ue=We);return Xe&&gs($,Ce),Te}for(xe=c(xe);!We.done;Ce++,We=Q.next())We=J(xe,$,Ce,We.value,re),We!==null&&(i&&We.alternate!==null&&xe.delete(We.key===null?Ce:We.key),q=g(We,q,Ce),Ue===null?Te=We:Ue.sibling=We,Ue=We);return i&&xe.forEach(function(MN){return a($,MN)}),Xe&&gs($,Ce),Te}function vt($,q,Q,re){if(typeof Q=="object"&&Q!==null&&Q.type===p&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:e:{for(var Te=Q.key;q!==null;){if(q.key===Te){if(Te=Q.type,Te===p){if(q.tag===7){o($,q.sibling),re=f(q,Q.props.children),re.return=$,$=re;break e}}else if(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===V&&c0(Te)===q.type){o($,q.sibling),re=f(q,Q.props),Zl(re,Q),re.return=$,$=re;break e}o($,q);break}else a($,q);q=q.sibling}Q.type===p?(re=Ns(Q.props.children,$.mode,re,Q.key),re.return=$,$=re):(re=xd(Q.type,Q.key,Q.props,null,$.mode,re),Zl(re,Q),re.return=$,$=re)}return b($);case m:e:{for(Te=Q.key;q!==null;){if(q.key===Te)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){o($,q.sibling),re=f(q,Q.children||[]),re.return=$,$=re;break e}else{o($,q);break}else a($,q);q=q.sibling}re=Km(Q,$.mode,re),re.return=$,$=re}return b($);case V:return Te=Q._init,Q=Te(Q._payload),vt($,q,Q,re)}if(de(Q))return we($,q,Q,re);if(ie(Q)){if(Te=ie(Q),typeof Te!="function")throw Error(r(150));return Q=Te.call(Q),ke($,q,Q,re)}if(typeof Q.then=="function")return vt($,q,od(Q),re);if(Q.$$typeof===N)return vt($,q,wd($,Q),re);ld($,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(o($,q.sibling),re=f(q,Q),re.return=$,$=re):(o($,q),re=$m(Q,$.mode,re),re.return=$,$=re),b($)):o($,q)}return function($,q,Q,re){try{Wl=0;var Te=vt($,q,Q,re);return xo=null,Te}catch(xe){if(xe===Ql)throw xe;var Ue=ai(29,xe,null,$.mode);return Ue.lanes=re,Ue.return=$,Ue}finally{}}}var vs=u0(!0),d0=u0(!1),No=ve(null),cd=ve(0);function h0(i,a){i=Tr,Ze(cd,i),Ze(No,a),Tr=i|a.baseLanes}function Jf(){Ze(cd,Tr),Ze(No,No.current)}function em(){Tr=cd.current,De(No),De(cd)}var ni=ve(null),Mi=null;function ra(i){var a=i.alternate;Ze(Lt,Lt.current&1),Ze(ni,i),Mi===null&&(a===null||No.current!==null||a.memoizedState!==null)&&(Mi=i)}function f0(i){if(i.tag===22){if(Ze(Lt,Lt.current),Ze(ni,i),Mi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Mi=i)}}else aa()}function aa(){Ze(Lt,Lt.current),Ze(ni,ni.current)}function hr(i){De(ni),Mi===i&&(Mi=null),De(Lt)}var Lt=ve(0);function ud(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tx=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},wx=n.unstable_scheduleCallback,Ax=n.unstable_NormalPriority,Ut={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new Tx,data:new Map,refCount:0}}function Jl(i){i.refCount--,i.refCount===0&&wx(Ax,function(){i.controller.abort()})}var ec=null,nm=0,Ro=0,Co=null;function Sx(i,a){if(ec===null){var o=ec=[];nm=0,Ro=lp(),Co={status:"pending",value:void 0,then:function(c){o.push(c)}}}return nm++,a.then(m0,m0),a}function m0(){if(--nm===0&&ec!==null){Co!==null&&(Co.status="fulfilled");var i=ec;ec=null,Ro=0,Co=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function xx(i,a){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var p0=A.S;A.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Sx(i,a),p0!==null&&p0(i,a)};var _s=ve(null);function im(){var i=_s.current;return i!==null?i:rt.pooledCache}function dd(i,a){a===null?Ze(_s,_s.current):Ze(_s,a.pool)}function g0(){var i=im();return i===null?null:{parent:Ut._currentValue,pool:i}}var sa=0,Le=null,tt=null,xt=null,hd=!1,Io=!1,Es=!1,fd=0,tc=0,Do=null,Nx=0;function Tt(){throw Error(r(321))}function rm(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Mn(i[o],a[o]))return!1;return!0}function am(i,a,o,c,f,g){return sa=g,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=i===null||i.memoizedState===null?bs:oa,Es=!1,g=o(c,f),Es=!1,Io&&(g=v0(a,o,c,f)),y0(i),g}function y0(i){A.H=Pi;var a=tt!==null&&tt.next!==null;if(sa=0,xt=tt=Le=null,hd=!1,tc=0,Do=null,a)throw Error(r(300));i===null||Gt||(i=i.dependencies,i!==null&&Td(i)&&(Gt=!0))}function v0(i,a,o,c){Le=i;var f=0;do{if(Io&&(Do=null),tc=0,Io=!1,25<=f)throw Error(r(301));if(f+=1,xt=tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=Ts,g=a(o,c)}while(Io);return g}function Rx(){var i=A.H,a=i.useState()[0];return a=typeof a.then=="function"?nc(a):a,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(Le.flags|=1024),a}function sm(){var i=fd!==0;return fd=0,i}function om(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function lm(i){if(hd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}hd=!1}sa=0,xt=tt=Le=null,Io=!1,tc=fd=0,Do=null}function xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Le.memoizedState=xt=i:xt=xt.next=i,xt}function Nt(){if(tt===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var a=xt===null?Le.memoizedState:xt.next;if(a!==null)xt=a,tt=i;else{if(i===null)throw Le.alternate===null?Error(r(467)):Error(r(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},xt===null?Le.memoizedState=xt=i:xt=xt.next=i}return xt}var md;md=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nc(i){var a=tc;return tc+=1,Do===null&&(Do=[]),i=o0(Do,i,a),a=Le,(xt===null?a.memoizedState:xt.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?bs:oa),i}function pd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nc(i);if(i.$$typeof===N)return ln(i)}throw Error(r(438,String(i)))}function cm(i){var a=null,o=Le.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=md(),Le.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),c=0;c<i;c++)o[c]=Y;return a.index++,o}function fr(i,a){return typeof a=="function"?a(i):a}function gd(i){var a=Nt();return um(a,tt,i)}function um(i,a,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var f=i.baseQueue,g=c.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}a.baseQueue=f=g,c.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{a=f.next;var x=b=null,M=null,H=a,te=!1;do{var le=H.lane&-536870913;if(le!==H.lane?(Ke&le)===le:(sa&le)===le){var X=H.revertLane;if(X===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),le===Ro&&(te=!0);else if((sa&X)===X){H=H.next,X===Ro&&(te=!0);continue}else le={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=le,b=g):M=M.next=le,Le.lanes|=X,ga|=X;le=H.action,Es&&o(g,le),g=H.hasEagerState?H.eagerState:o(g,le)}else X={lane:le,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=X,b=g):M=M.next=X,Le.lanes|=le,ga|=le;H=H.next}while(H!==null&&H!==a);if(M===null?b=g:M.next=x,!Mn(g,i.memoizedState)&&(Gt=!0,te&&(o=Co,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=M,c.lastRenderedState=g}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function dm(i){var a=Nt(),o=a.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,g=a.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);Mn(g,a.memoizedState)||(Gt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,c]}function _0(i,a,o){var c=Le,f=Nt(),g=Xe;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=a();var b=!Mn((tt||f).memoizedState,o);if(b&&(f.memoizedState=o,Gt=!0),f=f.queue,mm(T0.bind(null,c,f,i),[i]),f.getSnapshot!==a||b||xt!==null&&xt.memoizedState.tag&1){if(c.flags|=2048,jo(9,b0.bind(null,c,f,o,a),{destroy:void 0},null),rt===null)throw Error(r(349));g||(sa&60)!==0||E0(c,a,o)}return o}function E0(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=Le.updateQueue,a===null?(a=md(),Le.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function b0(i,a,o,c){a.value=o,a.getSnapshot=c,w0(a)&&A0(i)}function T0(i,a,o){return o(function(){w0(a)&&A0(i)})}function w0(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Mn(i,o)}catch{return!0}}function A0(i){var a=ia(i,2);a!==null&&En(a,i,2)}function hm(i){var a=xn();if(typeof i=="function"){var o=i;if(i=o(),Es){wi(!0);try{o()}finally{wi(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:i},a}function S0(i,a,o,c){return i.baseState=o,um(i,tt,typeof c=="function"?c:fr)}function Cx(i,a,o,c,f){if(_d(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};A.T!==null?o(!0):g.isTransition=!1,c(g),o=a.pending,o===null?(g.next=a.pending=g,x0(a,g)):(g.next=o.next,a.pending=o.next=g)}}function x0(i,a){var o=a.action,c=a.payload,f=i.state;if(a.isTransition){var g=A.T,b={};A.T=b;try{var x=o(f,c),M=A.S;M!==null&&M(b,x),N0(i,a,x)}catch(H){fm(i,a,H)}finally{A.T=g}}else try{g=o(f,c),N0(i,a,g)}catch(H){fm(i,a,H)}}function N0(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){R0(i,a,c)},function(c){return fm(i,a,c)}):R0(i,a,o)}function R0(i,a,o){a.status="fulfilled",a.value=o,C0(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,x0(i,o)))}function fm(i,a,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,C0(a),a=a.next;while(a!==c)}i.action=null}function C0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function I0(i,a){return a}function D0(i,a){if(Xe){var o=rt.formState;if(o!==null){e:{var c=Le;if(Xe){if(Jt){t:{for(var f=Jt,g=ki;f.nodeType!==8;){if(!g){f=null;break t}if(f=vi(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Jt=vi(f.nextSibling),c=f.data==="F!";break e}}ys(c)}c=!1}c&&(a=o[0])}}return o=xn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:a},o.queue=c,o=Q0.bind(null,Le,c),c.dispatch=o,c=hm(!1),g=_m.bind(null,Le,!1,c.queue),c=xn(),f={state:a,dispatch:null,action:i,pending:null},c.queue=f,o=Cx.bind(null,Le,f,g,o),f.dispatch=o,c.memoizedState=i,[a,o,!1]}function j0(i){var a=Nt();return O0(a,tt,i)}function O0(i,a,o){a=um(i,a,I0)[0],i=gd(fr)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?nc(a):a;var c=Nt(),f=c.queue,g=f.dispatch;return o!==c.memoizedState&&(Le.flags|=2048,jo(9,Ix.bind(null,f,o),{destroy:void 0},null)),[a,g,i]}function Ix(i,a){i.action=a}function k0(i){var a=Nt(),o=tt;if(o!==null)return O0(a,o,i);Nt(),a=a.memoizedState,o=Nt();var c=o.queue.dispatch;return o.memoizedState=i,[a,c,!1]}function jo(i,a,o,c){return i={tag:i,create:a,inst:o,deps:c,next:null},a=Le.updateQueue,a===null&&(a=md(),Le.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,a.lastEffect=i),i}function M0(){return Nt().memoizedState}function yd(i,a,o,c){var f=xn();Le.flags|=i,f.memoizedState=jo(1|a,o,{destroy:void 0},c===void 0?null:c)}function vd(i,a,o,c){var f=Nt();c=c===void 0?null:c;var g=f.memoizedState.inst;tt!==null&&c!==null&&rm(c,tt.memoizedState.deps)?f.memoizedState=jo(a,o,g,c):(Le.flags|=i,f.memoizedState=jo(1|a,o,g,c))}function P0(i,a){yd(8390656,8,i,a)}function mm(i,a){vd(2048,8,i,a)}function L0(i,a){return vd(4,2,i,a)}function U0(i,a){return vd(4,4,i,a)}function V0(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function z0(i,a,o){o=o!=null?o.concat([i]):null,vd(4,4,V0.bind(null,a,i),o)}function pm(){}function F0(i,a){var o=Nt();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&rm(a,c[1])?c[0]:(o.memoizedState=[i,a],i)}function B0(i,a){var o=Nt();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&rm(a,c[1]))return c[0];if(c=i(),Es){wi(!0);try{i()}finally{wi(!1)}}return o.memoizedState=[c,a],c}function gm(i,a,o){return o===void 0||(sa&1073741824)!==0?i.memoizedState=a:(i.memoizedState=o,i=H_(),Le.lanes|=i,ga|=i,o)}function q0(i,a,o,c){return Mn(o,a)?o:No.current!==null?(i=gm(i,o,c),Mn(i,a)||(Gt=!0),i):(sa&42)===0?(Gt=!0,i.memoizedState=o):(i=H_(),Le.lanes|=i,ga|=i,a)}function H0(i,a,o,c,f){var g=ge.p;ge.p=g!==0&&8>g?g:8;var b=A.T,x={};A.T=x,_m(i,!1,a,o);try{var M=f(),H=A.S;if(H!==null&&H(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=xx(M,c);ic(i,a,te,Vn(i))}else ic(i,a,c,Vn(i))}catch(le){ic(i,a,{then:function(){},status:"rejected",reason:le},Vn())}finally{ge.p=g,A.T=b}}function Dx(){}function ym(i,a,o,c){if(i.tag!==5)throw Error(r(476));var f=G0(i).queue;H0(i,f,a,ee,o===null?Dx:function(){return $0(i),o(c)})}function G0(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:ee},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function $0(i){var a=G0(i).next.queue;ic(i,a,{},Vn())}function vm(){return ln(wc)}function K0(){return Nt().memoizedState}function Y0(){return Nt().memoizedState}function jx(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=Vn();i=ua(o);var c=da(a,i,o);c!==null&&(En(c,a,o),sc(c,a,o)),a={cache:tm()},i.payload=a;return}a=a.return}}function Ox(i,a,o){var c=Vn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},_d(i)?X0(a,o):(o=Yf(i,a,o,c),o!==null&&(En(o,i,c),W0(o,a,c)))}function Q0(i,a,o){var c=Vn();ic(i,a,o,c)}function ic(i,a,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(_d(i))X0(a,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var b=a.lastRenderedState,x=g(b,o);if(f.hasEagerState=!0,f.eagerState=x,Mn(x,b))return nd(i,a,f,0),rt===null&&td(),!1}catch{}finally{}if(o=Yf(i,a,f,c),o!==null)return En(o,i,c),W0(o,a,c),!0}return!1}function _m(i,a,o,c){if(c={lane:2,revertLane:lp(),action:c,hasEagerState:!1,eagerState:null,next:null},_d(i)){if(a)throw Error(r(479))}else a=Yf(i,o,c,2),a!==null&&En(a,i,2)}function _d(i){var a=i.alternate;return i===Le||a!==null&&a===Le}function X0(i,a){Io=hd=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function W0(i,a,o){if((o&4194176)!==0){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Kr(i,o)}}var Pi={readContext:ln,use:pd,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};Pi.useCacheRefresh=Tt,Pi.useMemoCache=Tt,Pi.useHostTransitionStatus=Tt,Pi.useFormState=Tt,Pi.useActionState=Tt,Pi.useOptimistic=Tt;var bs={readContext:ln,use:pd,useCallback:function(i,a){return xn().memoizedState=[i,a===void 0?null:a],i},useContext:ln,useEffect:P0,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,yd(4194308,4,V0.bind(null,a,i),o)},useLayoutEffect:function(i,a){return yd(4194308,4,i,a)},useInsertionEffect:function(i,a){yd(4,2,i,a)},useMemo:function(i,a){var o=xn();a=a===void 0?null:a;var c=i();if(Es){wi(!0);try{i()}finally{wi(!1)}}return o.memoizedState=[c,a],c},useReducer:function(i,a,o){var c=xn();if(o!==void 0){var f=o(a);if(Es){wi(!0);try{o(a)}finally{wi(!1)}}}else f=a;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=Ox.bind(null,Le,i),[c.memoizedState,i]},useRef:function(i){var a=xn();return i={current:i},a.memoizedState=i},useState:function(i){i=hm(i);var a=i.queue,o=Q0.bind(null,Le,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:pm,useDeferredValue:function(i,a){var o=xn();return gm(o,i,a)},useTransition:function(){var i=hm(!1);return i=H0.bind(null,Le,i.queue,!0,!1),xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var c=Le,f=xn();if(Xe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=a(),rt===null)throw Error(r(349));(Ke&60)!==0||E0(c,a,o)}f.memoizedState=o;var g={value:o,getSnapshot:a};return f.queue=g,P0(T0.bind(null,c,g,i),[i]),c.flags|=2048,jo(9,b0.bind(null,c,g,o,a),{destroy:void 0},null),o},useId:function(){var i=xn(),a=rt.identifierPrefix;if(Xe){var o=dr,c=ur;o=(c&~(1<<32-gn(c)-1)).toString(32)+o,a=":"+a+"R"+o,o=fd++,0<o&&(a+="H"+o.toString(32)),a+=":"}else o=Nx++,a=":"+a+"r"+o.toString(32)+":";return i.memoizedState=a},useCacheRefresh:function(){return xn().memoizedState=jx.bind(null,Le)}};bs.useMemoCache=cm,bs.useHostTransitionStatus=vm,bs.useFormState=D0,bs.useActionState=D0,bs.useOptimistic=function(i){var a=xn();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=_m.bind(null,Le,!0,o),o.dispatch=a,[i,a]};var oa={readContext:ln,use:pd,useCallback:F0,useContext:ln,useEffect:mm,useImperativeHandle:z0,useInsertionEffect:L0,useLayoutEffect:U0,useMemo:B0,useReducer:gd,useRef:M0,useState:function(){return gd(fr)},useDebugValue:pm,useDeferredValue:function(i,a){var o=Nt();return q0(o,tt.memoizedState,i,a)},useTransition:function(){var i=gd(fr)[0],a=Nt().memoizedState;return[typeof i=="boolean"?i:nc(i),a]},useSyncExternalStore:_0,useId:K0};oa.useCacheRefresh=Y0,oa.useMemoCache=cm,oa.useHostTransitionStatus=vm,oa.useFormState=j0,oa.useActionState=j0,oa.useOptimistic=function(i,a){var o=Nt();return S0(o,tt,i,a)};var Ts={readContext:ln,use:pd,useCallback:F0,useContext:ln,useEffect:mm,useImperativeHandle:z0,useInsertionEffect:L0,useLayoutEffect:U0,useMemo:B0,useReducer:dm,useRef:M0,useState:function(){return dm(fr)},useDebugValue:pm,useDeferredValue:function(i,a){var o=Nt();return tt===null?gm(o,i,a):q0(o,tt.memoizedState,i,a)},useTransition:function(){var i=dm(fr)[0],a=Nt().memoizedState;return[typeof i=="boolean"?i:nc(i),a]},useSyncExternalStore:_0,useId:K0};Ts.useCacheRefresh=Y0,Ts.useMemoCache=cm,Ts.useHostTransitionStatus=vm,Ts.useFormState=k0,Ts.useActionState=k0,Ts.useOptimistic=function(i,a){var o=Nt();return tt!==null?S0(o,tt,i,a):(o.baseState=i,[i,o.queue.dispatch])};function Em(i,a,o,c){a=i.memoizedState,o=o(c,a),o=o==null?a:I({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var bm={isMounted:function(i){return(i=i._reactInternals)?ue(i)===i:!1},enqueueSetState:function(i,a,o){i=i._reactInternals;var c=Vn(),f=ua(c);f.payload=a,o!=null&&(f.callback=o),a=da(i,f,c),a!==null&&(En(a,i,c),sc(a,i,c))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var c=Vn(),f=ua(c);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=da(i,f,c),a!==null&&(En(a,i,c),sc(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=Vn(),c=ua(o);c.tag=2,a!=null&&(c.callback=a),a=da(i,c,o),a!==null&&(En(a,i,o),sc(a,i,o))}};function Z0(i,a,o,c,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):a.prototype&&a.prototype.isPureReactComponent?!Hl(o,c)||!Hl(f,g):!0}function J0(i,a,o,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==i&&bm.enqueueReplaceState(a,a.state,null)}function ws(i,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(i=i.defaultProps){o===a&&(o=I({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Ed=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function e_(i){Ed(i)}function t_(i){console.error(i)}function n_(i){Ed(i)}function bd(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function i_(i,a,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tm(i,a,o){return o=ua(o),o.tag=3,o.payload={element:null},o.callback=function(){bd(i,a)},o}function r_(i){return i=ua(i),i.tag=3,i}function a_(i,a,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;i.payload=function(){return f(g)},i.callback=function(){i_(a,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){i_(a,o,c),typeof f!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function kx(i,a,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&ac(a,o,f,!0),o=ni.current,o!==null){switch(o.tag){case 13:return Mi===null?ip():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Zf?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),ap(i,c,f)),!1;case 22:return o.flags|=65536,c===Zf?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),ap(i,c,f)),!1}throw Error(r(435,o.tag))}return ap(i,c,f),ip(),!1}if(Xe)return a=ni.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==Wf&&(i=Error(r(422),{cause:c}),Yl(Jn(i,o)))):(c!==Wf&&(a=Error(r(423),{cause:c}),Yl(Jn(a,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Jn(c,o),f=Tm(i.stateNode,c,f),Lm(i,f),yt!==4&&(yt=2)),!1;var g=Error(r(520),{cause:c});if(g=Jn(g,o),mc===null?mc=[g]:mc.push(g),yt!==4&&(yt=2),a===null)return!0;c=Jn(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Tm(o.stateNode,c,i),Lm(o,i),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ya===null||!ya.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=r_(f),a_(f,i,o,c),Lm(o,f),!1}o=o.return}while(o!==null);return!1}var s_=Error(r(461)),Gt=!1;function en(i,a,o,c){a.child=i===null?d0(a,null,o,c):vs(a,i.child,o,c)}function o_(i,a,o,c,f){o=o.render;var g=a.ref;if("ref"in c){var b={};for(var x in c)x!=="ref"&&(b[x]=c[x])}else b=c;return Ss(a),c=am(i,a,o,b,g,f),x=sm(),i!==null&&!Gt?(om(i,a,f),mr(i,a,f)):(Xe&&x&&Qf(a),a.flags|=1,en(i,a,c,f),a.child)}function l_(i,a,o,c,f){if(i===null){var g=o.type;return typeof g=="function"&&!Gm(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,c_(i,a,g,c,f)):(i=xd(o.type,null,c,a,a.mode,f),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!Dm(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(b,c)&&i.ref===a.ref)return mr(i,a,f)}return a.flags|=1,i=pa(g,c),i.ref=a.ref,i.return=a,a.child=i}function c_(i,a,o,c,f){if(i!==null){var g=i.memoizedProps;if(Hl(g,c)&&i.ref===a.ref)if(Gt=!1,a.pendingProps=c=g,Dm(i,f))(i.flags&131072)!==0&&(Gt=!0);else return a.lanes=i.lanes,mr(i,a,f)}return wm(i,a,o,c,f)}function u_(i,a,o){var c=a.pendingProps,f=c.children,g=(a.stateNode._pendingVisibility&2)!==0,b=i!==null?i.memoizedState:null;if(rc(i,a),c.mode==="hidden"||g){if((a.flags&128)!==0){if(c=b!==null?b.baseLanes|o:o,i!==null){for(f=a.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return d_(i,a,c,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&dd(a,b!==null?b.cachePool:null),b!==null?h0(a,b):Jf(),f0(a);else return a.lanes=a.childLanes=536870912,d_(i,a,b!==null?b.baseLanes|o:o,o)}else b!==null?(dd(a,b.cachePool),h0(a,b),aa(),a.memoizedState=null):(i!==null&&dd(a,null),Jf(),aa());return en(i,a,f,o),a.child}function d_(i,a,o,c){var f=im();return f=f===null?null:{parent:Ut._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},i!==null&&dd(a,null),Jf(),f0(a),i!==null&&ac(i,a,c,!0),null}function rc(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(a.flags|=2097664)}}function wm(i,a,o,c,f){return Ss(a),o=am(i,a,o,c,void 0,f),c=sm(),i!==null&&!Gt?(om(i,a,f),mr(i,a,f)):(Xe&&c&&Qf(a),a.flags|=1,en(i,a,o,f),a.child)}function h_(i,a,o,c,f,g){return Ss(a),a.updateQueue=null,o=v0(a,c,o,f),y0(i),c=sm(),i!==null&&!Gt?(om(i,a,g),mr(i,a,g)):(Xe&&c&&Qf(a),a.flags|=1,en(i,a,o,g),a.child)}function f_(i,a,o,c,f){if(Ss(a),a.stateNode===null){var g=wo,b=o.contextType;typeof b=="object"&&b!==null&&(g=ln(b)),g=new o(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=bm,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},Mm(a),b=o.contextType,g.context=typeof b=="object"&&b!==null?ln(b):wo,g.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Em(a,o,b,c),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&bm.enqueueReplaceState(g,g.state,null),lc(a,c,g,f),oc(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){g=a.stateNode;var x=a.memoizedProps,M=ws(o,x);g.props=M;var H=g.context,te=o.contextType;b=wo,typeof te=="object"&&te!==null&&(b=ln(te));var le=o.getDerivedStateFromProps;te=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||H!==b)&&J0(a,g,c,b),ca=!1;var X=a.memoizedState;g.state=X,lc(a,c,g,f),oc(),H=a.memoizedState,x||X!==H||ca?(typeof le=="function"&&(Em(a,o,le,c),H=a.memoizedState),(M=ca||Z0(a,o,M,c,X,H,b))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=H),g.props=c,g.state=H,g.context=b,c=M):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,Pm(i,a),b=a.memoizedProps,te=ws(o,b),g.props=te,le=a.pendingProps,X=g.context,H=o.contextType,M=wo,typeof H=="object"&&H!==null&&(M=ln(H)),x=o.getDerivedStateFromProps,(H=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==le||X!==M)&&J0(a,g,c,M),ca=!1,X=a.memoizedState,g.state=X,lc(a,c,g,f),oc();var J=a.memoizedState;b!==le||X!==J||ca||i!==null&&i.dependencies!==null&&Td(i.dependencies)?(typeof x=="function"&&(Em(a,o,x,c),J=a.memoizedState),(te=ca||Z0(a,o,te,c,X,J,M)||i!==null&&i.dependencies!==null&&Td(i.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,M)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=J),g.props=c,g.state=J,g.context=M,c=te):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),c=!1)}return g=c,rc(i,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&c?(a.child=vs(a,i.child,null,f),a.child=vs(a,null,o,f)):en(i,a,o,f),a.memoizedState=g.state,i=a.child):i=mr(i,a,f),i}function m_(i,a,o,c){return Kl(),a.flags|=256,en(i,a,o,c),a.child}var Am={dehydrated:null,treeContext:null,retryLane:0};function Sm(i){return{baseLanes:i,cachePool:g0()}}function xm(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=si),i}function p_(i,a,o){var c=a.pendingProps,f=!1,g=(a.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Lt.current&2)!==0),b&&(f=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,i===null){if(Xe){if(f?ra(a):aa(),Xe){var x=Jt,M;if(M=x){e:{for(M=x,x=ki;M.nodeType!==8;){if(!x){x=null;break e}if(M=vi(M.nextSibling),M===null){x=null;break e}}x=M}x!==null?(a.memoizedState={dehydrated:x,treeContext:ps!==null?{id:ur,overflow:dr}:null,retryLane:536870912},M=ai(18,null,null,0),M.stateNode=x,M.return=a,a.child=M,_n=a,Jt=null,M=!0):M=!1}M||ys(a)}if(x=a.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return x.data==="$!"?a.lanes=16:a.lanes=536870912,null;hr(a)}return x=c.children,c=c.fallback,f?(aa(),f=a.mode,x=Rm({mode:"hidden",children:x},f),c=Ns(c,f,o,null),x.return=a,c.return=a,x.sibling=c,a.child=x,f=a.child,f.memoizedState=Sm(o),f.childLanes=xm(i,b,o),a.memoizedState=Am,c):(ra(a),Nm(a,x))}if(M=i.memoizedState,M!==null&&(x=M.dehydrated,x!==null)){if(g)a.flags&256?(ra(a),a.flags&=-257,a=Cm(i,a,o)):a.memoizedState!==null?(aa(),a.child=i.child,a.flags|=128,a=null):(aa(),f=c.fallback,x=a.mode,c=Rm({mode:"visible",children:c.children},x),f=Ns(f,x,o,null),f.flags|=2,c.return=a,f.return=a,c.sibling=f,a.child=c,vs(a,i.child,null,o),c=a.child,c.memoizedState=Sm(o),c.childLanes=xm(i,b,o),a.memoizedState=Am,a=f);else if(ra(a),x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var H=b.dgst;b=H,c=Error(r(419)),c.stack="",c.digest=b,Yl({value:c,source:null,stack:null}),a=Cm(i,a,o)}else if(Gt||ac(i,a,o,!1),b=(o&i.childLanes)!==0,Gt||b){if(b=rt,b!==null){if(c=o&-o,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(b.suspendedLanes|o))!==0?0:c,c!==0&&c!==M.retryLane)throw M.retryLane=c,ia(i,c),En(b,i,c),s_}x.data==="$?"||ip(),a=Cm(i,a,o)}else x.data==="$?"?(a.flags|=128,a.child=i.child,a=Qx.bind(null,i),x._reactRetry=a,a=null):(i=M.treeContext,Jt=vi(x.nextSibling),_n=a,Xe=!0,gi=null,ki=!1,i!==null&&(ei[ti++]=ur,ei[ti++]=dr,ei[ti++]=ps,ur=i.id,dr=i.overflow,ps=a),a=Nm(a,c.children),a.flags|=4096);return a}return f?(aa(),f=c.fallback,x=a.mode,M=i.child,H=M.sibling,c=pa(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&31457280,H!==null?f=pa(H,f):(f=Ns(f,x,o,null),f.flags|=2),f.return=a,c.return=a,c.sibling=f,a.child=c,c=f,f=a.child,x=i.child.memoizedState,x===null?x=Sm(o):(M=x.cachePool,M!==null?(H=Ut._currentValue,M=M.parent!==H?{parent:H,pool:H}:M):M=g0(),x={baseLanes:x.baseLanes|o,cachePool:M}),f.memoizedState=x,f.childLanes=xm(i,b,o),a.memoizedState=Am,c):(ra(a),o=i.child,i=o.sibling,o=pa(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,i!==null&&(b=a.deletions,b===null?(a.deletions=[i],a.flags|=16):b.push(i)),a.child=o,a.memoizedState=null,o)}function Nm(i,a){return a=Rm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Rm(i,a){return F_(i,a,0,null)}function Cm(i,a,o){return vs(a,i.child,null,o),i=Nm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function g_(i,a,o){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Om(i.return,a,o)}function Im(i,a,o,c,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=f)}function y_(i,a,o){var c=a.pendingProps,f=c.revealOrder,g=c.tail;if(en(i,a,c.children,o),c=Lt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&g_(i,o,a);else if(i.tag===19)g_(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(Ze(Lt,c),f){case"forwards":for(o=a.child,f=null;o!==null;)i=o.alternate,i!==null&&ud(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),Im(a,!1,f,o,g);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(i=f.alternate,i!==null&&ud(i)===null){a.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Im(a,!0,o,null,g);break;case"together":Im(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function mr(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),ga|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(ac(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,o=pa(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=pa(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function Dm(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Td(i)))}function Mx(i,a,o){switch(a.tag){case 3:Fr(a,a.stateNode.containerInfo),la(a,Ut,i.memoizedState.cache),Kl();break;case 27:case 5:wl(a);break;case 4:Fr(a,a.stateNode.containerInfo);break;case 10:la(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ra(a),a.flags|=128,null):(o&a.child.childLanes)!==0?p_(i,a,o):(ra(a),i=mr(i,a,o),i!==null?i.sibling:null);ra(a);break;case 19:var f=(i.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(ac(i,a,o,!1),c=(o&a.childLanes)!==0),f){if(c)return y_(i,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ze(Lt,Lt.current),c)break;return null;case 22:case 23:return a.lanes=0,u_(i,a,o);case 24:la(a,Ut,i.memoizedState.cache)}return mr(i,a,o)}function v_(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)Gt=!0;else{if(!Dm(i,o)&&(a.flags&128)===0)return Gt=!1,Mx(i,a,o);Gt=(i.flags&131072)!==0}else Gt=!1,Xe&&(a.flags&1048576)!==0&&n0(a,ad,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,f=c._init;if(c=f(c._payload),a.type=c,typeof c=="function")Gm(c)?(i=ws(c,i),a.tag=1,a=f_(null,a,c,i,o)):(a.tag=0,a=wm(null,a,c,i,o));else{if(c!=null){if(f=c.$$typeof,f===C){a.tag=11,a=o_(null,a,c,i,o);break e}else if(f===F){a.tag=14,a=l_(null,a,c,i,o);break e}}throw a=S(c)||c,Error(r(306,a,""))}}return a;case 0:return wm(i,a,a.type,a.pendingProps,o);case 1:return c=a.type,f=ws(c,a.pendingProps),f_(i,a,c,f,o);case 3:e:{if(Fr(a,a.stateNode.containerInfo),i===null)throw Error(r(387));var g=a.pendingProps;f=a.memoizedState,c=f.element,Pm(i,a),lc(a,g,null,o);var b=a.memoizedState;if(g=b.cache,la(a,Ut,g),g!==f.cache&&km(a,[Ut],o,!0),oc(),g=b.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=m_(i,a,g,o);break e}else if(g!==c){c=Jn(Error(r(424)),a),Yl(c),a=m_(i,a,g,o);break e}else for(Jt=vi(a.stateNode.containerInfo.firstChild),_n=a,Xe=!0,gi=null,ki=!0,o=d0(a,null,g,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Kl(),g===c){a=mr(i,a,o);break e}en(i,a,g,o)}a=a.child}return a;case 26:return rc(i,a),i===null?(o=b1(a.type,null,a.pendingProps,null))?a.memoizedState=o:Xe||(o=a.type,i=a.pendingProps,c=Ud(Gn.current).createElement(o),c[Bt]=a,c[kt]=i,tn(c,o,i),ut(c),a.stateNode=c):a.memoizedState=b1(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return wl(a),i===null&&Xe&&(c=a.stateNode=v1(a.type,a.pendingProps,Gn.current),_n=a,ki=!0,Jt=vi(c.firstChild)),c=a.pendingProps.children,i!==null||Xe?en(i,a,c,o):a.child=vs(a,null,c,o),rc(i,a),a.child;case 5:return i===null&&Xe&&((f=c=Jt)&&(c=dN(c,a.type,a.pendingProps,ki),c!==null?(a.stateNode=c,_n=a,Jt=vi(c.firstChild),ki=!1,f=!0):f=!1),f||ys(a)),wl(a),f=a.type,g=a.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,yp(f,g)?c=null:b!==null&&yp(f,b)&&(a.flags|=32),a.memoizedState!==null&&(f=am(i,a,Rx,null,null,o),wc._currentValue=f),rc(i,a),en(i,a,c,o),a.child;case 6:return i===null&&Xe&&((i=o=Jt)&&(o=hN(o,a.pendingProps,ki),o!==null?(a.stateNode=o,_n=a,Jt=null,i=!0):i=!1),i||ys(a)),null;case 13:return p_(i,a,o);case 4:return Fr(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=vs(a,null,c,o):en(i,a,c,o),a.child;case 11:return o_(i,a,a.type,a.pendingProps,o);case 7:return en(i,a,a.pendingProps,o),a.child;case 8:return en(i,a,a.pendingProps.children,o),a.child;case 12:return en(i,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,la(a,a.type,c.value),en(i,a,c.children,o),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,Ss(a),f=ln(f),c=c(f),a.flags|=1,en(i,a,c,o),a.child;case 14:return l_(i,a,a.type,a.pendingProps,o);case 15:return c_(i,a,a.type,a.pendingProps,o);case 19:return y_(i,a,o);case 22:return u_(i,a,o);case 24:return Ss(a),c=ln(Ut),i===null?(f=im(),f===null&&(f=rt,g=tm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),a.memoizedState={parent:c,cache:f},Mm(a),la(a,Ut,f)):((i.lanes&o)!==0&&(Pm(i,a),lc(a,null,null,o),oc()),f=i.memoizedState,g=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),la(a,Ut,c)):(c=g.cache,la(a,Ut,c),c!==f.cache&&km(a,[Ut],o,!0))),en(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var jm=ve(null),As=null,pr=null;function la(i,a,o){Ze(jm,a._currentValue),a._currentValue=o}function gr(i){i._currentValue=jm.current,De(jm)}function Om(i,a,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===o)break;i=i.return}}function km(i,a,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=f;for(var M=0;M<a.length;M++)if(x.context===a[M]){g.lanes|=o,x=g.alternate,x!==null&&(x.lanes|=o),Om(g.return,o,i),c||(b=null);break e}g=x.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Om(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function ac(i,a,o,c){i=null;for(var f=a,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=f.type;Mn(f.pendingProps.value,b.value)||(i!==null?i.push(x):i=[x])}}else if(f===zr.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(wc):i=[wc])}f=f.return}i!==null&&km(a,i,o,c),a.flags|=262144}function Td(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ss(i){As=i,pr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ln(i){return __(As,i)}function wd(i,a){return As===null&&Ss(i),__(i,a)}function __(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},pr===null){if(i===null)throw Error(r(308));pr=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else pr=pr.next=a;return o}var ca=!1;function Mm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ua(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function da(i,a,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ht&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=id(i),e0(i,null,o),a}return nd(i,c,a,o),id(i)}function sc(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194176)!==0)){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Kr(i,o)}}function Lm(i,a){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=a:g=g.next=a}else f=g=a;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var Um=!1;function oc(){if(Um){var i=Co;if(i!==null)throw i}}function lc(i,a,o,c){Um=!1;var f=i.updateQueue;ca=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var M=x,H=M.next;M.next=null,b===null?g=H:b.next=H,b=M;var te=i.alternate;te!==null&&(te=te.updateQueue,x=te.lastBaseUpdate,x!==b&&(x===null?te.firstBaseUpdate=H:x.next=H,te.lastBaseUpdate=M))}if(g!==null){var le=f.baseState;b=0,te=H=M=null,x=g;do{var X=x.lane&-536870913,J=X!==x.lane;if(J?(Ke&X)===X:(c&X)===X){X!==0&&X===Ro&&(Um=!0),te!==null&&(te=te.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var we=i,ke=x;X=a;var vt=o;switch(ke.tag){case 1:if(we=ke.payload,typeof we=="function"){le=we.call(vt,le,X);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ke.payload,X=typeof we=="function"?we.call(vt,le,X):we,X==null)break e;le=I({},le,X);break e;case 2:ca=!0}}X=x.callback,X!==null&&(i.flags|=64,J&&(i.flags|=8192),J=f.callbacks,J===null?f.callbacks=[X]:J.push(X))}else J={lane:X,tag:x.tag,payload:x.payload,callback:x.callback,next:null},te===null?(H=te=J,M=le):te=te.next=J,b|=X;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;J=x,x=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);te===null&&(M=le),f.baseState=M,f.firstBaseUpdate=H,f.lastBaseUpdate=te,g===null&&(f.shared.lanes=0),ga|=b,i.lanes=b,i.memoizedState=le}}function E_(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function b_(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)E_(o[i],a)}function cc(i,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==f)}}catch(x){it(a,a.return,x)}}function ha(i,a,o){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&i)===i){var b=c.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,f=a;var M=o;try{x()}catch(H){it(f,M,H)}}}c=c.next}while(c!==g)}}catch(H){it(a,a.return,H)}}function T_(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{b_(a,o)}catch(c){it(i,i.return,c)}}}function w_(i,a,o){o.props=ws(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){it(i,a,c)}}function xs(i,a){try{var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var f=c;break;default:f=c}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(g){it(i,a,g)}}function Pn(i,a){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){it(i,a,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){it(i,a,f)}else o.current=null}function A_(i){var a=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){it(i,i.return,f)}}function S_(i,a,o){try{var c=i.stateNode;sN(c,i.type,o,a),c[kt]=a}catch(f){it(i,i.return,f)}}function x_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Vm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||x_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zm(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.nodeType===8?o.parentNode.insertBefore(i,a):o.insertBefore(i,a):(o.nodeType===8?(a=o.parentNode,a.insertBefore(i,o)):(a=o,a.appendChild(i)),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Ld));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(zm(i,a,o),i=i.sibling;i!==null;)zm(i,a,o),i=i.sibling}function Ad(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Ad(i,a,o),i=i.sibling;i!==null;)Ad(i,a,o),i=i.sibling}var yr=!1,gt=!1,Fm=!1,N_=typeof WeakSet=="function"?WeakSet:Set,$t=null,R_=!1;function Px(i,a){if(i=i.containerInfo,pp=Hd,i=Gv(i),qf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,x=-1,M=-1,H=0,te=0,le=i,X=null;t:for(;;){for(var J;le!==o||f!==0&&le.nodeType!==3||(x=b+f),le!==g||c!==0&&le.nodeType!==3||(M=b+c),le.nodeType===3&&(b+=le.nodeValue.length),(J=le.firstChild)!==null;)X=le,le=J;for(;;){if(le===i)break t;if(X===o&&++H===f&&(x=b),X===g&&++te===c&&(M=b),(J=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=J}o=x===-1||M===-1?null:{start:x,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(gp={focusedElem:i,selectionRange:o},Hd=!1,$t=a;$t!==null;)if(a=$t,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,$t=i;else for(;$t!==null;){switch(a=$t,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=a,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var we=ws(o.type,f,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(we,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ke){it(o,o.return,ke)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)Ep(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ep(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,$t=i;break}$t=a.return}return we=R_,R_=!1,we}function C_(i,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:_r(i,o),c&4&&cc(5,o);break;case 1:if(_r(i,o),c&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(x){it(o,o.return,x)}else{var f=ws(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(f,a,i.__reactInternalSnapshotBeforeUpdate)}catch(x){it(o,o.return,x)}}c&64&&T_(o),c&512&&xs(o,o.return);break;case 3:if(_r(i,o),c&64&&(c=o.updateQueue,c!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{b_(c,i)}catch(x){it(o,o.return,x)}}break;case 26:_r(i,o),c&512&&xs(o,o.return);break;case 27:case 5:_r(i,o),a===null&&c&4&&A_(o),c&512&&xs(o,o.return);break;case 12:_r(i,o);break;case 13:_r(i,o),c&4&&j_(i,o);break;case 22:if(f=o.memoizedState!==null||yr,!f){a=a!==null&&a.memoizedState!==null||gt;var g=yr,b=gt;yr=f,(gt=a)&&!b?fa(i,o,(o.subtreeFlags&8772)!==0):_r(i,o),yr=g,gt=b}c&512&&(o.memoizedProps.mode==="manual"?xs(o,o.return):Pn(o,o.return));break;default:_r(i,o)}}function I_(i){var a=i.alternate;a!==null&&(i.alternate=null,I_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ns(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,Ln=!1;function vr(i,a,o){for(o=o.child;o!==null;)D_(i,a,o),o=o.sibling}function D_(i,a,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Br,o)}catch{}switch(o.tag){case 26:gt||Pn(o,a),vr(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gt||Pn(o,a);var c=Rt,f=Ln;for(Rt=o.stateNode,vr(i,a,o),o=o.stateNode,a=o.attributes;a.length;)o.removeAttributeNode(a[0]);ns(o),Rt=c,Ln=f;break;case 5:gt||Pn(o,a);case 6:f=Rt;var g=Ln;if(Rt=null,vr(i,a,o),Rt=f,Ln=g,Rt!==null)if(Ln)try{i=Rt,c=o.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(b){it(o,a,b)}else try{Rt.removeChild(o.stateNode)}catch(b){it(o,a,b)}break;case 18:Rt!==null&&(Ln?(a=Rt,o=o.stateNode,a.nodeType===8?_p(a.parentNode,o):a.nodeType===1&&_p(a,o),Nc(a)):_p(Rt,o.stateNode));break;case 4:c=Rt,f=Ln,Rt=o.stateNode.containerInfo,Ln=!0,vr(i,a,o),Rt=c,Ln=f;break;case 0:case 11:case 14:case 15:gt||ha(2,o,a),gt||ha(4,o,a),vr(i,a,o);break;case 1:gt||(Pn(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&w_(o,a,c)),vr(i,a,o);break;case 21:vr(i,a,o);break;case 22:gt||Pn(o,a),gt=(c=gt)||o.memoizedState!==null,vr(i,a,o),gt=c;break;default:vr(i,a,o)}}function j_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nc(i)}catch(o){it(a,a.return,o)}}function Lx(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new N_),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new N_),a;default:throw Error(r(435,i.tag))}}function Bm(i,a){var o=Lx(i);a.forEach(function(c){var f=Xx.bind(null,i,c);o.has(c)||(o.add(c),c.then(f,f))})}function ii(i,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=i,b=a,x=b;e:for(;x!==null;){switch(x.tag){case 27:case 5:Rt=x.stateNode,Ln=!1;break e;case 3:Rt=x.stateNode.containerInfo,Ln=!0;break e;case 4:Rt=x.stateNode.containerInfo,Ln=!0;break e}x=x.return}if(Rt===null)throw Error(r(160));D_(g,b,f),Rt=null,Ln=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)O_(a,i),a=a.sibling}var yi=null;function O_(i,a){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ii(a,i),ri(i),c&4&&(ha(3,i,i.return),cc(3,i),ha(5,i,i.return));break;case 1:ii(a,i),ri(i),c&512&&(gt||o===null||Pn(o,o.return)),c&64&&yr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=yi;if(ii(a,i),ri(i),c&512&&(gt||o===null||Pn(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Qr]||g[Bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),tn(g,c,o),g[Bt]=i,ut(g),c=g;break e;case"link":var b=A1("link","href",f).get(c+(o.href||""));if(b){for(var x=0;x<b.length;x++)if(g=b[x],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(x,1);break t}}g=f.createElement(c),tn(g,c,o),f.head.appendChild(g);break;case"meta":if(b=A1("meta","content",f).get(c+(o.content||""))){for(x=0;x<b.length;x++)if(g=b[x],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(x,1);break t}}g=f.createElement(c),tn(g,c,o),f.head.appendChild(g);break;default:throw Error(r(468,c))}g[Bt]=i,ut(g),c=g}i.stateNode=c}else S1(f,i.type,i.stateNode);else i.stateNode=w1(f,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?S1(f,i.type,i.stateNode):w1(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&S_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){f=i.stateNode,g=i.memoizedProps;try{for(var M=f.firstChild;M;){var H=M.nextSibling,te=M.nodeName;M[Qr]||te==="HEAD"||te==="BODY"||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&M.rel.toLowerCase()==="stylesheet"||f.removeChild(M),M=H}for(var le=i.type,X=f.attributes;X.length;)f.removeAttributeNode(X[0]);tn(f,le,g),f[Bt]=i,f[kt]=g}catch(we){it(i,i.return,we)}}case 5:if(ii(a,i),ri(i),c&512&&(gt||o===null||Pn(o,o.return)),i.flags&32){f=i.stateNode;try{Yn(f,"")}catch(we){it(i,i.return,we)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,S_(i,f,o!==null?o.memoizedProps:f)),c&1024&&(Fm=!0);break;case 6:if(ii(a,i),ri(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(we){it(i,i.return,we)}}break;case 3:if(Fd=null,f=yi,yi=Vd(a.containerInfo),ii(a,i),yi=f,ri(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Nc(a.containerInfo)}catch(we){it(i,i.return,we)}Fm&&(Fm=!1,k_(i));break;case 4:c=yi,yi=Vd(i.stateNode.containerInfo),ii(a,i),ri(i),yi=c;break;case 12:ii(a,i),ri(i);break;case 13:ii(a,i),ri(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wm=An()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bm(i,c)));break;case 22:if(c&512&&(gt||o===null||Pn(o,o.return)),M=i.memoizedState!==null,H=o!==null&&o.memoizedState!==null,te=yr,le=gt,yr=te||M,gt=le||H,ii(a,i),gt=le,yr=te,ri(i),a=i.stateNode,a._current=i,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=M?a._visibility&-2:a._visibility|1,M&&(a=yr||gt,o===null||H||a||Oo(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,a=i;;){if(a.tag===5||a.tag===26||a.tag===27){if(o===null){H=o=a;try{if(f=H.stateNode,M)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=H.stateNode,x=H.memoizedProps.style;var J=x!=null&&x.hasOwnProperty("display")?x.display:null;b.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(we){it(H,H.return,we)}}}else if(a.tag===6){if(o===null){H=a;try{H.stateNode.nodeValue=M?"":H.memoizedProps}catch(we){it(H,H.return,we)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Bm(i,o))));break;case 19:ii(a,i),ri(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bm(i,c)));break;case 21:break;default:ii(a,i),ri(i)}}function ri(i){var a=i.flags;if(a&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(x_(o)){var c=o;break e}o=o.return}throw Error(r(160))}switch(c.tag){case 27:var f=c.stateNode,g=Vm(i);Ad(i,g,f);break;case 5:var b=c.stateNode;c.flags&32&&(Yn(b,""),c.flags&=-33);var x=Vm(i);Ad(i,x,b);break;case 3:case 4:var M=c.stateNode.containerInfo,H=Vm(i);zm(i,H,M);break;default:throw Error(r(161))}}}catch(te){it(i,i.return,te)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function k_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;k_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function _r(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)C_(i,a.alternate,a),a=a.sibling}function Oo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ha(4,a,a.return),Oo(a);break;case 1:Pn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&w_(a,a.return,o),Oo(a);break;case 26:case 27:case 5:Pn(a,a.return),Oo(a);break;case 22:Pn(a,a.return),a.memoizedState===null&&Oo(a);break;default:Oo(a)}i=i.sibling}}function fa(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=i,g=a,b=g.flags;switch(g.tag){case 0:case 11:case 15:fa(f,g,o),cc(4,g);break;case 1:if(fa(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){it(c,c.return,H)}if(c=g,f=c.updateQueue,f!==null){var x=c.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)E_(M[f],x)}catch(H){it(c,c.return,H)}}o&&b&64&&T_(g),xs(g,g.return);break;case 26:case 27:case 5:fa(f,g,o),o&&c===null&&b&4&&A_(g),xs(g,g.return);break;case 12:fa(f,g,o);break;case 13:fa(f,g,o),o&&b&4&&j_(f,g);break;case 22:g.memoizedState===null&&fa(f,g,o),xs(g,g.return);break;default:fa(f,g,o)}a=a.sibling}}function qm(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Jl(o))}function Hm(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Jl(i))}function ma(i,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)M_(i,a,o,c),a=a.sibling}function M_(i,a,o,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:ma(i,a,o,c),f&2048&&cc(9,a);break;case 3:ma(i,a,o,c),f&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Jl(i)));break;case 12:if(f&2048){ma(i,a,o,c),i=a.stateNode;try{var g=a.memoizedProps,b=g.id,x=g.onPostCommit;typeof x=="function"&&x(b,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){it(a,a.return,M)}}else ma(i,a,o,c);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?ma(i,a,o,c):uc(i,a):g._visibility&4?ma(i,a,o,c):(g._visibility|=4,ko(i,a,o,c,(a.subtreeFlags&10256)!==0)),f&2048&&qm(a.alternate,a);break;case 24:ma(i,a,o,c),f&2048&&Hm(a.alternate,a);break;default:ma(i,a,o,c)}}function ko(i,a,o,c,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,b=a,x=o,M=c,H=b.flags;switch(b.tag){case 0:case 11:case 15:ko(g,b,x,M,f),cc(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&4?ko(g,b,x,M,f):uc(g,b):(te._visibility|=4,ko(g,b,x,M,f)),f&&H&2048&&qm(b.alternate,b);break;case 24:ko(g,b,x,M,f),f&&H&2048&&Hm(b.alternate,b);break;default:ko(g,b,x,M,f)}a=a.sibling}}function uc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,c=a,f=c.flags;switch(c.tag){case 22:uc(o,c),f&2048&&qm(c.alternate,c);break;case 24:uc(o,c),f&2048&&Hm(c.alternate,c);break;default:uc(o,c)}a=a.sibling}}var dc=8192;function Mo(i){if(i.subtreeFlags&dc)for(i=i.child;i!==null;)P_(i),i=i.sibling}function P_(i){switch(i.tag){case 26:Mo(i),i.flags&dc&&i.memoizedState!==null&&SN(yi,i.memoizedState,i.memoizedProps);break;case 5:Mo(i);break;case 3:case 4:var a=yi;yi=Vd(i.stateNode.containerInfo),Mo(i),yi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=dc,dc=16777216,Mo(i),dc=a):Mo(i));break;default:Mo(i)}}function L_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function hc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];$t=c,V_(c,i)}L_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)U_(i),i=i.sibling}function U_(i){switch(i.tag){case 0:case 11:case 15:hc(i),i.flags&2048&&ha(9,i,i.return);break;case 3:hc(i);break;case 12:hc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&4&&(i.return===null||i.return.tag!==13)?(a._visibility&=-5,Sd(i)):hc(i);break;default:hc(i)}}function Sd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];$t=c,V_(c,i)}L_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ha(8,a,a.return),Sd(a);break;case 22:o=a.stateNode,o._visibility&4&&(o._visibility&=-5,Sd(a));break;default:Sd(a)}i=i.sibling}}function V_(i,a){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:ha(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Jl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$t=c;else e:for(o=i;$t!==null;){c=$t;var f=c.sibling,g=c.return;if(I_(c),c===o){$t=null;break e}if(f!==null){f.return=g,$t=f;break e}$t=g}}}function Ux(i,a,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(i,a,o,c){return new Ux(i,a,o,c)}function Gm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function pa(i,a){var o=i.alternate;return o===null?(o=ai(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function z_(i,a){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function xd(i,a,o,c,f,g){var b=0;if(c=i,typeof i=="function")Gm(i)&&(b=1);else if(typeof i=="string")b=wN(i,o,pn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case p:return Ns(o.children,f,g,a);case y:b=8,f|=24;break;case _:return i=ai(12,o,a,f|2),i.elementType=_,i.lanes=g,i;case B:return i=ai(13,o,a,f),i.elementType=B,i.lanes=g,i;case L:return i=ai(19,o,a,f),i.elementType=L,i.lanes=g,i;case G:return F_(o,f,g,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case w:case N:b=10;break e;case T:b=9;break e;case C:b=11;break e;case F:b=14;break e;case V:b=16,c=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=ai(b,o,a,f),a.elementType=i,a.type=c,a.lanes=g,a}function Ns(i,a,o,c){return i=ai(7,i,c,a),i.lanes=o,i}function F_(i,a,o,c){i=ai(22,i,c,a),i.elementType=G,i.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(r(456));if((f._pendingVisibility&2)===0){var b=ia(g,2);b!==null&&(f._pendingVisibility|=2,En(b,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(r(456));if((f._pendingVisibility&2)!==0){var b=ia(g,2);b!==null&&(f._pendingVisibility&=-3,En(b,g,2))}}};return i.stateNode=f,i}function $m(i,a,o){return i=ai(6,i,null,a),i.lanes=o,i}function Km(i,a,o){return a=ai(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function Er(i){i.flags|=4}function B_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!x1(a)){if(a=ni.current,a!==null&&((Ke&4194176)===Ke?Mi!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||a!==Mi))throw Xl=Zf,a0;i.flags|=8192}}function Nd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Gr():536870912,i.lanes|=a,Lo|=a)}function fc(i,a){if(!Xe)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function dt(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(a)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&31457280,c|=f.flags&31457280,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,a}function Vx(i,a,o){var c=a.pendingProps;switch(Xf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(a),null;case 1:return dt(a),null;case 3:return o=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),gr(Ut),Ji(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&($l(a)?Er(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gi!==null&&(tp(gi),gi=null))),dt(a),null;case 26:return o=a.memoizedState,i===null?(Er(a),o!==null?(dt(a),B_(a,o)):(dt(a),a.flags&=-16777217)):o?o!==i.memoizedState?(Er(a),dt(a),B_(a,o)):(dt(a),a.flags&=-16777217):(i.memoizedProps!==c&&Er(a),dt(a),a.flags&=-16777217),null;case 27:to(a),o=Gn.current;var f=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Er(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return dt(a),null}i=pn.current,$l(a)?i0(a):(i=v1(f,c,o),a.stateNode=i,Er(a))}return dt(a),null;case 5:if(to(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Er(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return dt(a),null}if(i=pn.current,$l(a))i0(a);else{switch(f=Ud(Gn.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}i[Bt]=a,i[kt]=c;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=i;e:switch(tn(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Er(a)}}return dt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Er(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Gn.current,$l(a)){if(i=a.stateNode,o=a.memoizedProps,c=null,f=_n,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[Bt]=a,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||h1(i.nodeValue,o)),i||ys(a)}else i=Ud(i).createTextNode(c),i[Bt]=a,a.stateNode=i}return dt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=$l(a),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Bt]=a}else Kl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),f=!1}else gi!==null&&(tp(gi),gi=null),f=!0;if(!f)return a.flags&256?(hr(a),a):(hr(a),null)}if(hr(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),Nd(a,a.updateQueue),dt(a),null;case 4:return Ji(),i===null&&hp(a.stateNode.containerInfo),dt(a),null;case 10:return gr(a.type),dt(a),null;case 19:if(De(Lt),f=a.memoizedState,f===null)return dt(a),null;if(c=(a.flags&128)!==0,g=f.rendering,g===null)if(c)fc(f,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=ud(i),g!==null){for(a.flags|=128,fc(f,!1),i=g.updateQueue,a.updateQueue=i,Nd(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)z_(o,i),o=o.sibling;return Ze(Lt,Lt.current&1|2),a.child}i=i.sibling}f.tail!==null&&An()>Rd&&(a.flags|=128,c=!0,fc(f,!1),a.lanes=4194304)}else{if(!c)if(i=ud(g),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Nd(a,i),fc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Xe)return dt(a),null}else 2*An()-f.renderingStartTime>Rd&&o!==536870912&&(a.flags|=128,c=!0,fc(f,!1),a.lanes=4194304);f.isBackwards?(g.sibling=a.child,a.child=g):(i=f.last,i!==null?i.sibling=g:a.child=g,f.last=g)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=An(),a.sibling=null,i=Lt.current,Ze(Lt,c?i&1|2:i&1),a):(dt(a),null);case 22:case 23:return hr(a),em(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(dt(a),a.subtreeFlags&6&&(a.flags|=8192)):dt(a),o=a.updateQueue,o!==null&&Nd(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),i!==null&&De(_s),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),gr(Ut),dt(a),null;case 25:return null}throw Error(r(156,a.tag))}function zx(i,a){switch(Xf(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return gr(Ut),Ji(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return to(a),null;case 13:if(hr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Kl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return De(Lt),null;case 4:return Ji(),null;case 10:return gr(a.type),null;case 22:case 23:return hr(a),em(),i!==null&&De(_s),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return gr(Ut),null;case 25:return null;default:return null}}function q_(i,a){switch(Xf(a),a.tag){case 3:gr(Ut),Ji();break;case 26:case 27:case 5:to(a);break;case 4:Ji();break;case 13:hr(a);break;case 19:De(Lt);break;case 10:gr(a.type);break;case 22:case 23:hr(a),em(),i!==null&&De(_s);break;case 24:gr(Ut)}}var Fx={getCacheForType:function(i){var a=ln(Ut),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},Bx=typeof WeakMap=="function"?WeakMap:Map,ht=0,rt=null,Ve=null,Ke=0,at=0,Un=null,br=!1,Po=!1,Ym=!1,Tr=0,yt=0,ga=0,Rs=0,Qm=0,si=0,Lo=0,mc=null,Li=null,Xm=!1,Wm=0,Rd=1/0,Cd=null,ya=null,Id=!1,Cs=null,pc=0,Zm=0,Jm=null,gc=0,ep=null;function Vn(){if((ht&2)!==0&&Ke!==0)return Ke&-Ke;if(A.T!==null){var i=Ro;return i!==0?i:lp()}return Pu()}function H_(){si===0&&(si=(Ke&536870912)===0||Xe?Rl():536870912);var i=ni.current;return i!==null&&(i.flags|=32),si}function En(i,a,o){(i===rt&&at===2||i.cancelPendingCommit!==null)&&(Uo(i,0),wr(i,Ke,si,!1)),bt(i,o),((ht&2)===0||i!==rt)&&(i===rt&&((ht&2)===0&&(Rs|=o),yt===4&&wr(i,Ke,si,!1)),Ui(i))}function G_(i,a,o){if((ht&6)!==0)throw Error(r(327));var c=!o&&(a&60)===0&&(a&i.expiredLanes)===0||Hr(i,a),f=c?Gx(i,a):rp(i,a,!0),g=c;do{if(f===0){Po&&!c&&wr(i,a,0,!1);break}else if(f===6)wr(i,a,0,!br);else{if(o=i.current.alternate,g&&!qx(o)){f=rp(i,a,!1),g=!1;continue}if(f===2){if(g=a,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var x=i;f=mc;var M=x.current.memoizedState.isDehydrated;if(M&&(Uo(x,b).flags|=256),b=rp(x,b,!1),b!==2){if(Ym&&!M){x.errorRecoveryDisabledLanes|=g,Rs|=g,f=4;break e}g=Li,Li=f,g!==null&&tp(g)}f=b}if(g=!1,f!==2)continue}}if(f===1){Uo(i,0),wr(i,a,0,!0);break}e:{switch(c=i,f){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){wr(c,a,si,!br);break e}break;case 2:Li=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=o,c.finishedLanes=a,(a&62914560)===a&&(g=Wm+300-An(),10<g)){if(wr(c,a,si,!br),$n(c,0)!==0)break e;c.timeoutHandle=p1($_.bind(null,c,o,Li,Cd,Xm,a,si,Rs,Lo,br,2,-0,0),g);break e}$_(c,o,Li,Cd,Xm,a,si,Rs,Lo,br,0,-0,0)}}break}while(!0);Ui(i)}function tp(i){Li===null?Li=i:Li.push.apply(Li,i)}function $_(i,a,o,c,f,g,b,x,M,H,te,le,X){var J=a.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(Tc={stylesheets:null,count:0,unsuspend:AN},P_(a),a=xN(),a!==null)){i.cancelPendingCommit=a(J_.bind(null,i,o,c,f,b,x,M,1,le,X)),wr(i,g,b,!H);return}J_(i,o,c,f,b,x,M,te,le,X)}function qx(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!Mn(g(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wr(i,a,o,c){a&=~Qm,a&=~Rs,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var f=a;0<f;){var g=31-gn(f),b=1<<g;c[g]=-1,f&=~b}o!==0&&$r(i,o,a)}function Dd(){return(ht&6)===0?(yc(0),!1):!0}function np(){if(Ve!==null){if(at===0)var i=Ve.return;else i=Ve,pr=As=null,lm(i),xo=null,Wl=0,i=Ve;for(;i!==null;)q_(i.alternate,i),i=i.return;Ve=null}}function Uo(i,a){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,lN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),np(),rt=i,Ve=o=pa(i.current,null),Ke=a,at=0,Un=null,br=!1,Po=Hr(i,a),Ym=!1,Lo=si=Qm=Rs=ga=yt=0,Li=mc=null,Xm=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var f=31-gn(c),g=1<<f;a|=i[f],c&=~g}return Tr=a,td(),o}function K_(i,a){Le=null,A.H=Pi,a===Ql?(a=l0(),at=3):a===a0?(a=l0(),at=4):at=a===s_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Un=a,Ve===null&&(yt=1,bd(i,Jn(a,i.current)))}function Y_(){var i=A.H;return A.H=Pi,i===null?Pi:i}function Q_(){var i=A.A;return A.A=Fx,i}function ip(){yt=4,br||(Ke&4194176)!==Ke&&ni.current!==null||(Po=!0),(ga&134217727)===0&&(Rs&134217727)===0||rt===null||wr(rt,Ke,si,!1)}function rp(i,a,o){var c=ht;ht|=2;var f=Y_(),g=Q_();(rt!==i||Ke!==a)&&(Cd=null,Uo(i,a)),a=!1;var b=yt;e:do try{if(at!==0&&Ve!==null){var x=Ve,M=Un;switch(at){case 8:np(),b=6;break e;case 3:case 2:case 6:ni.current===null&&(a=!0);var H=at;if(at=0,Un=null,Vo(i,x,M,H),o&&Po){b=0;break e}break;default:H=at,at=0,Un=null,Vo(i,x,M,H)}}Hx(),b=yt;break}catch(te){K_(i,te)}while(!0);return a&&i.shellSuspendCounter++,pr=As=null,ht=c,A.H=f,A.A=g,Ve===null&&(rt=null,Ke=0,td()),b}function Hx(){for(;Ve!==null;)X_(Ve)}function Gx(i,a){var o=ht;ht|=2;var c=Y_(),f=Q_();rt!==i||Ke!==a?(Cd=null,Rd=An()+500,Uo(i,a)):Po=Hr(i,a);e:do try{if(at!==0&&Ve!==null){a=Ve;var g=Un;t:switch(at){case 1:at=0,Un=null,Vo(i,a,g,1);break;case 2:if(s0(g)){at=0,Un=null,W_(a);break}a=function(){at===2&&rt===i&&(at=7),Ui(i)},g.then(a,a);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:s0(g)?(at=0,Un=null,W_(a)):(at=0,Un=null,Vo(i,a,g,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var x=Ve;if(!b||x1(b)){at=0,Un=null;var M=x.sibling;if(M!==null)Ve=M;else{var H=x.return;H!==null?(Ve=H,jd(H)):Ve=null}break t}}at=0,Un=null,Vo(i,a,g,5);break;case 6:at=0,Un=null,Vo(i,a,g,6);break;case 8:np(),yt=6;break e;default:throw Error(r(462))}}$x();break}catch(te){K_(i,te)}while(!0);return pr=As=null,A.H=c,A.A=f,ht=o,Ve!==null?0:(rt=null,Ke=0,td(),yt)}function $x(){for(;Ve!==null&&!jf();)X_(Ve)}function X_(i){var a=v_(i.alternate,i,Tr);i.memoizedProps=i.pendingProps,a===null?jd(i):Ve=a}function W_(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=h_(o,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=h_(o,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:lm(a);default:q_(o,a),a=Ve=z_(a,Tr),a=v_(o,a,Tr)}i.memoizedProps=i.pendingProps,a===null?jd(i):Ve=a}function Vo(i,a,o,c){pr=As=null,lm(a),xo=null,Wl=0;var f=a.return;try{if(kx(i,f,a,o,Ke)){yt=1,bd(i,Jn(o,i.current)),Ve=null;return}}catch(g){if(f!==null)throw Ve=f,g;yt=1,bd(i,Jn(o,i.current)),Ve=null;return}a.flags&32768?(Xe||c===1?i=!0:Po||(Ke&536870912)!==0?i=!1:(br=i=!0,(c===2||c===3||c===6)&&(c=ni.current,c!==null&&c.tag===13&&(c.flags|=16384))),Z_(a,i)):jd(a)}function jd(i){var a=i;do{if((a.flags&32768)!==0){Z_(a,br);return}i=a.return;var o=Vx(a.alternate,a,Tr);if(o!==null){Ve=o;return}if(a=a.sibling,a!==null){Ve=a;return}Ve=a=i}while(a!==null);yt===0&&(yt=5)}function Z_(i,a){do{var o=zx(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);yt=6,Ve=null}function J_(i,a,o,c,f,g,b,x,M,H){var te=A.T,le=ge.p;try{ge.p=2,A.T=null,Kx(i,a,o,c,le,f,g,b,x,M,H)}finally{A.T=te,ge.p=le}}function Kx(i,a,o,c,f,g,b,x){do zo();while(Cs!==null);if((ht&6)!==0)throw Error(r(327));var M=i.finishedWork;if(c=i.finishedLanes,M===null)return null;if(i.finishedWork=null,i.finishedLanes=0,M===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var H=M.lanes|M.childLanes;if(H|=Kf,ku(i,c,H,g,b,x),i===rt&&(Ve=rt=null,Ke=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||Id||(Id=!0,Zm=H,Jm=o,Wx(er,function(){return zo(),null})),o=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||o?(o=A.T,A.T=null,g=ge.p,ge.p=2,b=ht,ht|=4,Px(i,M),O_(M,i),yx(gp,i.containerInfo),Hd=!!pp,gp=pp=null,i.current=M,C_(i,M.alternate,M),Al(),ht=b,ge.p=g,A.T=o):i.current=M,Id?(Id=!1,Cs=i,pc=c):e1(i,H),H=i.pendingLanes,H===0&&(ya=null),xl(M.stateNode),Ui(i),a!==null)for(f=i.onRecoverableError,M=0;M<a.length;M++)H=a[M],f(H.value,{componentStack:H.stack});return(pc&3)!==0&&zo(),H=i.pendingLanes,(c&4194218)!==0&&(H&42)!==0?i===ep?gc++:(gc=0,ep=i):gc=0,yc(0),null}function e1(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Jl(a)))}function zo(){if(Cs!==null){var i=Cs,a=Zm;Zm=0;var o=Mu(pc),c=A.T,f=ge.p;try{if(ge.p=32>o?32:o,A.T=null,Cs===null)var g=!1;else{o=Jm,Jm=null;var b=Cs,x=pc;if(Cs=null,pc=0,(ht&6)!==0)throw Error(r(331));var M=ht;if(ht|=4,U_(b.current),M_(b,b.current,x,o),ht=M,yc(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Br,b)}catch{}g=!0}return g}finally{ge.p=f,A.T=c,e1(i,a)}}return!1}function t1(i,a,o){a=Jn(o,a),a=Tm(i.stateNode,a,2),i=da(i,a,2),i!==null&&(bt(i,2),Ui(i))}function it(i,a,o){if(i.tag===3)t1(i,i,o);else for(;a!==null;){if(a.tag===3){t1(a,i,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ya===null||!ya.has(c))){i=Jn(o,i),o=r_(2),c=da(a,o,2),c!==null&&(a_(o,c,a,i),bt(c,2),Ui(c));break}}a=a.return}}function ap(i,a,o){var c=i.pingCache;if(c===null){c=i.pingCache=new Bx;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(o)||(Ym=!0,f.add(o),i=Yx.bind(null,i,a,o),a.then(i,i))}function Yx(i,a,o){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,rt===i&&(Ke&o)===o&&(yt===4||yt===3&&(Ke&62914560)===Ke&&300>An()-Wm?(ht&2)===0&&Uo(i,0):Qm|=o,Lo===Ke&&(Lo=0)),Ui(i)}function n1(i,a){a===0&&(a=Gr()),i=ia(i,a),i!==null&&(bt(i,a),Ui(i))}function Qx(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),n1(i,o)}function Xx(i,a){var o=0;switch(i.tag){case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),n1(i,o)}function Wx(i,a){return Ja(i,a)}var Od=null,Fo=null,sp=!1,kd=!1,op=!1,Is=0;function Ui(i){i!==Fo&&i.next===null&&(Fo===null?Od=Fo=i:Fo=Fo.next=i),kd=!0,sp||(sp=!0,Jx(Zx))}function yc(i,a){if(!op&&kd){op=!0;do for(var o=!1,c=Od;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var b=c.suspendedLanes,x=c.pingedLanes;g=(1<<31-gn(42|i)+1)-1,g&=f&~(b&~x),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,a1(c,g))}else g=Ke,g=$n(c,c===rt?g:0),(g&3)===0||Hr(c,g)||(o=!0,a1(c,g));c=c.next}while(o);op=!1}}function Zx(){kd=sp=!1;var i=0;Is!==0&&(oN()&&(i=Is),Is=0);for(var a=An(),o=null,c=Od;c!==null;){var f=c.next,g=i1(c,a);g===0?(c.next=null,o===null?Od=f:o.next=f,f===null&&(Fo=o)):(o=c,(i!==0||(g&3)!==0)&&(kd=!0)),c=f}yc(i)}function i1(i,a){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-gn(g),x=1<<b,M=f[b];M===-1?((x&o)===0||(x&c)!==0)&&(f[b]=ro(x,a)):M<=a&&(i.expiredLanes|=x),g&=~x}if(a=rt,o=Ke,o=$n(i,i===a?o:0),c=i.callbackNode,o===0||i===a&&at===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&io(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Hr(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(c!==null&&io(c),Mu(o)){case 2:case 8:o=Ft;break;case 32:o=er;break;case 268435456:o=Sl;break;default:o=er}return c=r1.bind(null,i),o=Ja(o,c),i.callbackPriority=a,i.callbackNode=o,a}return c!==null&&c!==null&&io(c),i.callbackPriority=2,i.callbackNode=null,2}function r1(i,a){var o=i.callbackNode;if(zo()&&i.callbackNode!==o)return null;var c=Ke;return c=$n(i,i===rt?c:0),c===0?null:(G_(i,c,a),i1(i,An()),i.callbackNode!=null&&i.callbackNode===o?r1.bind(null,i):null)}function a1(i,a){if(zo())return null;G_(i,a,!0)}function Jx(i){cN(function(){(ht&6)!==0?Ja(Ot,i):i()})}function lp(){return Is===0&&(Is=Rl()),Is}function s1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ni(""+i)}function o1(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function eN(i,a,o,c,f){if(a==="submit"&&o&&o.stateNode===f){var g=s1((f[kt]||null).action),b=c.submitter;b&&(a=(a=b[kt]||null)?s1(a.formAction):b.getAttribute("formAction"),a!==null&&(g=a,b=null));var x=new ho("action","action",null,c,f);i.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Is!==0){var M=b?o1(f,b):new FormData(f);ym(o,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(x.preventDefault(),M=b?o1(f,b):new FormData(f),ym(o,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var cp=0;cp<Jv.length;cp++){var up=Jv[cp],tN=up.toLowerCase(),nN=up[0].toUpperCase()+up.slice(1);pi(tN,"on"+nN)}pi(Yv,"onAnimationEnd"),pi(Qv,"onAnimationIteration"),pi(Xv,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(_x,"onTransitionRun"),pi(Ex,"onTransitionStart"),pi(bx,"onTransitionCancel"),pi(Wv,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vc));function l1(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var b=c.length-1;0<=b;b--){var x=c[b],M=x.instance,H=x.currentTarget;if(x=x.listener,M!==g&&f.isPropagationStopped())break e;g=x,f.currentTarget=H;try{g(f)}catch(te){Ed(te)}f.currentTarget=null,g=M}else for(b=0;b<c.length;b++){if(x=c[b],M=x.instance,H=x.currentTarget,x=x.listener,M!==g&&f.isPropagationStopped())break e;g=x,f.currentTarget=H;try{g(f)}catch(te){Ed(te)}f.currentTarget=null,g=M}}}}function qe(i,a){var o=a[ts];o===void 0&&(o=a[ts]=new Set);var c=i+"__bubble";o.has(c)||(c1(a,i,2,!1),o.add(c))}function dp(i,a,o){var c=0;a&&(c|=4),c1(o,i,c,a)}var Md="_reactListening"+Math.random().toString(36).slice(2);function hp(i){if(!i[Md]){i[Md]=!0,Il.forEach(function(o){o!=="selectionchange"&&(iN.has(o)||dp(o,!1,i),dp(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Md]||(a[Md]=!0,dp("selectionchange",!1,a))}}function c1(i,a,o,c){switch(j1(a)){case 2:var f=CN;break;case 8:f=IN;break;default:f=Sp}o=f.bind(null,a,o,i),f=void 0,!Xn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(a,o,{capture:!0,passive:f}):i.addEventListener(a,o,!0):f!==void 0?i.addEventListener(a,o,{passive:f}):i.addEventListener(a,o,!1)}function fp(i,a,o,c,f){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var x=c.stateNode.containerInfo;if(x===f||x.nodeType===8&&x.parentNode===f)break;if(b===4)for(b=c.return;b!==null;){var M=b.tag;if((M===3||M===4)&&(M=b.stateNode.containerInfo,M===f||M.nodeType===8&&M.parentNode===f))return;b=b.return}for(;x!==null;){if(b=mi(x),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){c=g=b;continue e}x=x.parentNode}}c=c.return}zu(function(){var H=g,te=uo(o),le=[];e:{var X=Zv.get(i);if(X!==void 0){var J=ho,we=i;switch(i){case"keypress":if(Ci(o)===0)break e;case"keydown":case"keyup":J=vo;break;case"focusin":we="focus",J=po;break;case"focusout":we="blur",J=po;break;case"beforeblur":case"afterblur":J=po;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Yu;break;case Yv:case Qv:case Xv:J=go;break;case Wv:J=Xu;break;case"scroll":case"scrollend":J=Fu;break;case"wheel":J=_o;break;case"copy":case"cut":case"paste":J=yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Bl;break;case"toggle":case"beforetoggle":J=Zu}var ke=(a&4)!==0,vt=!ke&&(i==="scroll"||i==="scrollend"),$=ke?X!==null?X+"Capture":null:X;ke=[];for(var q=H,Q;q!==null;){var re=q;if(Q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Q===null||$===null||(re=ss(q,$),re!=null&&ke.push(_c(q,re,Q))),vt)break;q=q.return}0<ke.length&&(X=new J(X,we,null,o,te),le.push({event:X,listeners:ke}))}}if((a&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",X&&o!==Qn&&(we=o.relatedTarget||o.fromElement)&&(mi(we)||we[tr]))break e;if((J||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,J?(we=o.relatedTarget||o.toElement,J=H,we=we?mi(we):null,we!==null&&(vt=ue(we),ke=we.tag,we!==vt||ke!==5&&ke!==27&&ke!==6)&&(we=null)):(J=null,we=H),J!==we)){if(ke=Wn,re="onMouseLeave",$="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(ke=Bl,re="onPointerLeave",$="onPointerEnter",q="pointer"),vt=J==null?X:Xr(J),Q=we==null?X:Xr(we),X=new ke(re,q+"leave",J,o,te),X.target=vt,X.relatedTarget=Q,re=null,mi(te)===H&&(ke=new ke($,q+"enter",we,o,te),ke.target=Q,ke.relatedTarget=vt,re=ke),vt=re,J&&we)t:{for(ke=J,$=we,q=0,Q=ke;Q;Q=Bo(Q))q++;for(Q=0,re=$;re;re=Bo(re))Q++;for(;0<q-Q;)ke=Bo(ke),q--;for(;0<Q-q;)$=Bo($),Q--;for(;q--;){if(ke===$||$!==null&&ke===$.alternate)break t;ke=Bo(ke),$=Bo($)}ke=null}else ke=null;J!==null&&u1(le,X,J,ke,!1),we!==null&&vt!==null&&u1(le,vt,we,ke,!0)}}e:{if(X=H?Xr(H):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Te=Lv;else if(Pt(X))if(Uv)Te=px;else{Te=fx;var Ue=hx}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?H&&Ml(H.elementType)&&(Te=Lv):Te=mx;if(Te&&(Te=Te(i,H))){cr(le,Te,o,te);break e}Ue&&Ue(i,X,H),i==="focusout"&&H&&X.type==="number"&&H.memoizedProps.value!=null&&co(X,"number",X.value)}switch(Ue=H?Xr(H):window,i){case"focusin":(Pt(Ue)||Ue.contentEditable==="true")&&(Eo=Ue,Hf=H,Gl=null);break;case"focusout":Gl=Hf=Eo=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,$v(le,o,te);break;case"selectionchange":if(vx)break;case"keydown":case"keyup":$v(le,o,te)}var xe;if(ji)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ge?W(i,o)&&(Ce="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(E&&o.locale!=="ko"&&(Ge||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ge&&(xe=Ll()):(Ri=te,na="value"in Ri?Ri.value:Ri.textContent,Ge=!0)),Ue=Pd(H,Ce),0<Ue.length&&(Ce=new zl(Ce,i,null,o,te),le.push({event:Ce,listeners:Ue}),xe?Ce.data=xe:(xe=ye(o),xe!==null&&(Ce.data=xe)))),(xe=v?Mt(i,o):$e(i,o))&&(Ce=Pd(H,"onBeforeInput"),0<Ce.length&&(Ue=new zl("onBeforeInput","beforeinput",null,o,te),le.push({event:Ue,listeners:Ce}),Ue.data=xe)),eN(le,i,H,o,te)}l1(le,a)})}function _c(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Pd(i,a){for(var o=a+"Capture",c=[];i!==null;){var f=i,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ss(i,o),f!=null&&c.unshift(_c(i,f,g)),f=ss(i,a),f!=null&&c.push(_c(i,f,g))),i=i.return}return c}function Bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function u1(i,a,o,c,f){for(var g=a._reactName,b=[];o!==null&&o!==c;){var x=o,M=x.alternate,H=x.stateNode;if(x=x.tag,M!==null&&M===c)break;x!==5&&x!==26&&x!==27||H===null||(M=H,f?(H=ss(o,g),H!=null&&b.unshift(_c(o,H,M))):f||(H=ss(o,g),H!=null&&b.push(_c(o,H,M)))),o=o.return}b.length!==0&&i.push({event:a,listeners:b})}var rN=/\r\n?/g,aN=/\u0000|\uFFFD/g;function d1(i){return(typeof i=="string"?i:""+i).replace(rN,`
`).replace(aN,"")}function h1(i,a){return a=d1(a),d1(i)===a}function Ld(){}function nt(i,a,o,c,f,g){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Yn(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Yn(i,""+c);break;case"className":Jr(i,"class",c);break;case"tabIndex":Jr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(i,o,c);break;case"style":Vu(i,c,g);break;case"data":if(a!=="object"){Jr(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ni(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&nt(i,a,"name",f.name,f,null),nt(i,a,"formEncType",f.formEncType,f,null),nt(i,a,"formMethod",f.formMethod,f,null),nt(i,a,"formTarget",f.formTarget,f,null)):(nt(i,a,"encType",f.encType,f,null),nt(i,a,"method",f.method,f,null),nt(i,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ni(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ld);break;case"onScroll":c!=null&&qe("scroll",i);break;case"onScrollEnd":c!=null&&qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ni(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":qe("beforetoggle",i),qe("toggle",i),Zr(i,"popover",c);break;case"xlinkActuate":Kn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zr(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lf.get(o)||o,Zr(i,o,c))}}function mp(i,a,o,c,f,g){switch(o){case"style":Vu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Yn(i,c):(typeof c=="number"||typeof c=="bigint")&&Yn(i,""+c);break;case"onScroll":c!=null&&qe("scroll",i);break;case"onScrollEnd":c!=null&&qe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ld);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),g=i[kt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(a,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Zr(i,o,c)}}}function tn(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",i),qe("load",i);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:nt(i,a,g,b,o,null)}}f&&nt(i,a,"srcSet",o.srcSet,o,null),c&&nt(i,a,"src",o.src,o,null);return;case"input":qe("invalid",i);var x=g=b=f=null,M=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":f=te;break;case"type":b=te;break;case"checked":M=te;break;case"defaultChecked":H=te;break;case"value":g=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:nt(i,a,c,te,o,null)}}rs(i,g,x,M,H,b,f,!1),is(i);return;case"select":qe("invalid",i),c=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(x=o[f],x!=null))switch(f){case"value":g=x;break;case"defaultValue":b=x;break;case"multiple":c=x;default:nt(i,a,f,x,o,null)}a=g,o=b,i.multiple=!!c,a!=null?Qe(i,!!c,a,!1):o!=null&&Qe(i,!!c,o,!0);return;case"textarea":qe("invalid",i),g=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(x=o[b],x!=null))switch(b){case"value":c=x;break;case"defaultValue":f=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:nt(i,a,b,x,o,null)}ta(i,c,f,g),is(i);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(c=o[M],c!=null))switch(M){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(i,a,M,c,o,null)}return;case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":qe("load",i);break;case"video":case"audio":for(c=0;c<vc.length;c++)qe(vc[c],i);break;case"image":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"embed":case"source":case"link":qe("error",i),qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:nt(i,a,H,c,o,null)}return;default:if(Ml(a)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&mp(i,a,te,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&nt(i,a,x,c,o,null))}function sN(i,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,x=null,M=null,H=null,te=null;for(J in o){var le=o[J];if(o.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=le;default:c.hasOwnProperty(J)||nt(i,a,J,null,c,le)}}for(var X in c){var J=c[X];if(le=o[X],c.hasOwnProperty(X)&&(J!=null||le!=null))switch(X){case"type":g=J;break;case"name":f=J;break;case"checked":H=J;break;case"defaultChecked":te=J;break;case"value":b=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:J!==le&&nt(i,a,X,J,c,le)}}ea(i,b,x,M,H,te,g,f);return;case"select":J=b=x=X=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":J=M;default:c.hasOwnProperty(g)||nt(i,a,g,null,c,M)}for(f in c)if(g=c[f],M=o[f],c.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":X=g;break;case"defaultValue":x=g;break;case"multiple":b=g;default:g!==M&&nt(i,a,f,g,c,M)}a=x,o=b,c=J,X!=null?Qe(i,!!o,X,!1):!!c!=!!o&&(a!=null?Qe(i,!!o,a,!0):Qe(i,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(x in o)if(f=o[x],o.hasOwnProperty(x)&&f!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:nt(i,a,x,null,c,f)}for(b in c)if(f=c[b],g=o[b],c.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":X=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&nt(i,a,b,f,c,g)}as(i,X,J);return;case"option":for(var we in o)if(X=o[we],o.hasOwnProperty(we)&&X!=null&&!c.hasOwnProperty(we))switch(we){case"selected":i.selected=!1;break;default:nt(i,a,we,null,c,X)}for(M in c)if(X=c[M],J=o[M],c.hasOwnProperty(M)&&X!==J&&(X!=null||J!=null))switch(M){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:nt(i,a,M,X,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)X=o[ke],o.hasOwnProperty(ke)&&X!=null&&!c.hasOwnProperty(ke)&&nt(i,a,ke,null,c,X);for(H in c)if(X=c[H],J=o[H],c.hasOwnProperty(H)&&X!==J&&(X!=null||J!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:nt(i,a,H,X,c,J)}return;default:if(Ml(a)){for(var vt in o)X=o[vt],o.hasOwnProperty(vt)&&X!==void 0&&!c.hasOwnProperty(vt)&&mp(i,a,vt,void 0,c,X);for(te in c)X=c[te],J=o[te],!c.hasOwnProperty(te)||X===J||X===void 0&&J===void 0||mp(i,a,te,X,c,J);return}}for(var $ in o)X=o[$],o.hasOwnProperty($)&&X!=null&&!c.hasOwnProperty($)&&nt(i,a,$,null,c,X);for(le in c)X=c[le],J=o[le],!c.hasOwnProperty(le)||X===J||X==null&&J==null||nt(i,a,le,X,c,J)}var pp=null,gp=null;function Ud(i){return i.nodeType===9?i:i.ownerDocument}function f1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m1(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function yp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vp=null;function oN(){var i=window.event;return i&&i.type==="popstate"?i===vp?!1:(vp=i,!0):(vp=null,!1)}var p1=typeof setTimeout=="function"?setTimeout:void 0,lN=typeof clearTimeout=="function"?clearTimeout:void 0,g1=typeof Promise=="function"?Promise:void 0,cN=typeof queueMicrotask=="function"?queueMicrotask:typeof g1<"u"?function(i){return g1.resolve(null).then(i).catch(uN)}:p1;function uN(i){setTimeout(function(){throw i})}function _p(i,a){var o=a,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){i.removeChild(f),Nc(a);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);Nc(a)}function Ep(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ep(o),ns(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function dN(i,a,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Qr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=vi(i.nextSibling),i===null)break}return null}function hN(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=vi(i.nextSibling),i===null))return null;return i}function vi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}function y1(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function v1(i,a,o){switch(a=Ud(o),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var oi=new Map,_1=new Set;function Vd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ar=ge.d;ge.d={f:fN,r:mN,D:pN,C:gN,L:yN,m:vN,X:EN,S:_N,M:bN};function fN(){var i=Ar.f(),a=Dd();return i||a}function mN(i){var a=nr(i);a!==null&&a.tag===5&&a.type==="form"?$0(a):Ar.r(i)}var qo=typeof document>"u"?null:document;function E1(i,a,o){var c=qo;if(c&&typeof a=="string"&&a){var f=pt(a);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),_1.has(f)||(_1.add(f),i={rel:i,crossOrigin:o,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),tn(a,"link",i),ut(a),c.head.appendChild(a)))}}function pN(i){Ar.D(i),E1("dns-prefetch",i,null)}function gN(i,a){Ar.C(i,a),E1("preconnect",i,a)}function yN(i,a,o){Ar.L(i,a,o);var c=qo;if(c&&i&&a){var f='link[rel="preload"][as="'+pt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pt(o.imageSizes)+'"]')):f+='[href="'+pt(i)+'"]';var g=f;switch(a){case"style":g=Ho(i);break;case"script":g=Go(i)}oi.has(g)||(i=I({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),oi.set(g,i),c.querySelector(f)!==null||a==="style"&&c.querySelector(Ec(g))||a==="script"&&c.querySelector(bc(g))||(a=c.createElement("link"),tn(a,"link",i),ut(a),c.head.appendChild(a)))}}function vN(i,a){Ar.m(i,a);var o=qo;if(o&&i){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+pt(c)+'"][href="'+pt(i)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Go(i)}if(!oi.has(g)&&(i=I({rel:"modulepreload",href:i},a),oi.set(g,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bc(g)))return}c=o.createElement("link"),tn(c,"link",i),ut(c),o.head.appendChild(c)}}}function _N(i,a,o){Ar.S(i,a,o);var c=qo;if(c&&i){var f=Wr(c).hoistableStyles,g=Ho(i);a=a||"default";var b=f.get(g);if(!b){var x={loading:0,preload:null};if(b=c.querySelector(Ec(g)))x.loading=5;else{i=I({rel:"stylesheet",href:i,"data-precedence":a},o),(o=oi.get(g))&&bp(i,o);var M=b=c.createElement("link");ut(M),tn(M,"link",i),M._p=new Promise(function(H,te){M.onload=H,M.onerror=te}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,zd(b,a,c)}b={type:"stylesheet",instance:b,count:1,state:x},f.set(g,b)}}}function EN(i,a){Ar.X(i,a);var o=qo;if(o&&i){var c=Wr(o).hoistableScripts,f=Go(i),g=c.get(f);g||(g=o.querySelector(bc(f)),g||(i=I({src:i,async:!0},a),(a=oi.get(f))&&Tp(i,a),g=o.createElement("script"),ut(g),tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function bN(i,a){Ar.M(i,a);var o=qo;if(o&&i){var c=Wr(o).hoistableScripts,f=Go(i),g=c.get(f);g||(g=o.querySelector(bc(f)),g||(i=I({src:i,async:!0,type:"module"},a),(a=oi.get(f))&&Tp(i,a),g=o.createElement("script"),ut(g),tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function b1(i,a,o,c){var f=(f=Gn.current)?Vd(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Ho(o.href),o=Wr(f).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ho(o.href);var g=Wr(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(Ec(i)))&&!g._p&&(b.instance=g,b.state.loading=5),oi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},oi.set(i,o),g||TN(f,i,o,b.state))),a&&c===null)throw Error(r(528,""));return b}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Go(o),o=Wr(f).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ho(i){return'href="'+pt(i)+'"'}function Ec(i){return'link[rel="stylesheet"]['+i+"]"}function T1(i){return I({},i,{"data-precedence":i.precedence,precedence:null})}function TN(i,a,o,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),tn(a,"link",o),ut(a),i.head.appendChild(a))}function Go(i){return'[src="'+pt(i)+'"]'}function bc(i){return"script[async]"+i}function w1(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+pt(o.href)+'"]');if(c)return a.instance=c,ut(c),c;var f=I({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),ut(c),tn(c,"style",f),zd(c,o.precedence,i),a.instance=c;case"stylesheet":f=Ho(o.href);var g=i.querySelector(Ec(f));if(g)return a.state.loading|=4,a.instance=g,ut(g),g;c=T1(o),(f=oi.get(f))&&bp(c,f),g=(i.ownerDocument||i).createElement("link"),ut(g);var b=g;return b._p=new Promise(function(x,M){b.onload=x,b.onerror=M}),tn(g,"link",c),a.state.loading|=4,zd(g,o.precedence,i),a.instance=g;case"script":return g=Go(o.src),(f=i.querySelector(bc(g)))?(a.instance=f,ut(f),f):(c=o,(f=oi.get(g))&&(c=I({},o),Tp(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),ut(f),tn(f,"link",c),i.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,zd(c,o.precedence,i));return a.instance}function zd(i,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,b=0;b<c.length;b++){var x=c[b];if(x.dataset.precedence===a)g=x;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function bp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Tp(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Fd=null;function A1(i,a,o){if(Fd===null){var c=new Map,f=Fd=new Map;f.set(o,c)}else f=Fd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Qr]||g[Bt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(a)||"";b=i+b;var x=c.get(b);x?x.push(g):c.set(b,[g])}}return c}function S1(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function wN(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function x1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Tc=null;function AN(){}function SN(i,a,o){if(Tc===null)throw Error(r(475));var c=Tc;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ho(o.href),g=i.querySelector(Ec(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Bd.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=g,ut(g);return}g=i.ownerDocument||i,o=T1(o),(f=oi.get(f))&&bp(o,f),g=g.createElement("link"),ut(g);var b=g;b._p=new Promise(function(x,M){b.onload=x,b.onerror=M}),tn(g,"link",o),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Bd.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function xN(){if(Tc===null)throw Error(r(475));var i=Tc;return i.stylesheets&&i.count===0&&wp(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&wp(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Bd(){if(this.count--,this.count===0){if(this.stylesheets)wp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qd=null;function wp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qd=new Map,a.forEach(NN,i),qd=null,Bd.call(i))}function NN(i,a){if(!(a.state.loading&4)){var o=qd.get(i);if(o)var c=o.get(null);else{o=new Map,qd.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=a.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,f),o.set(b,f),this.count++,c=Bd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),a.state.loading|=4}}var wc={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function RN(i,a,o,c,f,g,b,x){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.hiddenUpdates=ao(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function N1(i,a,o,c,f,g,b,x,M,H,te,le){return i=new RN(i,a,o,b,x,M,H,le),a=1,g===!0&&(a|=24),g=ai(3,null,null,a),i.current=g,g.stateNode=i,a=tm(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:a},Mm(g),i}function R1(i){return i?(i=wo,i):wo}function C1(i,a,o,c,f,g){f=R1(f),c.context===null?c.context=f:c.pendingContext=f,c=ua(a),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=da(i,c,a),o!==null&&(En(o,i,a),sc(o,i,a))}function I1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function Ap(i,a){I1(i,a),(i=i.alternate)&&I1(i,a)}function D1(i){if(i.tag===13){var a=ia(i,67108864);a!==null&&En(a,i,67108864),Ap(i,67108864)}}var Hd=!0;function CN(i,a,o,c){var f=A.T;A.T=null;var g=ge.p;try{ge.p=2,Sp(i,a,o,c)}finally{ge.p=g,A.T=f}}function IN(i,a,o,c){var f=A.T;A.T=null;var g=ge.p;try{ge.p=8,Sp(i,a,o,c)}finally{ge.p=g,A.T=f}}function Sp(i,a,o,c){if(Hd){var f=xp(c);if(f===null)fp(i,a,c,Gd,o),O1(i,c);else if(jN(f,i,a,o,c))c.stopPropagation();else if(O1(i,c),a&4&&-1<DN.indexOf(i)){for(;f!==null;){var g=nr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=fi(g.pendingLanes);if(b!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var M=1<<31-gn(b);x.entanglements[1]|=M,b&=~M}Ui(g),(ht&6)===0&&(Rd=An()+500,yc(0))}}break;case 13:x=ia(g,2),x!==null&&En(x,g,2),Dd(),Ap(g,2)}if(g=xp(c),g===null&&fp(i,a,c,Gd,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else fp(i,a,c,null,o)}}function xp(i){return i=uo(i),Np(i)}var Gd=null;function Np(i){if(Gd=null,i=mi(i),i!==null){var a=ue(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=ne(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Gd=i,null}function j1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iu()){case Ot:return 2;case Ft:return 8;case er:case Du:return 32;case Sl:return 268435456;default:return 32}default:return 32}}var Rp=!1,va=null,_a=null,Ea=null,Ac=new Map,Sc=new Map,ba=[],DN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O1(i,a){switch(i){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Ac.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(a.pointerId)}}function xc(i,a,o,c,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},a!==null&&(a=nr(a),a!==null&&D1(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),i)}function jN(i,a,o,c,f){switch(a){case"focusin":return va=xc(va,i,a,o,c,f),!0;case"dragenter":return _a=xc(_a,i,a,o,c,f),!0;case"mouseover":return Ea=xc(Ea,i,a,o,c,f),!0;case"pointerover":var g=f.pointerId;return Ac.set(g,xc(Ac.get(g)||null,i,a,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Sc.set(g,xc(Sc.get(g)||null,i,a,o,c,f)),!0}return!1}function k1(i){var a=mi(i.target);if(a!==null){var o=ue(a);if(o!==null){if(a=o.tag,a===13){if(a=ne(o),a!==null){i.blockedOn=a,Yr(i.priority,function(){if(o.tag===13){var c=Vn(),f=ia(o,c);f!==null&&En(f,o,c),Ap(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $d(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=xp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Qn=c,o.target.dispatchEvent(c),Qn=null}else return a=nr(o),a!==null&&D1(a),i.blockedOn=o,!1;a.shift()}return!0}function M1(i,a,o){$d(i)&&o.delete(a)}function ON(){Rp=!1,va!==null&&$d(va)&&(va=null),_a!==null&&$d(_a)&&(_a=null),Ea!==null&&$d(Ea)&&(Ea=null),Ac.forEach(M1),Sc.forEach(M1)}function Kd(i,a){i.blockedOn===a&&(i.blockedOn=null,Rp||(Rp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ON)))}var Yd=null;function P1(i){Yd!==i&&(Yd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yd===i&&(Yd=null);for(var a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],f=i[a+2];if(typeof c!="function"){if(Np(c||o)===null)continue;break}var g=nr(o);g!==null&&(i.splice(a,3),a-=3,ym(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Nc(i){function a(M){return Kd(M,i)}va!==null&&Kd(va,i),_a!==null&&Kd(_a,i),Ea!==null&&Kd(Ea,i),Ac.forEach(a),Sc.forEach(a);for(var o=0;o<ba.length;o++){var c=ba[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ba.length&&(o=ba[0],o.blockedOn===null);)k1(o),o.blockedOn===null&&ba.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],b=f[kt]||null;if(typeof g=="function")b||P1(o);else if(b){var x=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[kt]||null)x=b.formAction;else if(Np(f)!==null)continue}else x=b.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),P1(o)}}}function Cp(i){this._internalRoot=i}Qd.prototype.render=Cp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var o=a.current,c=Vn();C1(o,c,i,a,null,null)},Qd.prototype.unmount=Cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;i.tag===0&&zo(),C1(i.current,2,null,i,null,null),Dd(),a[tr]=null}};function Qd(i){this._internalRoot=i}Qd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Pu();i={blockedOn:null,target:i,priority:a};for(var o=0;o<ba.length&&a!==0&&a<ba[o].priority;o++);ba.splice(o,0,i),o===0&&k1(i)}};var L1=e.version;if(L1!=="19.0.0")throw Error(r(527,L1,"19.0.0"));ge.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Z(a),i=i!==null?me(i):null,i=i===null?null:i.stateNode,i};var kN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:mi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Br=Xd.inject(kN),on=Xd}catch{}}return Cc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var o=!1,c="",f=e_,g=t_,b=n_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks)),a=N1(i,1,!1,null,null,o,c,f,g,b,x,null),i[tr]=a.current,hp(i.nodeType===8?i.parentNode:i),new Cp(a)},Cc.hydrateRoot=function(i,a,o){if(!s(i))throw Error(r(299));var c=!1,f="",g=e_,b=t_,x=n_,M=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),a=N1(i,1,!0,a,o??null,c,f,g,b,x,M,H),a.context=R1(null),o=a.current,c=Vn(),f=ua(c),f.callback=null,da(o,f,c),a.current.lanes=c,bt(a,c),Ui(a),i[tr]=a.current,hp(i),new Qd(a)},Cc.version="19.0.0",Cc}var K1;function HN(){if(K1)return jp.exports;K1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jp.exports=qN(),jp.exports}var GN=HN(),Ic={},Y1;function $N(){if(Y1)return Ic;Y1=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.parse=u,Ic.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,N){const C=new l,B=T.length;if(B<2)return C;const L=(N==null?void 0:N.decode)||_;let F=0;do{const V=T.indexOf("=",F);if(V===-1)break;const G=T.indexOf(";",F),Y=G===-1?B:G;if(V>Y){F=T.lastIndexOf(";",V-1)+1;continue}const P=m(T,F,V),ie=p(T,V,P),j=T.slice(P,ie);if(C[j]===void 0){let S=m(T,V+1,Y),A=p(T,Y,S);const I=L(T.slice(S,A));C[j]=I}F=Y+1}while(F<B);return C}function m(T,N,C){do{const B=T.charCodeAt(N);if(B!==32&&B!==9)return N}while(++N<C);return C}function p(T,N,C){for(;N>C;){const B=T.charCodeAt(--N);if(B!==32&&B!==9)return N+1}return C}function y(T,N,C){const B=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const L=B(N);if(!e.test(L))throw new TypeError(`argument val is invalid: ${N}`);let F=T+"="+L;if(!C)return F;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);F+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);F+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);F+="; Path="+C.path}if(C.expires){if(!w(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);F+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(F+="; HttpOnly"),C.secure&&(F+="; Secure"),C.partitioned&&(F+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return F}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return s.call(T)==="[object Date]"}return Ic}$N();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Q1="popstate";function KN(n={}){function e(r,s){let{pathname:l,search:u,hash:m}=r.location;return cg("",{pathname:l,search:u,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Qc(s)}return QN(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YN(){return Math.random().toString(36).substring(2,10)}function X1(n,e){return{usr:n.state,key:n.key,idx:e}}function cg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:t,key:e&&e.key||r||YN()}}function Qc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ml(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function QN(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,u=s.history,m="POP",p=null,y=_();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function _(){return(u.state||{idx:null}).idx}function w(){m="POP";let L=_(),F=L==null?null:L-y;y=L,p&&p({action:m,location:B.location,delta:F})}function T(L,F){m="PUSH";let V=cg(B.location,L,F);y=_()+1;let G=X1(V,y),Y=B.createHref(V);try{u.pushState(G,"",Y)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(Y)}l&&p&&p({action:m,location:B.location,delta:1})}function N(L,F){m="REPLACE";let V=cg(B.location,L,F);y=_();let G=X1(V,y),Y=B.createHref(V);u.replaceState(G,"",Y),l&&p&&p({action:m,location:B.location,delta:0})}function C(L){let F=s.location.origin!=="null"?s.location.origin:s.location.href,V=typeof L=="string"?L:Qc(L);return V=V.replace(/ $/,"%20"),ft(F,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,F)}let B={get action(){return m},get location(){return n(s,u)},listen(L){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Q1,w),p=L,()=>{s.removeEventListener(Q1,w),p=null}},createHref(L){return e(s,L)},createURL:C,encodeLocation(L){let F=C(L);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:N,go(L){return u.go(L)}};return B}function C2(n,e,t="/"){return XN(n,e,t,!1)}function XN(n,e,t,r){let s=typeof e=="string"?ml(e):e,l=jr(s.pathname||"/",t);if(l==null)return null;let u=I2(n);WN(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let y=lR(l);m=sR(u[p],y,r)}return m}function I2(n,e=[],t=[],r=""){let s=(l,u,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let y=Cr([r,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),I2(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:rR(y,l.index),routesMeta:_})};return n.forEach((l,u)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))s(l,u);else for(let p of D2(l.path))s(l,u,p)}),e}function D2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let u=D2(r.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),s&&m.push(...u),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function WN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var ZN=/^:[\w-]+$/,JN=3,eR=2,tR=1,nR=10,iR=-2,W1=n=>n==="*";function rR(n,e){let t=n.split("/"),r=t.length;return t.some(W1)&&(r+=iR),e&&(r+=eR),t.filter(s=>!W1(s)).reduce((s,l)=>s+(ZN.test(l)?JN:l===""?tR:nR),r)}function aR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function sR(n,e,t=!1){let{routesMeta:r}=n,s={},l="/",u=[];for(let m=0;m<r.length;++m){let p=r[m],y=m===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",w=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),T=p.route;if(!w&&y&&t&&!r[r.length-1].route.index&&(w=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Cr([l,w.pathname]),pathnameBase:hR(Cr([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=Cr([l,w.pathnameBase]))}return u}function Th(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=oR(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:r.reduce((y,{paramName:_,isOptional:w},T)=>{if(_==="*"){let C=m[T]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const N=m[T];return w&&!N?y[_]=void 0:y[_]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:n}}function oR(n,e=!1,t=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function lR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function jr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function cR(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ml(n):n;return{pathname:t?t.startsWith("/")?t:uR(t,e):e,search:fR(r),hash:mR(s)}}function uR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Pp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function j2(n){let e=dR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function O2(n,e,t,r=!1){let s;typeof n=="string"?s=ml(n):(s={...n},ft(!s.pathname||!s.pathname.includes("?"),Pp("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),Pp("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),Pp("#","search","hash",s)));let l=n===""||s.pathname==="",u=l?"/":s.pathname,m;if(u==null)m=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;s.pathname=T.join("/")}m=w>=0?e[w]:"/"}let p=cR(s,m),y=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Cr=n=>n.join("/").replace(/\/\/+/g,"/"),hR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var k2=["POST","PUT","PATCH","DELETE"];new Set(k2);var gR=["GET",...k2];new Set(gR);var pl=k.createContext(null);pl.displayName="DataRouter";var Kh=k.createContext(null);Kh.displayName="DataRouterState";var M2=k.createContext({isTransitioning:!1});M2.displayName="ViewTransition";var yR=k.createContext(new Map);yR.displayName="Fetchers";var vR=k.createContext(null);vR.displayName="Await";var Qi=k.createContext(null);Qi.displayName="Navigation";var mu=k.createContext(null);mu.displayName="Location";var Xi=k.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var uy=k.createContext(null);uy.displayName="RouteError";function _R(n,{relative:e}={}){ft(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=k.useContext(Qi),{hash:s,pathname:l,search:u}=gu(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Cr([t,l])),r.createHref({pathname:m,search:u,hash:s})}function pu(){return k.useContext(mu)!=null}function Wi(){return ft(pu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(mu).location}var P2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L2(n){k.useContext(Qi).static||k.useLayoutEffect(n)}function sn(){let{isDataRoute:n}=k.useContext(Xi);return n?jR():ER()}function ER(){ft(pu(),"useNavigate() may be used only in the context of a <Router> component.");let n=k.useContext(pl),{basename:e,navigator:t}=k.useContext(Qi),{matches:r}=k.useContext(Xi),{pathname:s}=Wi(),l=JSON.stringify(j2(r)),u=k.useRef(!1);return L2(()=>{u.current=!0}),k.useCallback((p,y={})=>{if(Ki(u.current,P2),!u.current)return;if(typeof p=="number"){t.go(p);return}let _=O2(p,JSON.parse(l),s,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Cr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,s,n])}k.createContext(null);function U2(){let{matches:n}=k.useContext(Xi),e=n[n.length-1];return e?e.params:{}}function gu(n,{relative:e}={}){let{matches:t}=k.useContext(Xi),{pathname:r}=Wi(),s=JSON.stringify(j2(t));return k.useMemo(()=>O2(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function bR(n,e){return V2(n,e)}function V2(n,e,t,r){var V;ft(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=k.useContext(Qi),{matches:u}=k.useContext(Xi),m=u[u.length-1],p=m?m.params:{},y=m?m.pathname:"/",_=m?m.pathnameBase:"/",w=m&&m.route;{let G=w&&w.path||"";z2(y,!w||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Wi(),N;if(e){let G=typeof e=="string"?ml(e):e;ft(_==="/"||((V=G.pathname)==null?void 0:V.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${G.pathname}" was given in the \`location\` prop.`),N=G}else N=T;let C=N.pathname||"/",B=C;if(_!=="/"){let G=_.replace(/^\//,"").split("/");B="/"+C.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=!l&&t&&t.matches&&t.matches.length>0?t.matches:C2(n,{pathname:B});Ki(w||L!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Ki(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=xR(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Cr([_,s.encodeLocation?s.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:Cr([_,s.encodeLocation?s.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,r);return e&&F?k.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},F):F}function TR(){let n=DR(),e=pR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:s},t):null,u)}var wR=k.createElement(TR,null),AR=class extends k.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?k.createElement(Xi.Provider,{value:this.props.routeContext},k.createElement(uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SR({routeContext:n,match:e,children:t}){let r=k.useContext(pl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Xi.Provider,{value:n},t)}function xR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let p=s.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,m=-1;if(t)for(let p=0;p<s.length;p++){let y=s[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:w}=t,T=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||T){u=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((p,y,_)=>{let w,T=!1,N=null,C=null;t&&(w=l&&y.route.id?l[y.route.id]:void 0,N=y.route.errorElement||wR,u&&(m<0&&_===0?(z2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):m===_&&(T=!0,C=y.route.hydrateFallbackElement||null)));let B=e.concat(s.slice(0,_+1)),L=()=>{let F;return w?F=N:T?F=C:y.route.Component?F=k.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=p,k.createElement(SR,{match:y,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:F})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?k.createElement(AR,{location:t.location,revalidation:t.revalidation,component:N,error:w,children:L(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):L()},null)}function dy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NR(n){let e=k.useContext(pl);return ft(e,dy(n)),e}function RR(n){let e=k.useContext(Kh);return ft(e,dy(n)),e}function CR(n){let e=k.useContext(Xi);return ft(e,dy(n)),e}function hy(n){let e=CR(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function IR(){return hy("useRouteId")}function DR(){var r;let n=k.useContext(uy),e=RR("useRouteError"),t=hy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function jR(){let{router:n}=NR("useNavigate"),e=hy("useNavigate"),t=k.useRef(!1);return L2(()=>{t.current=!0}),k.useCallback(async(s,l={})=>{Ki(t.current,P2),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var Z1={};function z2(n,e,t){!e&&!Z1[n]&&(Z1[n]=!0,Ki(!1,t))}k.memo(OR);function OR({routes:n,future:e,state:t}){return V2(n,void 0,t,e)}function Yt(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:l=!1}){ft(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:u,navigator:s,static:l,future:{}}),[u,s,l]);typeof t=="string"&&(t=ml(t));let{pathname:p="/",search:y="",hash:_="",state:w=null,key:T="default"}=t,N=k.useMemo(()=>{let C=jr(p,u);return C==null?null:{location:{pathname:C,search:y,hash:_,state:w,key:T},navigationType:r}},[u,p,y,_,w,T,r]);return Ki(N!=null,`<Router basename="${u}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:k.createElement(Qi.Provider,{value:m},k.createElement(mu.Provider,{children:e,value:N}))}function MR({children:n,location:e}){return bR(ug(n),e)}function ug(n,e=[]){let t=[];return k.Children.forEach(n,(r,s)=>{if(!k.isValidElement(r))return;let l=[...e,s];if(r.type===k.Fragment){t.push.apply(t,ug(r.props.children,l));return}ft(r.type===Yt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=ug(r.props.children,l)),t.push(u)}),t}var lh="get",ch="application/x-www-form-urlencoded";function Yh(n){return n!=null&&typeof n.tagName=="string"}function PR(n){return Yh(n)&&n.tagName.toLowerCase()==="button"}function LR(n){return Yh(n)&&n.tagName.toLowerCase()==="form"}function UR(n){return Yh(n)&&n.tagName.toLowerCase()==="input"}function VR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zR(n,e){return n.button===0&&(!e||e==="_self")&&!VR(n)}var Wd=null;function FR(){if(Wd===null)try{new FormData(document.createElement("form"),0),Wd=!1}catch{Wd=!0}return Wd}var BR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(n){return n!=null&&!BR.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):n}function qR(n,e){let t,r,s,l,u;if(LR(n)){let m=n.getAttribute("action");r=m?jr(m,e):null,t=n.getAttribute("method")||lh,s=Lp(n.getAttribute("enctype"))||ch,l=new FormData(n)}else if(PR(n)||UR(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||m.getAttribute("action");if(r=p?jr(p,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||lh,s=Lp(n.getAttribute("formenctype"))||Lp(m.getAttribute("enctype"))||ch,l=new FormData(m,n),!FR()){let{name:y,type:_,value:w}=n;if(_==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,w)}}else{if(Yh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lh,r=null,s=ch,u=n}return l&&s==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:l,body:u}}function fy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function HR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $R(n,e,t){let r=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let u=await HR(l,t);return u.links?u.links():[]}return[]}));return XR(r.flat(1).filter(GR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function J1(n,e,t,r,s,l){let u=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,m=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>u(p,y)||m(p,y)):l==="data"?e.filter((p,y)=>{var w;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function KR(n,e,{includeHydrateFallback:t}={}){return YR(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function YR(n){return[...new Set(n)]}function QR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function XR(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let l=JSON.stringify(QR(s));return t.has(l)||(t.add(l),r.push({key:l,link:s})),r},[])}function WR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&jr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function F2(){let n=k.useContext(pl);return fy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZR(){let n=k.useContext(Kh);return fy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var my=k.createContext(void 0);my.displayName="FrameworkContext";function B2(){let n=k.useContext(my);return fy(n,"You must render this element inside a <HydratedRouter> element"),n}function JR(n,e){let t=k.useContext(my),[r,s]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:w}=e,T=k.useRef(null);k.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let B=F=>{F.forEach(V=>{u(V.isIntersecting)})},L=new IntersectionObserver(B,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[n]),k.useEffect(()=>{if(r){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[r]);let N=()=>{s(!0)},C=()=>{s(!1),u(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:Dc(m,N),onBlur:Dc(p,C),onMouseEnter:Dc(y,N),onMouseLeave:Dc(_,C),onTouchStart:Dc(w,N)}]:[!1,T,{}]}function Dc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eC({page:n,...e}){let{router:t}=F2(),r=k.useMemo(()=>C2(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?k.createElement(nC,{page:n,matches:r,...e}):null}function tC(n){let{manifest:e,routeModules:t}=B2(),[r,s]=k.useState([]);return k.useEffect(()=>{let l=!1;return $R(n,e,t).then(u=>{l||s(u)}),()=>{l=!0}},[n,e,t]),r}function nC({page:n,matches:e,...t}){let r=Wi(),{manifest:s,routeModules:l}=B2(),{basename:u}=F2(),{loaderData:m,matches:p}=ZR(),y=k.useMemo(()=>J1(n,e,p,s,r,"data"),[n,e,p,s,r]),_=k.useMemo(()=>J1(n,e,p,s,r,"assets"),[n,e,p,s,r]),w=k.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,B=!1;if(e.forEach(F=>{var G;let V=s.routes[F.route.id];!V||!V.hasLoader||(!y.some(Y=>Y.route.id===F.route.id)&&F.route.id in m&&((G=l[F.route.id])!=null&&G.shouldRevalidate)||V.hasClientLoader?B=!0:C.add(F.route.id))}),C.size===0)return[];let L=WR(n,u);return B&&C.size>0&&L.searchParams.set("_routes",e.filter(F=>C.has(F.route.id)).map(F=>F.route.id).join(",")),[L.pathname+L.search]},[u,m,r,s,y,e,n,l]),T=k.useMemo(()=>KR(_,s),[_,s]),N=tC(_);return k.createElement(k.Fragment,null,w.map(C=>k.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>k.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),N.map(({key:C,link:B})=>k.createElement("link",{key:C,...B})))}function iC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q2&&(window.__reactRouterVersion="7.3.0")}catch{}function rC({basename:n,children:e,window:t}){let r=k.useRef();r.current==null&&(r.current=KN({window:t,v5Compat:!0}));let s=r.current,[l,u]=k.useState({action:s.action,location:s.location}),m=k.useCallback(p=>{k.startTransition(()=>u(p))},[u]);return k.useLayoutEffect(()=>s.listen(m),[s,m]),k.createElement(kR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var H2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=k.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:l,replace:u,state:m,target:p,to:y,preventScrollReset:_,viewTransition:w,...T},N){let{basename:C}=k.useContext(Qi),B=typeof y=="string"&&H2.test(y),L,F=!1;if(typeof y=="string"&&B&&(L=y,q2))try{let A=new URL(window.location.href),I=y.startsWith("//")?new URL(A.protocol+y):new URL(y),O=jr(I.pathname,C);I.origin===A.origin&&O!=null?y=O+I.search+I.hash:F=!0}catch{Ki(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=_R(y,{relative:s}),[G,Y,P]=JR(r,T),ie=lC(y,{replace:u,state:m,target:p,preventScrollReset:_,relative:s,viewTransition:w});function j(A){e&&e(A),A.defaultPrevented||ie(A)}let S=k.createElement("a",{...T,...P,href:L||V,onClick:F||l?e:j,ref:iC(N,Y),target:p,"data-discover":!B&&t==="render"?"true":void 0});return G&&!B?k.createElement(k.Fragment,null,S,k.createElement(eC,{page:V})):S});Vt.displayName="Link";var aC=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:l,to:u,viewTransition:m,children:p,...y},_){let w=gu(u,{relative:y.relative}),T=Wi(),N=k.useContext(Kh),{navigator:C,basename:B}=k.useContext(Qi),L=N!=null&&fC(w)&&m===!0,F=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,V=T.pathname,G=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(V=V.toLowerCase(),G=G?G.toLowerCase():null,F=F.toLowerCase()),G&&B&&(G=jr(G,B)||G);const Y=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let P=V===F||!s&&V.startsWith(F)&&V.charAt(Y)==="/",ie=G!=null&&(G===F||!s&&G.startsWith(F)&&G.charAt(F.length)==="/"),j={isActive:P,isPending:ie,isTransitioning:L},S=P?e:void 0,A;typeof r=="function"?A=r(j):A=[r,P?"active":null,ie?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(j):l;return k.createElement(Vt,{...y,"aria-current":S,className:A,ref:_,style:I,to:u,viewTransition:m},typeof p=="function"?p(j):p)});aC.displayName="NavLink";var sC=k.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:l,method:u=lh,action:m,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:w,...T},N)=>{let C=dC(),B=hC(m,{relative:y}),L=u.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&H2.test(m),V=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let Y=G.nativeEvent.submitter,P=(Y==null?void 0:Y.getAttribute("formmethod"))||u;C(Y||G.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:s,state:l,relative:y,preventScrollReset:_,viewTransition:w})};return k.createElement("form",{ref:N,method:L,action:B,onSubmit:r?p:V,...T,"data-discover":!F&&n==="render"?"true":void 0})});sC.displayName="Form";function oC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G2(n){let e=k.useContext(pl);return ft(e,oC(n)),e}function lC(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:l,viewTransition:u}={}){let m=sn(),p=Wi(),y=gu(n,{relative:l});return k.useCallback(_=>{if(zR(_,e)){_.preventDefault();let w=t!==void 0?t:Qc(p)===Qc(y);m(n,{replace:w,state:r,preventScrollReset:s,relative:l,viewTransition:u})}},[p,m,y,t,r,e,n,s,l,u])}var cC=0,uC=()=>`__${String(++cC)}__`;function dC(){let{router:n}=G2("useSubmit"),{basename:e}=k.useContext(Qi),t=IR();return k.useCallback(async(r,s={})=>{let{action:l,method:u,encType:m,formData:p,body:y}=qR(r,e);if(s.navigate===!1){let _=s.fetcherKey||uC();await n.fetch(_,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:y,formMethod:s.method||u,formEncType:s.encType||m,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:y,formMethod:s.method||u,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function hC(n,{relative:e}={}){let{basename:t}=k.useContext(Qi),r=k.useContext(Xi);ft(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...gu(n||".",{relative:e})},u=Wi();if(n==null){l.search=u.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Cr([t,l.pathname])),Qc(l)}function fC(n,e={}){let t=k.useContext(M2);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=G2("useViewTransitionState"),s=gu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=jr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=jr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Th(s.pathname,u)!=null||Th(s.pathname,l)!=null}new TextEncoder;const mC=()=>{};var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},pC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],u=n[t++],m=n[t++],p=((s&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|u&63)}}return e.join("")},K2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const l=n[s],u=s+1<n.length,m=u?n[s+1]:0,p=s+2<n.length,y=p?n[s+2]:0,_=l>>2,w=(l&3)<<4|m>>4;let T=(m&15)<<2|y>>6,N=y&63;p||(N=64,u||(T=64)),r.push(t[_],t[w],t[T],t[N])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],m=s<n.length?t[n.charAt(s)]:0;++s;const y=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||m==null||y==null||w==null)throw new gC;const T=l<<2|m>>4;if(r.push(T),y!==64){const N=m<<4&240|y>>2;if(r.push(N),w!==64){const C=y<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yC=function(n){const e=$2(n);return K2.encodeByteArray(e,!0)},wh=function(n){return yC(n).replace(/\./g,"")},Y2=function(n){try{return K2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=()=>vC().__FIREBASE_DEFAULTS__,EC=()=>{if(typeof process>"u"||typeof eE>"u")return;const n=eE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Y2(n[1]);return e&&JSON.parse(e)},Qh=()=>{try{return mC()||_C()||EC()||bC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Q2=n=>{var e,t;return(t=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},X2=n=>{const e=Q2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},W2=()=>{var n;return(n=Qh())===null||n===void 0?void 0:n.config},Z2=n=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wh(JSON.stringify(t)),wh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function AC(){var n;const e=(n=Qh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NC(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RC(){return!AC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tT(){try{return typeof indexedDB=="object"}catch{return!1}}function nT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function CC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="FirebaseError";class hi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=IC,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qs.prototype.create)}}class Qs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],u=l?DC(l,r):"Error",m=`${this.serviceName}: ${u} (${s}).`;return new hi(s,m,r)}}function DC(n,e){return n.replace(jC,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const jC=/\{\$([^}]+)}/g;function OC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const l=n[s],u=e[s];if(tE(l)&&tE(u)){if(!Pa(l,u))return!1}else if(l!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function tE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Oc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,l]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function kc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function kC(n,e){const t=new MC(n,e);return t.subscribe.bind(t)}class MC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");PC(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Up),s.error===void 0&&(s.error=Up),s.complete===void 0&&(s.complete=Up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1e3,UC=2,VC=4*60*60*1e3,zC=.5;function nE(n,e=LC,t=UC){const r=e*Math.pow(t,n),s=Math.round(zC*r*(Math.random()-.5)*2);return Math.min(VC,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class ui{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new TC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qC(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);r===m&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BC(n){return n===Ds?void 0:n}function qC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const GC={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},$C=Fe.INFO,KC={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},YC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=KC[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xh{constructor(e){this.name=e,this._logLevel=$C,this._logHandler=YC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const QC=(n,e)=>e.some(t=>n instanceof t);let iE,rE;function XC(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WC(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iT=new WeakMap,dg=new WeakMap,rT=new WeakMap,Vp=new WeakMap,py=new WeakMap;function ZC(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ia(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&iT.set(t,n)}).catch(()=>{}),py.set(e,n),e}function JC(n){if(dg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});dg.set(n,e)}let hg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ia(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function e4(n){hg=n(hg)}function t4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(zp(this),e,...t);return rT.set(r,e.sort?e.sort():[e]),Ia(r)}:WC().includes(n)?function(...e){return n.apply(zp(this),e),Ia(iT.get(this))}:function(...e){return Ia(n.apply(zp(this),e))}}function n4(n){return typeof n=="function"?t4(n):(n instanceof IDBTransaction&&JC(n),QC(n,XC())?new Proxy(n,hg):n)}function Ia(n){if(n instanceof IDBRequest)return ZC(n);if(Vp.has(n))return Vp.get(n);const e=n4(n);return e!==n&&(Vp.set(n,e),py.set(e,n)),e}const zp=n=>py.get(n);function aT(n,e,{blocked:t,upgrade:r,blocking:s,terminated:l}={}){const u=indexedDB.open(n,e),m=Ia(u);return r&&u.addEventListener("upgradeneeded",p=>{r(Ia(u.result),p.oldVersion,p.newVersion,Ia(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const i4=["get","getKey","getAll","getAllKeys","count"],r4=["put","add","delete","clear"],Fp=new Map;function aE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=r4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||i4.includes(t)))return;const l=async function(u,...m){const p=this.transaction(u,s?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),s&&p.done]))[0]};return Fp.set(e,l),l}e4(n=>({...n,get:(e,t,r)=>aE(e,t)||n.get(e,t,r),has:(e,t)=>!!aE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(s4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function s4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fg="@firebase/app",sE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Xh("@firebase/app"),o4="@firebase/app-compat",l4="@firebase/analytics-compat",c4="@firebase/analytics",u4="@firebase/app-check-compat",d4="@firebase/app-check",h4="@firebase/auth",f4="@firebase/auth-compat",m4="@firebase/database",p4="@firebase/data-connect",g4="@firebase/database-compat",y4="@firebase/functions",v4="@firebase/functions-compat",_4="@firebase/installations",E4="@firebase/installations-compat",b4="@firebase/messaging",T4="@firebase/messaging-compat",w4="@firebase/performance",A4="@firebase/performance-compat",S4="@firebase/remote-config",x4="@firebase/remote-config-compat",N4="@firebase/storage",R4="@firebase/storage-compat",C4="@firebase/firestore",I4="@firebase/vertexai",D4="@firebase/firestore-compat",j4="firebase",O4="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="[DEFAULT]",k4={[fg]:"fire-core",[o4]:"fire-core-compat",[c4]:"fire-analytics",[l4]:"fire-analytics-compat",[d4]:"fire-app-check",[u4]:"fire-app-check-compat",[h4]:"fire-auth",[f4]:"fire-auth-compat",[m4]:"fire-rtdb",[p4]:"fire-data-connect",[g4]:"fire-rtdb-compat",[y4]:"fire-fn",[v4]:"fire-fn-compat",[_4]:"fire-iid",[E4]:"fire-iid-compat",[b4]:"fire-fcm",[T4]:"fire-fcm-compat",[w4]:"fire-perf",[A4]:"fire-perf-compat",[S4]:"fire-rc",[x4]:"fire-rc-compat",[N4]:"fire-gcs",[R4]:"fire-gcs-compat",[C4]:"fire-fst",[D4]:"fire-fst-compat",[I4]:"fire-vertex","fire-js":"fire-js",[j4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,M4=new Map,pg=new Map;function oE(n,e){try{n.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ei(n){const e=n.name;if(pg.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,n);for(const t of Ah.values())oE(t,n);for(const t of M4.values())oE(t,n);return!0}function Ka(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new Qs("app","Firebase",P4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=O4;function sT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Da.create("bad-app-name",{appName:String(s)});if(t||(t=W2()),!t)throw Da.create("no-options");const l=Ah.get(s);if(l){if(Pa(t,l.options)&&Pa(r,l.config))return l;throw Da.create("duplicate-app",{appName:s})}const u=new HC(s);for(const p of pg.values())u.addComponent(p);const m=new L4(t,r,u);return Ah.set(s,m),m}function Wh(n=mg){const e=Ah.get(n);if(!e&&n===mg&&W2())return sT();if(!e)throw Da.create("no-app",{appName:n});return e}function Dn(n,e,t){var r;let s=(r=k4[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const m=[`Unable to register library "${s}" with version "${e}":`];l&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(m.join(" "));return}Ei(new ui(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="firebase-heartbeat-database",V4=1,Xc="firebase-heartbeat-store";let Bp=null;function oT(){return Bp||(Bp=aT(U4,V4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Da.create("idb-open",{originalErrorMessage:n.message})})),Bp}async function z4(n){try{const t=(await oT()).transaction(Xc),r=await t.objectStore(Xc).get(lT(n));return await t.done,r}catch(e){if(e instanceof hi)Or.warn(e.message);else{const t=Da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(t.message)}}}async function lE(n,e){try{const r=(await oT()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,lT(n)),await r.done}catch(t){if(t instanceof hi)Or.warn(t.message);else{const r=Da.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Or.warn(r.message)}}}function lT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1024,B4=30;class q4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new G4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=cE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>B4){const u=$4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cE(),{heartbeatsToSend:r,unsentEntries:s}=H4(this._heartbeatsCache.heartbeats),l=wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Or.warn(t),""}}}function cE(){return new Date().toISOString().substring(0,10)}function H4(n,e=F4){const t=[];let r=n.slice();for(const s of n){const l=t.find(u=>u.agent===s.agent);if(l){if(l.dates.push(s.date),uE(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),uE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class G4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tT()?nT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await z4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return lE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return lE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function uE(n){return wh(JSON.stringify({version:2,heartbeats:n})).length}function $4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){Ei(new ui("platform-logger",e=>new a4(e),"PRIVATE")),Ei(new ui("heartbeat",e=>new q4(e),"PRIVATE")),Dn(fg,sE,n),Dn(fg,sE,"esm2017"),Dn("fire-js","")}K4("");var Y4="firebase",Q4="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(Y4,Q4,"app");function gy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function cT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X4=cT,uT=new Qs("auth","Firebase",cT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Xh("@firebase/auth");function W4(n,...e){Sh.logLevel<=Fe.WARN&&Sh.warn(`Auth (${Xs}): ${n}`,...e)}function uh(n,...e){Sh.logLevel<=Fe.ERROR&&Sh.error(`Auth (${Xs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n,...e){throw vy(n,...e)}function _i(n,...e){return vy(n,...e)}function yy(n,e,t){const r=Object.assign(Object.assign({},X4()),{[e]:t});return new Qs("auth","Firebase",r).create(e,{appName:n.name})}function Ir(n){return yy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z4(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&di(n,"argument-error"),yy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return uT.create(n,...e)}function Ie(n,e,...t){if(!n)throw vy(e,...t)}function xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw uh(e),new Error(e)}function kr(n,e){n||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function J4(){return dE()==="http:"||dE()==="https:"}function dE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J4()||eT()||"connection"in navigator)?navigator.onLine:!0}function tI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,kr(t>e,"Short delay should be less than long delay!"),this.isMobile=wC()||xC()}get(){return eI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n,e){kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new vu(3e4,6e4);function Ya(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qa(n,e,t,r,s={}){return hT(n,s,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const m=yu(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return SC()||(y.referrerPolicy="no-referrer"),dT.fetch()(fT(n,n.config.apiHost,t,m),y)})}async function hT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},nI),e);try{const s=new aI(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Zd(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zd(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Zd(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Zd(n,"user-disabled",u);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yy(n,_,y);di(n,_)}}catch(s){if(s instanceof hi)throw s;di(n,"network-request-failed",{message:String(s)})}}async function _u(n,e,t,r,s={}){const l=await Qa(n,e,t,r,s);return"mfaPendingCredential"in l&&di(n,"multi-factor-auth-required",{_serverResponse:l}),l}function fT(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?_y(n.config,s):`${n.config.apiScheme}://${s}`}function rI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),iI.get())})}}function Zd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=_i(n,e,r);return s.customData._tokenResponse=t,s}function hE(n){return n!==void 0&&n.enterprise!==void 0}class sI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oI(n,e){return Qa(n,"GET","/v2/recaptchaConfig",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(n,e){return Qa(n,"POST","/v1/accounts:delete",e)}async function mT(n,e){return Qa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cI(n,e=!1){const t=ct(n),r=await t.getIdToken(e),s=Ey(r);Ie(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:zc(qp(s.auth_time)),issuedAtTime:zc(qp(s.iat)),expirationTime:zc(qp(s.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function qp(n){return Number(n)*1e3}function Ey(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Y2(t);return s?JSON.parse(s):(uh("Failed to decode base64 JWT payload"),null)}catch(s){return uh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fE(n){const e=Ey(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof hi&&uI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Wc(n,mT(t,{idToken:r}));Ie(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?pT(l.providerUserInfo):[],m=fI(n.providerData,u),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(m!=null&&m.length),_=p?y:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new yg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function hI(n){const e=ct(n);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function pT(n){return n.map(e=>{var{providerId:t}=e,r=gy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(n,e){const t=await hT(n,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,u=fT(n,s,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",dT.fetch()(u,{method:"POST",headers:m,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pI(n,e){return Qa(n,"POST","/v2/accounts:revokeToken",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=fE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:l}=await mI(e,t);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:l}=t,u=new Jo;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),l&&(Ie(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,l=gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new yg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cI(this,e)}reload(){return hI(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await Wc(this,lI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,l,u,m,p,y,_;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,B=(m=t.tenantId)!==null&&m!==void 0?m:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,F=(y=t.createdAt)!==null&&y!==void 0?y:void 0,V=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:G,emailVerified:Y,isAnonymous:P,providerData:ie,stsTokenManager:j}=t;Ie(G&&j,e,"internal-error");const S=Jo.fromJSON(this.name,j);Ie(typeof G=="string",e,"internal-error"),wa(w,e.name),wa(T,e.name),Ie(typeof Y=="boolean",e,"internal-error"),Ie(typeof P=="boolean",e,"internal-error"),wa(N,e.name),wa(C,e.name),wa(B,e.name),wa(L,e.name),wa(F,e.name),wa(V,e.name);const A=new Nr({uid:G,auth:e,email:T,emailVerified:Y,displayName:w,isAnonymous:P,photoURL:C,phoneNumber:N,tenantId:B,stsTokenManager:S,createdAt:F,lastLoginAt:V});return ie&&Array.isArray(ie)&&(A.providerData=ie.map(I=>Object.assign({},I))),L&&(A._redirectEventId=L),A}static async _fromIdTokenResponse(e,t,r=!1){const s=new Jo;s.updateFromServerResponse(t);const l=new Nr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await xh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ie(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?pT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),m=new Jo;m.updateFromIdToken(r);const p=new Nr({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:u}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new yg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;function Rr(n){kr(n instanceof Function,"Expected a class definition");let e=mE.get(n);return e?(kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gT.type="NONE";const pE=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n,e,t){return`firebase:${n}:${e}:${t}`}class el{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=dh(this.userKey,s.apiKey,l),this.fullPersistenceKey=dh("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new el(Rr(pE),e,r);const s=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=s[0]||Rr(pE);const u=dh(r,e.config.apiKey,e.name);let m=null;for(const y of t)try{const _=await y._get(u);if(_){const w=Nr._fromJSON(e,_);y!==l&&(m=w),l=y;break}}catch{}const p=s.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new el(l,e,r):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new el(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ET(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(wT(e))return"Webos";if(vT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(bT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yT(n=fn()){return/firefox\//i.test(n)}function vT(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(n=fn()){return/crios\//i.test(n)}function ET(n=fn()){return/iemobile/i.test(n)}function bT(n=fn()){return/android/i.test(n)}function TT(n=fn()){return/blackberry/i.test(n)}function wT(n=fn()){return/webos/i.test(n)}function by(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gI(n=fn()){var e;return by(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yI(){return NC()&&document.documentMode===10}function AT(n=fn()){return by(n)||bT(n)||wT(n)||TT(n)||/windows phone/i.test(n)||ET(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n,e=[]){let t;switch(n){case"Browser":t=gE(fn());break;case"Worker":t=`${gE(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(n,e={}){return Qa(n,"GET","/v2/passwordPolicy",Ya(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=6;class bI{constructor(e){var t,r,s,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:EI,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,l,u,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new vI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mT(this,{idToken:e}),r=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===m)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Ir(this));const t=e?ct(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _I(this),t=new bI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,s);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ST(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&W4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xa(n){return ct(n)}class yE{constructor(e){this.auth=e,this.observer=null,this.addObserver=kC(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wI(n){Zh=n}function xT(n){return Zh.loadJS(n)}function AI(){return Zh.recaptchaEnterpriseScript}function SI(){return Zh.gapiScript}function xI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class NI{constructor(){this.enterprise=new RI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const CI="recaptcha-enterprise",NT="NO_RECAPTCHA";class II{constructor(e){this.type=CI,this.auth=Xa(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{oI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new sI(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(p=>{m(p)})})}function s(l,u,m){const p=window.grecaptcha;hE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(NT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(m=>{if(!t&&hE(window.grecaptcha))s(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AI();p.length!==0&&(p+=m),xT(p).then(()=>{s(m,l,u)}).catch(y=>{u(y)})}}).catch(m=>{u(m)})})}}async function vE(n,e,t,r=!1,s=!1){const l=new II(n);let u;if(s)u=NT;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function vg(n,e,t,r,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await vE(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await vE(n,e,t,t==="getOobCode");return r(n,m)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n,e){const t=Ka(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Pa(l,e??{}))return s;di(s,"already-initialized")}return t.initialize({options:e})}function jI(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Rr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OI(n,e,t){const r=Xa(n);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,l=RT(e),{host:u,port:m}=kI(e),p=m===null?"":`:${m}`,y={url:`${l}//${u}${p}/`},_=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Pa(y,r.config.emulator)&&Pa(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,MI()}function RT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kI(n){const e=RT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:_E(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:_E(u)}}}function _E(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,t){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function PI(n,e){return Qa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(n,e){return _u(n,"POST","/v1/accounts:signInWithPassword",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(n,e){return _u(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,e))}async function VI(n,e){return _u(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Ty{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Zc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,t,"signInWithPassword",LI);case"emailLink":return UI(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,r,"signUpPassword",PI);case"emailLink":return VI(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n,e){return _u(n,"POST","/v1/accounts:signInWithIdp",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="http://localhost";class Vs extends Ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,l=gy(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Vs(r,s);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return tl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}buildRequest(){const e={requestUri:zI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BI(n){const e=Oc(kc(n)).link,t=e?Oc(kc(e)).deep_link_id:null,r=Oc(kc(n)).deep_link_id;return(r?Oc(kc(r)).link:null)||r||t||e||n}class wy{constructor(e){var t,r,s,l,u,m;const p=Oc(kc(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,w=FI((s=p.mode)!==null&&s!==void 0?s:null);Ie(y&&_&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=BI(e);try{return new wy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,t){return Zc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wy.parseLink(t);return Ie(r,"argument-error"),Zc._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Eu{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Sr.credential(t,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Eu{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xa.credential(e.oauthAccessToken)}catch{return null}}}xa.GITHUB_SIGN_IN_METHOD="github.com";xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Eu{constructor(){super("twitter.com")}static credential(e,t){return Vs._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Na.credential(t,r)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(n,e){return _u(n,"POST","/v1/accounts:signUp",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const l=await Nr._fromIdTokenResponse(e,r,s),u=EE(r);return new zs({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=EE(r);return new zs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function EE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends hi{constructor(e,t,r,s){var l;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Nh(e,t,r,s)}}function CT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(n,l,e,r):l})}async function HI(n,e,t=!1){const r=await Wc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(n,e,t=!1){const{auth:r}=n;if(Cn(r.app))return Promise.reject(Ir(r));const s="reauthenticate";try{const l=await Wc(n,CT(r,s,e,n),t);Ie(l.idToken,r,"internal-error");const u=Ey(l.idToken);Ie(u,r,"internal-error");const{sub:m}=u;return Ie(n.uid===m,r,"user-mismatch"),zs._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&di(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(n,e,t=!1){if(Cn(n.app))return Promise.reject(Ir(n));const r="signIn",s=await CT(n,r,e),l=await zs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(l.user),l}async function $I(n,e){return IT(Xa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(n){const e=Xa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jT(n,e,t){if(Cn(n.app))return Promise.reject(Ir(n));const r=Xa(n),u=await vg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&DT(n),p}),m=await zs._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(m.user),m}function KI(n,e,t){return Cn(n.app)?Promise.reject(Ir(n)):$I(ct(n),gl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DT(n),r})}function YI(n,e,t,r){return ct(n).onIdTokenChanged(e,t,r)}function QI(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function XI(n,e,t,r){return ct(n).onAuthStateChanged(e,t,r)}function WI(n){return ct(n).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1e3,JI=10;class kT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);yI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,JI):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kT.type="LOCAL";const e3=kT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MT.type="SESSION";const PT=MT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:l}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const m=Array.from(u).map(async y=>y(t.origin,l)),p=await t3(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const y=Sy("",20);s.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const T=w;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(T.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function i3(n){Hi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function r3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a3(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function s3(){return LT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebaseLocalStorageDb",o3=1,Ch="firebaseLocalStorage",VT="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ef(n,e){return n.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function l3(){const n=indexedDB.deleteDatabase(UT);return new bu(n).toPromise()}function _g(){const n=indexedDB.open(UT,o3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ch,{keyPath:VT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ch)?e(r):(r.close(),await l3(),e(await _g()))})})}async function bE(n,e,t){const r=ef(n,!0).put({[VT]:e,value:t});return new bu(r).toPromise()}async function c3(n,e){const t=ef(n,!1).get(e),r=await new bu(t).toPromise();return r===void 0?null:r.value}function TE(n,e){const t=ef(n,!0).delete(e);return new bu(t).toPromise()}const u3=800,d3=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>d3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(s3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await r3(),!this.activeServiceWorker)return;this.sender=new n3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _g();return await bE(e,Rh,"1"),await TE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>c3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=ef(s,!1).getAll();return new bu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const h3=zT;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n,e){return e?Rr(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends Ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function f3(n){return IT(n.auth,new xy(n),n.bypassAuthState)}function m3(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),GI(t,new xy(n),n.bypassAuthState)}async function p3(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),HI(t,new xy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f3;case"linkViaPopup":case"linkViaRedirect":return p3;case"reauthViaPopup":case"reauthViaRedirect":return m3;default:di(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new vu(2e3,1e4);async function y3(n,e,t){if(Cn(n.app))return Promise.reject(_i(n,"operation-not-supported-in-this-environment"));const r=Xa(n);Z4(n,e,Ay);const s=FT(r,t);return new js(r,"signInViaPopup",e,s).executeNotNull()}class js extends BT{constructor(e,t,r,s,l){super(e,t,s,l),this.provider=r,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g3.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="pendingRedirect",hh=new Map;class _3 extends BT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await E3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E3(n,e){const t=w3(e),r=T3(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function b3(n,e){hh.set(n._key(),e)}function T3(n){return Rr(n._redirectPersistence)}function w3(n){return dh(v3,n.config.apiKey,n.name)}async function A3(n,e,t=!1){if(Cn(n.app))return Promise.reject(Ir(n));const r=Xa(n),s=FT(r,e),u=await new _3(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=10*60*1e3;class x3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!qT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(_i(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S3&&this.cachedEventUids.clear(),this.cachedEventUids.has(wE(e))}saveEventToCache(e){this.cachedEventUids.add(wE(e)),this.lastProcessedEventTime=Date.now()}}function wE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function N3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(n,e={}){return Qa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I3=/^https?/;async function D3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await R3(n);for(const t of e)try{if(j3(t))return}catch{}di(n,"unauthorized-domain")}function j3(n){const e=gg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!I3.test(t))return!1;if(C3.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new vu(3e4,6e4);function AE(){const n=Hi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function k3(n){return new Promise((e,t)=>{var r,s,l;function u(){AE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AE(),t(_i(n,"network-request-failed"))},timeout:O3.get()})}if(!((s=(r=Hi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Hi().gapi)===null||l===void 0)&&l.load)u();else{const m=xI("iframefcb");return Hi()[m]=()=>{gapi.load?u():t(_i(n,"network-request-failed"))},xT(`${SI()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw fh=null,e})}let fh=null;function M3(n){return fh=fh||k3(n),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=new vu(5e3,15e3),L3="__/auth/iframe",U3="emulator/auth/iframe",V3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F3(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_y(e,U3):`https://${n.config.authDomain}/${L3}`,r={apiKey:e.apiKey,appName:n.name,v:Xs},s=z3.get(n.config.apiHost);s&&(r.eid=s);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${yu(r).slice(1)}`}async function B3(n){const e=await M3(n),t=Hi().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:F3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V3,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const u=_i(n,"network-request-failed"),m=Hi().setTimeout(()=>{l(u)},P3.get());function p(){Hi().clearTimeout(m),s(r)}r.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H3=500,G3=600,$3="_blank",K3="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y3(n,e,t,r=H3,s=G3){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p=Object.assign(Object.assign({},q3),{width:r.toString(),height:s.toString(),top:l,left:u}),y=fn().toLowerCase();t&&(m=_T(y)?$3:t),yT(y)&&(e=e||K3,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[N,C])=>`${T}${N}=${C},`,"");if(gI(y)&&m!=="_self")return Q3(e||"",m),new SE(null);const w=window.open(e||"",m,_);Ie(w,n,"popup-blocked");try{w.focus()}catch{}return new SE(w)}function Q3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="__/auth/handler",W3="emulator/auth/handler",Z3=encodeURIComponent("fac");async function xE(n,e,t,r,s,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xs,eventId:s};if(e instanceof Ay){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",OC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof Eu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const m=u;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await n._getAppCheckToken(),y=p?`#${Z3}=${encodeURIComponent(p)}`:"";return`${J3(n)}?${yu(m).slice(1)}${y}`}function J3({config:n}){return n.emulator?_y(n,W3):`https://${n.authDomain}/${X3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="webStorageSupport";class eD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=A3,this._overrideRedirectResult=b3}async _openPopup(e,t,r,s){var l;kr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await xE(e,t,r,gg(),s);return Y3(e,u,Sy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const l=await xE(e,t,r,gg(),s);return i3(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(kr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await B3(e),r=new x3(e);return t.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hp,{type:Hp},s=>{var l;const u=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[Hp];u!==void 0&&t(!!u),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=D3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AT()||vT()||by()}}const tD=eD;var NE="@firebase/auth",RE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rD(n){Ei(new ui("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=r.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ST(n)},y=new TI(r,s,l,p);return jI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ei(new ui("auth-internal",e=>{const t=Xa(e.getProvider("auth").getImmediate());return(r=>new nD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(NE,RE,iD(n)),Dn(NE,RE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=5*60,sD=Z2("authIdTokenMaxAge")||aD;let CE=null;const oD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>sD)return;const s=t==null?void 0:t.token;CE!==s&&(CE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function al(n=Wh()){const e=Ka(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DI(n,{popupRedirectResolver:tD,persistence:[h3,e3,PT]}),r=Z2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=oD(l.toString());QI(t,u,()=>u(t.currentUser)),YI(t,m=>u(m))}}const s=Q2("auth");return s&&OI(t,`http://${s}`),t}function lD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}wI({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const l=_i("internal-error");l.customData=s,t(l)},r.type="text/javascript",r.charset="UTF-8",lD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rD("Browser");const HT="@firebase/installations",Ny="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=1e4,$T=`w:${Ny}`,KT="FIS_v2",cD="https://firebaseinstallations.googleapis.com/v1",uD=60*60*1e3,dD="installations",hD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fs=new Qs(dD,hD,fD);function YT(n){return n instanceof hi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT({projectId:n}){return`${cD}/projects/${n}/installations`}function XT(n){return{token:n.token,requestStatus:2,expiresIn:pD(n.expiresIn),creationTime:Date.now()}}async function WT(n,e){const r=(await e.json()).error;return Fs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ZT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function mD(n,{refreshToken:e}){const t=ZT(n);return t.append("Authorization",gD(e)),t}async function JT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function pD(n){return Number(n.replace("s","000"))}function gD(n){return`${KT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=QT(n),s=ZT(n),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const u={fid:t,authVersion:KT,appId:n.appId,sdkVersion:$T},m={method:"POST",headers:s,body:JSON.stringify(u)},p=await JT(()=>fetch(r,m));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:XT(y.authToken)}}else throw await WT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=/^[cdef][\w-]{21}$/,Eg="";function ED(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=bD(n);return _D.test(t)?t:Eg}catch{return Eg}}function bD(n){return vD(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new Map;function nw(n,e){const t=tf(n);iw(t,e),TD(t,e)}function iw(n,e){const t=tw.get(n);if(t)for(const r of t)r(e)}function TD(n,e){const t=wD();t&&t.postMessage({key:n,fid:e}),AD()}let Os=null;function wD(){return!Os&&"BroadcastChannel"in self&&(Os=new BroadcastChannel("[Firebase] FID Change"),Os.onmessage=n=>{iw(n.data.key,n.data.fid)}),Os}function AD(){tw.size===0&&Os&&(Os.close(),Os=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="firebase-installations-database",xD=1,Bs="firebase-installations-store";let Gp=null;function Ry(){return Gp||(Gp=aT(SD,xD,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Bs)}}})),Gp}async function Ih(n,e){const t=tf(n),s=(await Ry()).transaction(Bs,"readwrite"),l=s.objectStore(Bs),u=await l.get(t);return await l.put(e,t),await s.done,(!u||u.fid!==e.fid)&&nw(n,e.fid),e}async function rw(n){const e=tf(n),r=(await Ry()).transaction(Bs,"readwrite");await r.objectStore(Bs).delete(e),await r.done}async function nf(n,e){const t=tf(n),s=(await Ry()).transaction(Bs,"readwrite"),l=s.objectStore(Bs),u=await l.get(t),m=e(u);return m===void 0?await l.delete(t):await l.put(m,t),await s.done,m&&(!u||u.fid!==m.fid)&&nw(n,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cy(n){let e;const t=await nf(n.appConfig,r=>{const s=ND(r),l=RD(n,s);return e=l.registrationPromise,l.installationEntry});return t.fid===Eg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function ND(n){const e=n||{fid:ED(),registrationStatus:0};return aw(e)}function RD(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Fs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=CD(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ID(n)}:{installationEntry:e}}async function CD(n,e){try{const t=await yD(n,e);return Ih(n.appConfig,t)}catch(t){throw YT(t)&&t.customData.serverCode===409?await rw(n.appConfig):await Ih(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function ID(n){let e=await IE(n.appConfig);for(;e.registrationStatus===1;)await ew(100),e=await IE(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Cy(n);return r||t}return e}function IE(n){return nf(n,e=>{if(!e)throw Fs.create("installation-not-found");return aw(e)})}function aw(n){return DD(n)?{fid:n.fid,registrationStatus:0}:n}function DD(n){return n.registrationStatus===1&&n.registrationTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD({appConfig:n,heartbeatServiceProvider:e},t){const r=OD(n,t),s=mD(n,t),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const u={installation:{sdkVersion:$T,appId:n.appId}},m={method:"POST",headers:s,body:JSON.stringify(u)},p=await JT(()=>fetch(r,m));if(p.ok){const y=await p.json();return XT(y)}else throw await WT("Generate Auth Token",p)}function OD(n,{fid:e}){return`${QT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(n,e=!1){let t;const r=await nf(n.appConfig,l=>{if(!sw(l))throw Fs.create("not-registered");const u=l.authToken;if(!e&&PD(u))return l;if(u.requestStatus===1)return t=kD(n,e),l;{if(!navigator.onLine)throw Fs.create("app-offline");const m=UD(l);return t=MD(n,m),m}});return t?await t:r.authToken}async function kD(n,e){let t=await DE(n.appConfig);for(;t.authToken.requestStatus===1;)await ew(100),t=await DE(n.appConfig);const r=t.authToken;return r.requestStatus===0?Iy(n,e):r}function DE(n){return nf(n,e=>{if(!sw(e))throw Fs.create("not-registered");const t=e.authToken;return VD(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function MD(n,e){try{const t=await jD(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Ih(n.appConfig,r),t}catch(t){if(YT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await rw(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ih(n.appConfig,r)}throw t}}function sw(n){return n!==void 0&&n.registrationStatus===2}function PD(n){return n.requestStatus===2&&!LD(n)}function LD(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+uD}function UD(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function VD(n){return n.requestStatus===1&&n.requestTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n){const e=n,{installationEntry:t,registrationPromise:r}=await Cy(e);return r?r.catch(console.error):Iy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(n,e=!1){const t=n;return await BD(t),(await Iy(t,e)).token}async function BD(n){const{registrationPromise:e}=await Cy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(n){if(!n||!n.options)throw $p("App Configuration");if(!n.name)throw $p("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw $p(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function $p(n){return Fs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="installations",HD="installations-internal",GD=n=>{const e=n.getProvider("app").getImmediate(),t=qD(e),r=Ka(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$D=n=>{const e=n.getProvider("app").getImmediate(),t=Ka(e,ow).getImmediate();return{getId:()=>zD(t),getToken:s=>FD(t,s)}};function KD(){Ei(new ui(ow,GD,"PUBLIC")),Ei(new ui(HD,$D,"PRIVATE"))}KD();Dn(HT,Ny);Dn(HT,Ny,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="analytics",YD="firebase_id",QD="origin",XD=60*1e3,WD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new Xh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bn=new Qs("analytics","Analytics",ZD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){if(!n.startsWith(Dy)){const e=Bn.create("invalid-gtag-resource",{gtagURL:n});return jn.warn(e.message),""}return n}function lw(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function e6(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function t6(n,e){const t=e6("firebase-js-sdk-policy",{createScriptURL:JD}),r=document.createElement("script"),s=`${Dy}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function n6(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function i6(n,e,t,r,s,l){const u=r[s];try{if(u)await e[u];else{const p=(await lw(t)).find(y=>y.measurementId===s);p&&await e[p.appId]}}catch(m){jn.error(m)}n("config",s,l)}async function r6(n,e,t,r,s){try{let l=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const m=await lw(t);for(const p of u){const y=m.find(w=>w.measurementId===p),_=y&&e[y.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,s||{})}catch(l){jn.error(l)}}function a6(n,e,t,r){async function s(l,...u){try{if(l==="event"){const[m,p]=u;await r6(n,e,t,m,p)}else if(l==="config"){const[m,p]=u;await i6(n,e,t,r,m,p)}else if(l==="consent"){const[m,p]=u;n("consent",m,p)}else if(l==="get"){const[m,p,y]=u;n("get",m,p,y)}else if(l==="set"){const[m]=u;n("set",m)}else n(l,...u)}catch(m){jn.error(m)}}return s}function s6(n,e,t,r,s){let l=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(l=window[s]),window[s]=a6(l,n,e,t),{gtagCore:l,wrappedGtag:window[s]}}function o6(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Dy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=30,c6=1e3;class u6{constructor(e={},t=c6){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cw=new u6;function d6(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function h6(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:d6(r)},l=WD.replace("{app-id}",t),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let m="";try{const p=await u.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function f6(n,e=cw,t){const{appId:r,apiKey:s,measurementId:l}=n.options;if(!r)throw Bn.create("no-app-id");if(!s){if(l)return{measurementId:l,appId:r};throw Bn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new g6;return setTimeout(async()=>{m.abort()},XD),uw({appId:r,apiKey:s,measurementId:l},u,m,e)}async function uw(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=cw){var l;const{appId:u,measurementId:m}=n;try{await m6(r,e)}catch(p){if(m)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:m};throw p}try{const p=await h6(n);return s.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!p6(y)){if(s.deleteThrottleMetadata(u),m)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:m};throw p}const _=Number((l=y==null?void 0:y.customData)===null||l===void 0?void 0:l.httpStatus)===503?nE(t,s.intervalMillis,l6):nE(t,s.intervalMillis),w={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return s.setThrottleMetadata(u,w),jn.debug(`Calling attemptFetch again in ${_} millis`),uw(n,w,r,s)}}function m6(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),l=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(l),r(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function p6(n){if(!(n instanceof hi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class g6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function y6(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const l=await e,u=Object.assign(Object.assign({},r),{send_to:l});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(){if(tT())try{await nT()}catch(n){return jn.warn(Bn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return jn.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _6(n,e,t,r,s,l,u){var m;const p=f6(n);p.then(N=>{t[N.measurementId]=N.appId,n.options.measurementId&&N.measurementId!==n.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>jn.error(N)),e.push(p);const y=v6().then(N=>{if(N)return r.getId()}),[_,w]=await Promise.all([p,y]);o6(l)||t6(l,_.measurementId),s("js",new Date);const T=(m=u==null?void 0:u.config)!==null&&m!==void 0?m:{};return T[QD]="firebase",T.update=!0,w!=null&&(T[YD]=w),s("config",_.measurementId,T),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.app=e}_delete(){return delete Fc[this.app.options.appId],Promise.resolve()}}let Fc={},jE=[];const OE={};let Kp="dataLayer",b6="gtag",kE,dw,ME=!1;function T6(){const n=[];if(eT()&&n.push("This is a browser extension environment."),CC()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Bn.create("invalid-analytics-context",{errorInfo:e});jn.warn(t.message)}}function w6(n,e,t){T6();const r=n.options.appId;if(!r)throw Bn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bn.create("no-api-key");if(Fc[r]!=null)throw Bn.create("already-exists",{id:r});if(!ME){n6(Kp);const{wrappedGtag:l,gtagCore:u}=s6(Fc,jE,OE,Kp,b6);dw=l,kE=u,ME=!0}return Fc[r]=_6(n,jE,OE,e,kE,Kp,t),new E6(n)}function A6(n=Wh()){n=ct(n);const e=Ka(n,Dh);return e.isInitialized()?e.getImmediate():S6(n)}function S6(n,e={}){const t=Ka(n,Dh);if(t.isInitialized()){const s=t.getImmediate();if(Pa(e,t.getOptions()))return s;throw Bn.create("already-initialized")}return t.initialize({options:e})}function x6(n,e,t,r){n=ct(n),y6(dw,Fc[n.app.options.appId],e,t,r).catch(s=>jn.error(s))}const PE="@firebase/analytics",LE="0.10.12";function N6(){Ei(new ui(Dh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return w6(r,s,t)},"PUBLIC")),Ei(new ui("analytics-internal",n,"PRIVATE")),Dn(PE,LE),Dn(PE,LE,"esm2017");function n(e){try{const t=e.getProvider(Dh).getImmediate();return{logEvent:(r,s,l)=>x6(t,r,s,l)}}catch(t){throw Bn.create("interop-component-reg-failed",{reason:t})}}}N6();var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ja,hw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,S){function A(){}A.prototype=S.prototype,j.D=S.prototype,j.prototype=new A,j.prototype.constructor=j,j.C=function(I,O,z){for(var D=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)D[Re-2]=arguments[Re];return S.prototype[O].apply(I,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,S,A){A||(A=0);var I=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)I[O]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(O=0;16>O;++O)I[O]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=j.g[0],A=j.g[1],O=j.g[2];var z=j.g[3],D=S+(z^A&(O^z))+I[0]+3614090360&4294967295;S=A+(D<<7&4294967295|D>>>25),D=z+(O^S&(A^O))+I[1]+3905402710&4294967295,z=S+(D<<12&4294967295|D>>>20),D=O+(A^z&(S^A))+I[2]+606105819&4294967295,O=z+(D<<17&4294967295|D>>>15),D=A+(S^O&(z^S))+I[3]+3250441966&4294967295,A=O+(D<<22&4294967295|D>>>10),D=S+(z^A&(O^z))+I[4]+4118548399&4294967295,S=A+(D<<7&4294967295|D>>>25),D=z+(O^S&(A^O))+I[5]+1200080426&4294967295,z=S+(D<<12&4294967295|D>>>20),D=O+(A^z&(S^A))+I[6]+2821735955&4294967295,O=z+(D<<17&4294967295|D>>>15),D=A+(S^O&(z^S))+I[7]+4249261313&4294967295,A=O+(D<<22&4294967295|D>>>10),D=S+(z^A&(O^z))+I[8]+1770035416&4294967295,S=A+(D<<7&4294967295|D>>>25),D=z+(O^S&(A^O))+I[9]+2336552879&4294967295,z=S+(D<<12&4294967295|D>>>20),D=O+(A^z&(S^A))+I[10]+4294925233&4294967295,O=z+(D<<17&4294967295|D>>>15),D=A+(S^O&(z^S))+I[11]+2304563134&4294967295,A=O+(D<<22&4294967295|D>>>10),D=S+(z^A&(O^z))+I[12]+1804603682&4294967295,S=A+(D<<7&4294967295|D>>>25),D=z+(O^S&(A^O))+I[13]+4254626195&4294967295,z=S+(D<<12&4294967295|D>>>20),D=O+(A^z&(S^A))+I[14]+2792965006&4294967295,O=z+(D<<17&4294967295|D>>>15),D=A+(S^O&(z^S))+I[15]+1236535329&4294967295,A=O+(D<<22&4294967295|D>>>10),D=S+(O^z&(A^O))+I[1]+4129170786&4294967295,S=A+(D<<5&4294967295|D>>>27),D=z+(A^O&(S^A))+I[6]+3225465664&4294967295,z=S+(D<<9&4294967295|D>>>23),D=O+(S^A&(z^S))+I[11]+643717713&4294967295,O=z+(D<<14&4294967295|D>>>18),D=A+(z^S&(O^z))+I[0]+3921069994&4294967295,A=O+(D<<20&4294967295|D>>>12),D=S+(O^z&(A^O))+I[5]+3593408605&4294967295,S=A+(D<<5&4294967295|D>>>27),D=z+(A^O&(S^A))+I[10]+38016083&4294967295,z=S+(D<<9&4294967295|D>>>23),D=O+(S^A&(z^S))+I[15]+3634488961&4294967295,O=z+(D<<14&4294967295|D>>>18),D=A+(z^S&(O^z))+I[4]+3889429448&4294967295,A=O+(D<<20&4294967295|D>>>12),D=S+(O^z&(A^O))+I[9]+568446438&4294967295,S=A+(D<<5&4294967295|D>>>27),D=z+(A^O&(S^A))+I[14]+3275163606&4294967295,z=S+(D<<9&4294967295|D>>>23),D=O+(S^A&(z^S))+I[3]+4107603335&4294967295,O=z+(D<<14&4294967295|D>>>18),D=A+(z^S&(O^z))+I[8]+1163531501&4294967295,A=O+(D<<20&4294967295|D>>>12),D=S+(O^z&(A^O))+I[13]+2850285829&4294967295,S=A+(D<<5&4294967295|D>>>27),D=z+(A^O&(S^A))+I[2]+4243563512&4294967295,z=S+(D<<9&4294967295|D>>>23),D=O+(S^A&(z^S))+I[7]+1735328473&4294967295,O=z+(D<<14&4294967295|D>>>18),D=A+(z^S&(O^z))+I[12]+2368359562&4294967295,A=O+(D<<20&4294967295|D>>>12),D=S+(A^O^z)+I[5]+4294588738&4294967295,S=A+(D<<4&4294967295|D>>>28),D=z+(S^A^O)+I[8]+2272392833&4294967295,z=S+(D<<11&4294967295|D>>>21),D=O+(z^S^A)+I[11]+1839030562&4294967295,O=z+(D<<16&4294967295|D>>>16),D=A+(O^z^S)+I[14]+4259657740&4294967295,A=O+(D<<23&4294967295|D>>>9),D=S+(A^O^z)+I[1]+2763975236&4294967295,S=A+(D<<4&4294967295|D>>>28),D=z+(S^A^O)+I[4]+1272893353&4294967295,z=S+(D<<11&4294967295|D>>>21),D=O+(z^S^A)+I[7]+4139469664&4294967295,O=z+(D<<16&4294967295|D>>>16),D=A+(O^z^S)+I[10]+3200236656&4294967295,A=O+(D<<23&4294967295|D>>>9),D=S+(A^O^z)+I[13]+681279174&4294967295,S=A+(D<<4&4294967295|D>>>28),D=z+(S^A^O)+I[0]+3936430074&4294967295,z=S+(D<<11&4294967295|D>>>21),D=O+(z^S^A)+I[3]+3572445317&4294967295,O=z+(D<<16&4294967295|D>>>16),D=A+(O^z^S)+I[6]+76029189&4294967295,A=O+(D<<23&4294967295|D>>>9),D=S+(A^O^z)+I[9]+3654602809&4294967295,S=A+(D<<4&4294967295|D>>>28),D=z+(S^A^O)+I[12]+3873151461&4294967295,z=S+(D<<11&4294967295|D>>>21),D=O+(z^S^A)+I[15]+530742520&4294967295,O=z+(D<<16&4294967295|D>>>16),D=A+(O^z^S)+I[2]+3299628645&4294967295,A=O+(D<<23&4294967295|D>>>9),D=S+(O^(A|~z))+I[0]+4096336452&4294967295,S=A+(D<<6&4294967295|D>>>26),D=z+(A^(S|~O))+I[7]+1126891415&4294967295,z=S+(D<<10&4294967295|D>>>22),D=O+(S^(z|~A))+I[14]+2878612391&4294967295,O=z+(D<<15&4294967295|D>>>17),D=A+(z^(O|~S))+I[5]+4237533241&4294967295,A=O+(D<<21&4294967295|D>>>11),D=S+(O^(A|~z))+I[12]+1700485571&4294967295,S=A+(D<<6&4294967295|D>>>26),D=z+(A^(S|~O))+I[3]+2399980690&4294967295,z=S+(D<<10&4294967295|D>>>22),D=O+(S^(z|~A))+I[10]+4293915773&4294967295,O=z+(D<<15&4294967295|D>>>17),D=A+(z^(O|~S))+I[1]+2240044497&4294967295,A=O+(D<<21&4294967295|D>>>11),D=S+(O^(A|~z))+I[8]+1873313359&4294967295,S=A+(D<<6&4294967295|D>>>26),D=z+(A^(S|~O))+I[15]+4264355552&4294967295,z=S+(D<<10&4294967295|D>>>22),D=O+(S^(z|~A))+I[6]+2734768916&4294967295,O=z+(D<<15&4294967295|D>>>17),D=A+(z^(O|~S))+I[13]+1309151649&4294967295,A=O+(D<<21&4294967295|D>>>11),D=S+(O^(A|~z))+I[4]+4149444226&4294967295,S=A+(D<<6&4294967295|D>>>26),D=z+(A^(S|~O))+I[11]+3174756917&4294967295,z=S+(D<<10&4294967295|D>>>22),D=O+(S^(z|~A))+I[2]+718787259&4294967295,O=z+(D<<15&4294967295|D>>>17),D=A+(z^(O|~S))+I[9]+3951481745&4294967295,j.g[0]=j.g[0]+S&4294967295,j.g[1]=j.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,j.g[2]=j.g[2]+O&4294967295,j.g[3]=j.g[3]+z&4294967295}r.prototype.u=function(j,S){S===void 0&&(S=j.length);for(var A=S-this.blockSize,I=this.B,O=this.h,z=0;z<S;){if(O==0)for(;z<=A;)s(this,j,z),z+=this.blockSize;if(typeof j=="string"){for(;z<S;)if(I[O++]=j.charCodeAt(z++),O==this.blockSize){s(this,I),O=0;break}}else for(;z<S;)if(I[O++]=j[z++],O==this.blockSize){s(this,I),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var S=1;S<j.length-8;++S)j[S]=0;var A=8*this.o;for(S=j.length-8;S<j.length;++S)j[S]=A&255,A/=256;for(this.u(j),j=Array(16),S=A=0;4>S;++S)for(var I=0;32>I;I+=8)j[A++]=this.g[S]>>>I&255;return j};function l(j,S){var A=m;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=S(j)}function u(j,S){this.h=S;for(var A=[],I=!0,O=j.length-1;0<=O;O--){var z=j[O]|0;I&&z==S||(A[O]=z,I=!1)}this.g=A}var m={};function p(j){return-128<=j&&128>j?l(j,function(S){return new u([S|0],0>S?-1:0)}):new u([j|0],0>j?-1:0)}function y(j){if(isNaN(j)||!isFinite(j))return w;if(0>j)return L(y(-j));for(var S=[],A=1,I=0;j>=A;I++)S[I]=j/A|0,A*=4294967296;return new u(S,0)}function _(j,S){if(j.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(j.charAt(0)=="-")return L(_(j.substring(1),S));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(S,8)),I=w,O=0;O<j.length;O+=8){var z=Math.min(8,j.length-O),D=parseInt(j.substring(O,O+z),S);8>z?(z=y(Math.pow(S,z)),I=I.j(z).add(y(D))):(I=I.j(A),I=I.add(y(D)))}return I}var w=p(0),T=p(1),N=p(16777216);n=u.prototype,n.m=function(){if(B(this))return-L(this).m();for(var j=0,S=1,A=0;A<this.g.length;A++){var I=this.i(A);j+=(0<=I?I:4294967296+I)*S,S*=4294967296}return j},n.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(C(this))return"0";if(B(this))return"-"+L(this).toString(j);for(var S=y(Math.pow(j,6)),A=this,I="";;){var O=Y(A,S).g;A=F(A,O.j(S));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(j);if(A=O,C(A))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},n.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function C(j){if(j.h!=0)return!1;for(var S=0;S<j.g.length;S++)if(j.g[S]!=0)return!1;return!0}function B(j){return j.h==-1}n.l=function(j){return j=F(this,j),B(j)?-1:C(j)?0:1};function L(j){for(var S=j.g.length,A=[],I=0;I<S;I++)A[I]=~j.g[I];return new u(A,~j.h).add(T)}n.abs=function(){return B(this)?L(this):this},n.add=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],I=0,O=0;O<=S;O++){var z=I+(this.i(O)&65535)+(j.i(O)&65535),D=(z>>>16)+(this.i(O)>>>16)+(j.i(O)>>>16);I=D>>>16,z&=65535,D&=65535,A[O]=D<<16|z}return new u(A,A[A.length-1]&-2147483648?-1:0)};function F(j,S){return j.add(L(S))}n.j=function(j){if(C(this)||C(j))return w;if(B(this))return B(j)?L(this).j(L(j)):L(L(this).j(j));if(B(j))return L(this.j(L(j)));if(0>this.l(N)&&0>j.l(N))return y(this.m()*j.m());for(var S=this.g.length+j.g.length,A=[],I=0;I<2*S;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<j.g.length;O++){var z=this.i(I)>>>16,D=this.i(I)&65535,Re=j.i(O)>>>16,_e=j.i(O)&65535;A[2*I+2*O]+=D*_e,V(A,2*I+2*O),A[2*I+2*O+1]+=z*_e,V(A,2*I+2*O+1),A[2*I+2*O+1]+=D*Re,V(A,2*I+2*O+1),A[2*I+2*O+2]+=z*Re,V(A,2*I+2*O+2)}for(I=0;I<S;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=S;I<2*S;I++)A[I]=0;return new u(A,0)};function V(j,S){for(;(j[S]&65535)!=j[S];)j[S+1]+=j[S]>>>16,j[S]&=65535,S++}function G(j,S){this.g=j,this.h=S}function Y(j,S){if(C(S))throw Error("division by zero");if(C(j))return new G(w,w);if(B(j))return S=Y(L(j),S),new G(L(S.g),L(S.h));if(B(S))return S=Y(j,L(S)),new G(L(S.g),S.h);if(30<j.g.length){if(B(j)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var A=T,I=S;0>=I.l(j);)A=P(A),I=P(I);var O=ie(A,1),z=ie(I,1);for(I=ie(I,2),A=ie(A,2);!C(I);){var D=z.add(I);0>=D.l(j)&&(O=O.add(A),z=D),I=ie(I,1),A=ie(A,1)}return S=F(j,O.j(S)),new G(O,S)}for(O=w;0<=j.l(S);){for(A=Math.max(1,Math.floor(j.m()/S.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=y(A),D=z.j(S);B(D)||0<D.l(j);)A-=I,z=y(A),D=z.j(S);C(z)&&(z=T),O=O.add(z),j=F(j,D)}return new G(O,j)}n.A=function(j){return Y(this,j).h},n.and=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],I=0;I<S;I++)A[I]=this.i(I)&j.i(I);return new u(A,this.h&j.h)},n.or=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],I=0;I<S;I++)A[I]=this.i(I)|j.i(I);return new u(A,this.h|j.h)},n.xor=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],I=0;I<S;I++)A[I]=this.i(I)^j.i(I);return new u(A,this.h^j.h)};function P(j){for(var S=j.g.length+1,A=[],I=0;I<S;I++)A[I]=j.i(I)<<1|j.i(I-1)>>>31;return new u(A,j.h)}function ie(j,S){var A=S>>5;S%=32;for(var I=j.g.length-A,O=[],z=0;z<I;z++)O[z]=0<S?j.i(z+A)>>>S|j.i(z+A+1)<<32-S:j.i(z+A);return new u(O,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,ja=u}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fw,Mc,mw,mh,bg,pw,gw,yw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jd=="object"&&Jd];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(h,v){if(v)e:{var E=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var K=h[R];if(!(K in E))break e;E=E[K]}h=h[h.length-1],R=E[h],v=v(R),v!=R&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,R=!1,K={next:function(){if(!R&&E<h.length){var W=E++;return{value:v(W,h[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},m=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,E){return h.call.apply(h.bind,arguments)}function w(h,v,E){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,R),h.apply(v,K)}}return function(){return h.apply(v,arguments)}}function T(h,v,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function N(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function C(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(R,K,W){for(var ye=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ye[Ge-2]=arguments[Ge];return v.prototype[K].apply(R,ye)}}function B(h){const v=h.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=h[R];return E}return[]}function L(h,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(p(R)){const K=h.length||0,W=R.length||0;h.length=K+W;for(let ye=0;ye<W;ye++)h[K+ye]=R[ye]}else h.push(R)}}class F{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function Y(h){return Y[" "](h),h}Y[" "]=function(){};var P=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ie(h,v,E){for(const R in h)v.call(E,h[R],R,h)}function j(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function S(h){const v={};for(const E in h)v[E]=h[E];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,v){let E,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(E in R)h[E]=R[E];for(let W=0;W<A.length;W++)E=A[W],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function O(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function z(h){m.setTimeout(()=>{throw h},0)}function D(){var h=ne;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Re{constructor(){this.h=this.g=null}add(v,E){const R=_e.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var _e=new F(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ue=!1,ne=new Re,U=()=>{const h=m.Promise.resolve(void 0);oe=()=>{h.then(Z)}};var Z=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(E){z(E)}var v=_e;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ue=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};m.addEventListener("test",E,v),m.removeEventListener("test",E,v)}catch{}return h}();function ee(h,v){if(de.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(P){e:{try{Y(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:he[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ee.aa.h.call(this)}}C(ee,de);var he={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),ve=0;function De(h,v,E,R,K){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=K,this.key=++ve,this.da=this.fa=!1}function Ze(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pn(h){this.src=h,this.g={},this.h=0}pn.prototype.add=function(h,v,E,R,K){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var ye=Gn(h,v,R,K);return-1<ye?(v=h[ye],E||(v.fa=!1)):(v=new De(v,this.src,W,!!R,K),v.fa=E,h.push(v)),v};function Zi(h,v){var E=v.type;if(E in h.g){var R=h.g[E],K=Array.prototype.indexOf.call(R,v,void 0),W;(W=0<=K)&&Array.prototype.splice.call(R,K,1),W&&(Ze(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Gn(h,v,E,R){for(var K=0;K<h.length;++K){var W=h[K];if(!W.da&&W.listener==v&&W.capture==!!E&&W.ha==R)return K}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),Fr={};function Ji(h,v,E,R,K){if(Array.isArray(v)){for(var W=0;W<v.length;W++)Ji(h,v[W],E,R,K);return null}return E=Iu(E),h&&h[Ae]?h.K(v,E,y(R)?!!R.capture:!1,K):wl(h,v,E,!1,R,K)}function wl(h,v,E,R,K,W){if(!v)throw Error("Invalid event type");var ye=y(K)?!!K.capture:!!K,Ge=Al(h);if(Ge||(h[zr]=Ge=new pn(h)),E=Ge.add(v,E,R,ye,W),E.proxy)return E;if(R=to(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)ge||(K=ye),K===void 0&&(K=!1),h.addEventListener(v.toString(),R,K);else if(h.attachEvent)h.attachEvent(io(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function to(){function h(E){return v.call(h.src,h.listener,E)}const v=jf;return h}function no(h,v,E,R,K){if(Array.isArray(v))for(var W=0;W<v.length;W++)no(h,v[W],E,R,K);else R=y(R)?!!R.capture:!!R,E=Iu(E),h&&h[Ae]?(h=h.i,v=String(v).toString(),v in h.g&&(W=h.g[v],E=Gn(W,E,R,K),-1<E&&(Ze(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete h.g[v],h.h--)))):h&&(h=Al(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Gn(v,E,R,K)),(E=-1<h?v[h]:null)&&Ja(E))}function Ja(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ae])Zi(v.i,h);else{var E=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(E,R,h.capture):v.detachEvent?v.detachEvent(io(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=Al(v))?(Zi(E,h),E.h==0&&(E.src=null,v[zr]=null)):Ze(h)}}}function io(h){return h in Fr?Fr[h]:Fr[h]="on"+h}function jf(h,v){if(h.da)h=!0;else{v=new ee(v,this);var E=h.listener,R=h.ha||h.src;h.fa&&Ja(h),h=E.call(R,v)}return h}function Al(h){return h=h[zr],h instanceof pn?h:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(h){return typeof h=="function"?h:(h[An]||(h[An]=function(v){return h.handleEvent(v)}),h[An])}function Ot(){me.call(this),this.i=new pn(this),this.M=this,this.F=null}C(Ot,me),Ot.prototype[Ae]=!0,Ot.prototype.removeEventListener=function(h,v,E,R){no(this,h,v,E,R)};function Ft(h,v){var E,R=h.F;if(R)for(E=[];R;R=R.F)E.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new de(v,h);else if(v instanceof de)v.target=v.target||h;else{var K=v;v=new de(R,h),I(v,K)}if(K=!0,E)for(var W=E.length-1;0<=W;W--){var ye=v.g=E[W];K=er(ye,R,!0,v)&&K}if(ye=v.g=h,K=er(ye,R,!0,v)&&K,K=er(ye,R,!1,v)&&K,E)for(W=0;W<E.length;W++)ye=v.g=E[W],K=er(ye,R,!1,v)&&K}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],R=0;R<E.length;R++)Ze(E[R]);delete h.g[v],h.h--}}this.F=null},Ot.prototype.K=function(h,v,E,R){return this.i.add(String(h),v,!1,E,R)},Ot.prototype.L=function(h,v,E,R){return this.i.add(String(h),v,!0,E,R)};function er(h,v,E,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,W=0;W<v.length;++W){var ye=v[W];if(ye&&!ye.da&&ye.capture==E){var Ge=ye.listener,Mt=ye.ha||ye.src;ye.fa&&Zi(h.i,ye),K=Ge.call(Mt,R)!==!1&&K}}return K&&!R.defaultPrevented}function Du(h,v,E){if(typeof h=="function")E&&(h=T(h,E));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(h,v||0)}function Sl(h){h.g=Du(()=>{h.g=null,h.i&&(h.i=!1,Sl(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Of extends me{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Sl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(h){me.call(this),this.h=h,this.g={}}C(es,me);var Br=[];function on(h){ie(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ja(v)},h),h.g={}}es.prototype.N=function(){es.aa.N.call(this),on(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xl=m.JSON.stringify,wi=m.JSON.parse,gn=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function Nl(){}Nl.prototype.h=null;function ju(h){return h.h||(h.h=h.i())}function Ou(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qr(){de.call(this,"d")}C(qr,de);function fi(){de.call(this,"c")}C(fi,de);var $n={},Hr=null;function ro(){return Hr=Hr||new Ot}$n.La="serverreachability";function Rl(h){de.call(this,$n.La,h)}C(Rl,de);function Gr(h){const v=ro();Ft(v,new Rl(v))}$n.STAT_EVENT="statevent";function ao(h,v){de.call(this,$n.STAT_EVENT,h),this.stat=v}C(ao,de);function bt(h){const v=ro();Ft(v,new ao(v,h))}$n.Ma="timingevent";function ku(h,v){de.call(this,$n.Ma,h),this.size=v}C(ku,de);function $r(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},v)}function Kr(){this.g=!0}Kr.prototype.xa=function(){this.g=!1};function Mu(h,v,E,R,K,W){h.info(function(){if(h.g)if(W)for(var ye="",Ge=W.split("&"),Mt=0;Mt<Ge.length;Mt++){var $e=Ge[Mt].split("=");if(1<$e.length){var Ht=$e[0];$e=$e[1];var Pt=Ht.split("_");ye=2<=Pt.length&&Pt[1]=="type"?ye+(Ht+"="+$e+"&"):ye+(Ht+"=redacted&")}}else ye=null;else ye=W;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+v+`
`+E+`
`+ye})}function Pu(h,v,E,R,K,W,ye){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+v+`
`+E+`
`+W+" "+ye})}function Yr(h,v,E,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bt(h,E)+(R?" "+R:"")})}function Si(h,v){h.info(function(){return"TIMEOUT: "+v})}Kr.prototype.info=function(){};function Bt(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var R=E[h];if(!(2>R.length)){var K=R[1];if(Array.isArray(K)&&!(1>K.length)){var W=K[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ye=1;ye<K.length;ye++)K[ye]=""}}}}return xl(E)}catch{return v}}var kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ts;function so(){}C(so,Nl),so.prototype.g=function(){return new XMLHttpRequest},so.prototype.i=function(){return{}},ts=new so;function xi(h,v,E,R){this.j=h,this.i=v,this.l=E,this.R=R||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}var Qr={},ns={};function mi(h,v,E){h.L=1,h.v=as(pt(v)),h.m=E,h.P=!0,nr(h,null)}function nr(h,v){h.F=Date.now(),ut(h),h.A=pt(h.v);var E=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),ar(E.i,"t",R),h.C=0,E=h.j.J,h.h=new Cl,h.g=Xu(h.j,E?v:null,!h.m),0<h.O&&(h.M=new Of(T(h.Y,h,h.g),h.O)),v=h.U,E=h.g,R=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Br[0]=K.toString()),K=Br);for(var W=0;W<K.length;W++){var ye=Ji(E,K[W],R||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Gr(),Mu(h.i,h.u,h.A,h.l,h.R,h.m)}xi.prototype.ca=function(h){h=h.target;const v=this.M;v&&Wn(h)==3?v.j():this.Y(h)},xi.prototype.Y=function(h){try{if(h==this.g)e:{const Pt=Wn(this.g);var v=this.g.Ba();const cr=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Pt!=4||v==7||(v==8||0>=cr?Gr(3):Gr(2)),oo(this);var E=this.g.Z();this.X=E;t:if(Xr(this)){var R=Bu(this.g);h="";var K=R.length,W=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),On(this);var ye="";break t}this.h.i=new m.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(W&&v==K-1)});R.length=0,this.h.g+=h,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=E==200,Pu(this.i,this.u,this.A,this.l,this.R,Pt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Mt=this.g;if((Ge=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ge)){var $e=Ge;break t}}$e=null}if(E=$e)Yr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kn(this,E);else{this.o=!1,this.s=3,bt(12),Sn(this),On(this);break e}}if(this.P){E=!0;let Zt;for(;!this.J&&this.C<ye.length;)if(Zt=Wr(this,ye),Zt==ns){Pt==4&&(this.s=4,bt(14),E=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Qr){this.s=4,bt(15),Yr(this.i,this.l,ye,"[Invalid Chunk]"),E=!1;break}else Yr(this.i,this.l,Zt,null),kn(this,Zt);if(Xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ye.length!=0||this.h.h||(this.s=1,bt(16),E=!1),this.o=this.o&&E,!E)Yr(this.i,this.l,ye,"[Invalid Chunked Response]"),Sn(this),On(this);else if(0<ye.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),hs(Ht),Ht.M=!0,bt(11))}}else Yr(this.i,this.l,ye,null),kn(this,ye);Pt==4&&Sn(this),this.o&&!this.J&&(Pt==4?Ku(this.j,this):(this.o=!1,ut(this)))}else Vf(this.g),E==400&&0<ye.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Sn(this),On(this)}}}catch{}finally{}};function Xr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Wr(h,v){var E=h.C,R=v.indexOf(`
`,E);return R==-1?ns:(E=Number(v.substring(E,R)),isNaN(E)?Qr:(R+=1,R+E>v.length?ns:(v=v.slice(R,R+E),h.C=R+E,v)))}xi.prototype.cancel=function(){this.J=!0,Sn(this)};function ut(h){h.S=Date.now()+h.I,Il(h,h.I)}function Il(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=$r(T(h.ba,h),v)}function oo(h){h.B&&(m.clearTimeout(h.B),h.B=null)}xi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Si(this.i,this.A),this.L!=2&&(Gr(),bt(17)),Sn(this),this.s=2,On(this)):Il(this,this.S-h)};function On(h){h.j.G==0||h.J||Ku(h.j,h)}function Sn(h){oo(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,on(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function kn(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Zr(E.h,h))){if(!h.K&&Zr(E.h,h)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)vo(E),go(E);else break e;Fl(E),bt(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=$r(T(E.Za,E),6e3));if(1>=Lu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else lr(E,11)}else if((h.K||E.g==h)&&vo(E),!V(v))for(K=E.Da.g.parse(v),v=0;v<K.length;v++){let $e=K[v];if(E.T=$e[0],$e=$e[1],E.G==2)if($e[0]=="c"){E.K=$e[1],E.ia=$e[2];const Ht=$e[3];Ht!=null&&(E.la=Ht,E.j.info("VER="+E.la));const Pt=$e[4];Pt!=null&&(E.Aa=Pt,E.j.info("SVER="+E.Aa));const cr=$e[5];cr!=null&&typeof cr=="number"&&0<cr&&(R=1.5*cr,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Zt=h.g;if(Zt){const Oi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var W=R.h;W.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Jr(W,W.h),W.h=null))}if(R.D){const ql=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(R.ya=ql,Qe(R.I,R.D,ql))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ye=h;if(R.qa=Qu(R,R.J?R.ia:null,R.W),ye.K){Kn(R.h,ye);var Ge=ye,Mt=R.L;Mt&&(Ge.I=Mt),Ge.B&&(oo(Ge),ut(Ge)),R.g=ye}else Gu(R);0<E.i.length&&yo(E)}else $e[0]!="stop"&&$e[0]!="close"||lr(E,7);else E.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?lr(E,7):Vl(E):$e[0]!="noop"&&E.l&&E.l.ta($e),E.v=0)}}Gr(4)}catch{}}var kf=class{constructor(h,v){this.g=h,this.map=v}};function Dl(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Lu(h){return h.h?1:h.g?h.g.size:0}function Zr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Jr(h,v){h.g?h.g.add(v):h.h=v}function Kn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Dl.prototype.cancel=function(){if(this.i=yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return B(h.i)}function Uu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],E=h.length,R=0;R<E;R++)v.push(h[R]);return v}v=[],E=0;for(R in h)v[E++]=h[R];return v}function Mf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const R in h)v[E++]=R;return v}}}function is(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Mf(h),R=Uu(h),K=R.length,W=0;W<K;W++)v.call(void 0,R[W],E&&E[W],h)}var Ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lo(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var R=h[E].indexOf("="),K=null;if(0<=R){var W=h[E].substring(0,R);K=h[E].substring(R+1)}else W=h[E];v(W,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ir(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ir){this.h=h.h,ea(this,h.j),this.o=h.o,this.g=h.g,rs(this,h.s),this.l=h.l;var v=h.i,E=new Ni;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),co(this,E),this.m=h.m}else h&&(v=String(h).match(Ol))?(this.h=!1,ea(this,v[1]||"",!0),this.o=ta(v[2]||""),this.g=ta(v[3]||"",!0),rs(this,v[4]),this.l=ta(v[5]||"",!0),co(this,v[6]||"",!0),this.m=ta(v[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}ir.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Yn(v,kl,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Yn(v,kl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Yn(E,E.charAt(0)=="/"?Ml:Vu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Yn(E,Uf)),h.join("")};function pt(h){return new ir(h)}function ea(h,v,E){h.j=E?ta(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function rs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function co(h,v,E){v instanceof Ni?(h.i=v,Pl(h.i,h.h)):(E||(v=Yn(v,Lf)),h.i=new Ni(v,h.h))}function Qe(h,v,E){h.i.set(v,E)}function as(h){return Qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ta(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yn(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Pf),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var kl=/[#\/\?@]/g,Vu=/[#\?:]/g,Ml=/[#\?]/g,Lf=/[#\?@]/g,Uf=/#/g;function Ni(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Qn(h){h.g||(h.g=new Map,h.h=0,h.i&&lo(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Ni.prototype,n.add=function(h,v){Qn(this),this.i=null,h=sr(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function uo(h,v){Qn(h),v=sr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function rr(h,v){return Qn(h),v=sr(h,v),h.g.has(v)}n.forEach=function(h,v){Qn(this),this.g.forEach(function(E,R){E.forEach(function(K){h.call(v,K,R,this)},this)},this)},n.na=function(){Qn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const K=h[R];for(let W=0;W<K.length;W++)E.push(v[R])}return E},n.V=function(h){Qn(this);let v=[];if(typeof h=="string")rr(this,h)&&(v=v.concat(this.g.get(sr(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},n.set=function(h,v){return Qn(this),this.i=null,h=sr(this,h),rr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ar(h,v,E){uo(h,v),0<E.length&&(h.i=null,h.g.set(sr(h,v),B(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const W=encodeURIComponent(String(R)),ye=this.V(R);for(R=0;R<ye.length;R++){var K=W;ye[R]!==""&&(K+="="+encodeURIComponent(String(ye[R]))),h.push(K)}}return this.i=h.join("&")};function sr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Pl(h,v){v&&!h.j&&(Qn(h),h.i=null,h.g.forEach(function(E,R){var K=R.toLowerCase();R!=K&&(uo(this,R),ar(this,K,E))},h)),h.j=v}function zu(h,v){const E=new Kr;if(m.Image){const R=new Image;R.onload=N(Xn,E,"TestLoadImage: loaded",!0,v,R),R.onerror=N(Xn,E,"TestLoadImage: error",!1,v,R),R.onabort=N(Xn,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=N(Xn,E,"TestLoadImage: timeout",!1,v,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function ss(h,v){const E=new Kr,R=new AbortController,K=setTimeout(()=>{R.abort(),Xn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout(K),W.ok?Xn(E,"TestPingServer: ok",!0,v):Xn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),Xn(E,"TestPingServer: error",!1,v)})}function Xn(h,v,E,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(E)}catch{}}function os(){this.g=new gn}function Ri(h,v,E){const R=E||"";try{is(h,function(K,W){let ye=K;y(K)&&(ye=xl(K)),v.push(R+W+"="+encodeURIComponent(ye))})}catch(K){throw v.push(R+"type="+encodeURIComponent("_badmap")),K}}function na(h){this.l=h.Ub||null,this.j=h.eb||!1}C(na,Nl),na.prototype.g=function(){return new or(this.l,this.j)},na.prototype.i=function(h){return function(){return h}}({});function or(h,v){Ot.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(or,Ot),n=or.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ii(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ci(this):Ii(this),this.readyState==3&&Ll(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ci(this))},n.Qa=function(h){this.g&&(this.response=h,Ci(this))},n.ga=function(){this.g&&Ci(this)};function Ci(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ii(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Ii(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ul(h){let v="";return ie(h,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function qt(h,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Ul(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Qe(h,v,E))}function Je(h){Ot.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Je,Ot);var ho=/^https?$/i,ls=["POST","PUT"];n=Je.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ts.g(),this.v=this.o?ju(this.o):ju(ts),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(W){Fu(this,W);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)E.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())E.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),K=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ls,v,void 0))||R||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ye]of E)this.g.setRequestHeader(W,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){Fu(this,W)}};function Fu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,fo(h),Di(h)}function fo(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ft(this,"complete"),Ft(this,"abort"),Di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?mo(this):this.bb())},n.bb=function(){mo(this)};function mo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Wn(h)!=4||h.Z()!=2)){if(h.u&&Wn(h)==4)Du(h.Ea,0,h);else if(Ft(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const ye=h.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=ye===0){var K=String(h.D).match(Ol)[1]||null;!K&&m.self&&m.self.location&&(K=m.self.location.protocol.slice(0,-1)),R=!ho.test(K?K.toLowerCase():"")}E=R}if(E)Ft(h,"complete"),Ft(h,"success");else{h.m=6;try{var W=2<Wn(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",fo(h)}}finally{Di(h)}}}}function Di(h,v){if(h.g){cs(h);const E=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ft(h,"ready");try{E.onreadystatechange=R}catch{}}}function cs(h){h.I&&(m.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),wi(v)}};function Bu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Vf(h){const v={};h=(h.g&&2<=Wn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(V(h[R]))continue;var E=O(h[R]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=v[K]||[];v[K]=W,W.push(E)}j(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function po(h){this.Aa=0,this.i=[],this.j=new Kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,h),this.cb=us("retryDelaySeedMs",1e4,h),this.Wa=us("forwardChannelMaxRetries",2,h),this.wa=us("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Dl(h&&h.concurrentRequestLimit),this.Da=new os,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=po.prototype,n.la=8,n.G=1,n.connect=function(h,v,E,R){bt(0),this.W=h,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Qu(this,null,this.W),yo(this)};function Vl(h){if(qu(h),h.G==3){var v=h.U++,E=pt(h.I);if(Qe(E,"SID",h.K),Qe(E,"RID",v),Qe(E,"TYPE","terminate"),ds(h,E),v=new xi(h,h.j,v),v.L=2,v.v=as(pt(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=v.v,E=!0),E||(v.g=Xu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ut(v)}Yu(h)}function go(h){h.g&&(hs(h),h.g.cancel(),h.g=null)}function qu(h){go(h),h.u&&(m.clearTimeout(h.u),h.u=null),vo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function yo(h){if(!jl(h.h)&&!h.s){h.s=!0;var v=h.Ga;oe||U(),ue||(oe(),ue=!0),ne.add(v,h),h.B=0}}function zf(h,v){return Lu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=$r(T(h.Ga,h,v),Bl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new xi(this,this.j,h);let W=this.o;if(this.S&&(W?(W=S(W),I(W,this.S)):W=this.S),this.m!==null||this.O||(K.H=W,W=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Hu(this,K,v),E=pt(this.I),Qe(E,"RID",h),Qe(E,"CVER",22),this.D&&Qe(E,"X-HTTP-Session-Id",this.D),ds(this,E),W&&(this.O?v="headers="+encodeURIComponent(String(Ul(W)))+"&"+v:this.m&&qt(E,this.m,W)),Jr(this.h,K),this.Ua&&Qe(E,"TYPE","init"),this.P?(Qe(E,"$req",v),Qe(E,"SID","null"),K.T=!0,mi(K,E,null)):mi(K,E,v),this.G=2}}else this.G==3&&(h?zl(this,h):this.i.length==0||jl(this.h)||zl(this))};function zl(h,v){var E;v?E=v.l:E=h.U++;const R=pt(h.I);Qe(R,"SID",h.K),Qe(R,"RID",E),Qe(R,"AID",h.T),ds(h,R),h.m&&h.o&&qt(R,h.m,h.o),E=new xi(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Hu(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Jr(h.h,E),mi(E,R,v)}function ds(h,v){h.H&&ie(h.H,function(E,R){Qe(v,R,E)}),h.l&&is({},function(E,R){Qe(v,R,E)})}function Hu(h,v,E){E=Math.min(h.i.length,E);var R=h.l?T(h.l.Na,h.l,h):null;e:{var K=h.i;let W=-1;for(;;){const ye=["count="+E];W==-1?0<E?(W=K[0].g,ye.push("ofs="+W)):W=0:ye.push("ofs="+W);let Ge=!0;for(let Mt=0;Mt<E;Mt++){let $e=K[Mt].g;const Ht=K[Mt].map;if($e-=W,0>$e)W=Math.max(0,K[Mt].g-100),Ge=!1;else try{Ri(Ht,ye,"req"+$e+"_")}catch{R&&R(Ht)}}if(Ge){R=ye.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,R}function Gu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;oe||U(),ue||(oe(),ue=!0),ne.add(v,h),h.v=0}}function Fl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=$r(T(h.Fa,h),Bl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=$r(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),go(this),$u(this))};function hs(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function $u(h){h.g=new xi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=pt(h.qa);Qe(v,"RID","rpc"),Qe(v,"SID",h.K),Qe(v,"AID",h.T),Qe(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qe(v,"TO",h.ja),Qe(v,"TYPE","xmlhttp"),ds(h,v),h.m&&h.o&&qt(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=as(pt(v)),E.m=null,E.P=!0,nr(E,h)}n.Za=function(){this.C!=null&&(this.C=null,go(this),Fl(this),bt(19))};function vo(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function Ku(h,v){var E=null;if(h.g==v){vo(h),hs(h),h.g=null;var R=2}else if(Zr(h.h,v))E=v.D,Kn(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var K=h.B;R=ro(),Ft(R,new ku(R,E)),yo(h)}else Gu(h);else if(K=v.s,K==3||K==0&&0<v.X||!(R==1&&zf(h,v)||R==2&&Fl(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),K){case 1:lr(h,5);break;case 4:lr(h,10);break;case 3:lr(h,6);break;default:lr(h,2)}}}function Bl(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function lr(h,v){if(h.j.info("Error code "+v),v==2){var E=T(h.fb,h),R=h.Xa;const K=!R;R=new ir(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ea(R,"https"),as(R),K?zu(R.toString(),E):ss(R.toString(),E)}else bt(2);h.G=0,h.l&&h.l.sa(v),Yu(h),qu(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Yu(h){if(h.G=0,h.ka=[],h.l){const v=yn(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ka,v),L(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function Qu(h,v,E){var R=E instanceof ir?pt(E):new ir(E);if(R.g!="")v&&(R.g=v+"."+R.g),rs(R,R.s);else{var K=m.location;R=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var W=new ir(null);R&&ea(W,R),v&&(W.g=v),K&&rs(W,K),E&&(W.l=E),R=W}return E=h.D,v=h.ya,E&&v&&Qe(R,E,v),Qe(R,"VER",h.la),ds(h,R),R}function Xu(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Je(new na({eb:E})):new Je(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}n=Wu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _o(){}_o.prototype.g=function(h,v){return new vn(h,v)};function vn(h,v){Ot.call(this),this.g=new po(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!V(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ji(this)}C(vn,Ot),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Vl(this.g)},vn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=xl(h),h=E);v.i.push(new kf(v.Ya++,h)),v.G==3&&yo(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,vn.aa.N.call(this)};function Zu(h){qr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(Zu,qr);function Ju(){fi.call(this),this.status=1}C(Ju,fi);function ji(h){this.g=h}C(ji,Wu),ji.prototype.ua=function(){Ft(this.g,"a")},ji.prototype.ta=function(h){Ft(this.g,new Zu(h))},ji.prototype.sa=function(h){Ft(this.g,new Ju)},ji.prototype.ra=function(){Ft(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,yw=function(){return new _o},gw=function(){return ro()},pw=$n,bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,mh=kt,tr.COMPLETE="complete",mw=tr,Ou.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Mc=Ou,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,fw=Je}).apply(typeof Jd<"u"?Jd:typeof self<"u"?self:typeof window<"u"?window:{});const VE="@firebase/firestore",zE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Xh("@firebase/firestore");function $o(){return qs.logLevel}function Ee(n,...e){if(qs.logLevel<=Fe.DEBUG){const t=e.map(jy);qs.debug(`Firestore (${yl}): ${n}`,...t)}}function Mr(n,...e){if(qs.logLevel<=Fe.ERROR){const t=e.map(jy);qs.error(`Firestore (${yl}): ${n}`,...t)}}function sl(n,...e){if(qs.logLevel<=Fe.WARN){const t=e.map(jy);qs.warn(`Firestore (${yl}): ${n}`,...t)}}function jy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n="Unexpected state"){const e=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: `+n;throw Mr(e),new Error(e)}function et(n,e){n||je()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class C6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class I6{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let r=this.i;const s=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Dr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},m=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Dr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new vw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new dn(e)}}class D6{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class j6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new D6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O6{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Cn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){et(this.o===void 0);const r=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new FE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new FE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=k6(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%62))}return r}}function He(n,e){return n<e?-1:n>e?1:0}function ol(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=-62135596800,qE=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*qE);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<BE)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qE}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-BE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new At(0,0))}static max(){return new Oe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__name__";class Vi{constructor(e,t,r){t===void 0?t=0:t>e.length&&je(),r===void 0?r=e.length-t:r>e.length-t&&je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=Vi.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Vi.isNumericId(e),s=Vi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Vi.extractNumericId(e).compare(Vi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ja.fromString(e.substring(4,e.length-2))}}class ot extends Vi{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const M6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Vi{construct(e,t,r){return new rn(e,t,r)}static isValidIdentifier(e){return M6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HE}static keyField(){return new rn([HE])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(r.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new be(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new be(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,s+=2}else m==="`"?(u=!u,s++):m!=="."||u?(r+=m,s++):(l(),s++)}if(l(),u)throw new be(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(ot.fromString(e))}static fromName(e){return new Ne(ot.fromString(e).popFirst(5))}static empty(){return new Ne(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=-1;function P6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new La(s,Ne.empty(),e)}function L6(n){return new La(n.readTime,n.key,Jc)}class La{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new La(Oe.min(),Ne.empty(),Jc)}static max(){return new La(Oe.max(),Ne.empty(),Jc)}}function U6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==V6)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let s=0,l=0,u=!1;e.forEach(m=>{++s,m.next(()=>{++l,u&&l===s&&t()},p=>r(p))}),u=!0,l===s&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(s=>s?se.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,l)=>{r.push(t.call(this,s,l))}),this.waitFor(r)}static mapArray(e,t){return new se((r,s)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{u[y]=_,++m,m===l&&r(u)},_=>s(_))}})}static doWhile(e,t){return new se((r,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):r()};l()})}}function F6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _l(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-1;function af(n){return n==null}function jh(n){return n===0&&1/n==-1/0}function B6(n){return typeof n=="number"&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="";function q6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GE(e)),e=H6(n.get(t),e);return GE(e)}function H6(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case Ew:t+="";break;default:t+=l}}return t}function GE(n){return n+Ew+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=r??nn.RED,this.left=s??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new nn(e??this.key,t??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return nn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,t,r,s,l){return this}insert(e,t,r){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KE(this.data.getIterator())}getIteratorFrom(e){return new KE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class KE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new zn([])}unionWith(e){let t=new zt(rn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Tw("Invalid base64 string: "+l):l}}(e);return new an(t)}static fromUint8Array(e){const t=function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l}(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const G6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(n){if(et(!!n),typeof n=="string"){let e=0;const t=G6.exec(n);if(et(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Va(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="server_timestamp",Aw="__type__",Sw="__previous_value__",xw="__local_write_time__";function ky(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Aw])===null||t===void 0?void 0:t.stringValue)===ww}function sf(n){const e=n.mapValue.fields[Sw];return ky(e)?sf(e):e}function eu(n){const e=Ua(n.mapValue.fields[xw].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,t,r,s,l,u,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Oh="(default)";class tu{constructor(e,t){this.projectId=e,this.database=t||Oh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__type__",K6="__max__",th={mapValue:{}},Rw="__vector__",kh="value";function za(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ky(n)?4:Q6(n)?9007199254740991:Y6(n)?10:11:je()}function Yi(n,e){if(n===e)return!0;const t=za(n);if(t!==za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eu(n).isEqual(eu(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=Ua(s.timestampValue),m=Ua(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return Va(s.bytesValue).isEqual(Va(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return wt(s.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(s.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return wt(s.integerValue)===wt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=wt(s.doubleValue),m=wt(l.doubleValue);return u===m?jh(u)===jh(m):isNaN(u)&&isNaN(m)}return!1}(n,e);case 9:return ol(n.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(s,l){const u=s.mapValue.fields||{},m=l.mapValue.fields||{};if($E(u)!==$E(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Yi(u[p],m[p])))return!1;return!0}(n,e);default:return je()}}function nu(n,e){return(n.values||[]).find(t=>Yi(t,e))!==void 0}function ll(n,e){if(n===e)return 0;const t=za(n),r=za(e);if(t!==r)return He(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(l,u){const m=wt(l.integerValue||l.doubleValue),p=wt(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(n,e);case 3:return YE(n.timestampValue,e.timestampValue);case 4:return YE(eu(n),eu(e));case 5:return He(n.stringValue,e.stringValue);case 6:return function(l,u){const m=Va(l),p=Va(u);return m.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const m=l.split("/"),p=u.split("/");for(let y=0;y<m.length&&y<p.length;y++){const _=He(m[y],p[y]);if(_!==0)return _}return He(m.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const m=He(wt(l.latitude),wt(u.latitude));return m!==0?m:He(wt(l.longitude),wt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return QE(n.arrayValue,e.arrayValue);case 10:return function(l,u){var m,p,y,_;const w=l.fields||{},T=u.fields||{},N=(m=w[kh])===null||m===void 0?void 0:m.arrayValue,C=(p=T[kh])===null||p===void 0?void 0:p.arrayValue,B=He(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:QE(N,C)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===th.mapValue&&u===th.mapValue)return 0;if(l===th.mapValue)return 1;if(u===th.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),y=u.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const T=He(p[w],_[w]);if(T!==0)return T;const N=ll(m[p[w]],y[_[w]]);if(N!==0)return N}return He(p.length,_.length)}(n.mapValue,e.mapValue);default:throw je()}}function YE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=Ua(n),r=Ua(e),s=He(t.seconds,r.seconds);return s!==0?s:He(t.nanos,r.nanos)}function QE(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const l=ll(t[s],r[s]);if(l)return l}return He(t.length,r.length)}function cl(n){return Tg(n)}function Tg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ua(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Va(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const l of t.values||[])s?s=!1:r+=",",r+=Tg(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const u of r)l?l=!1:s+=",",s+=`${u}:${Tg(t.fields[u])}`;return s+"}"}(n.mapValue):je()}function ph(n){switch(za(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(n);return e?16+ph(e):16;case 5:return 2*n.stringValue.length;case 6:return Va(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,l)=>s+ph(l),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Wa(r.fields,(l,u)=>{s+=l.length+ph(u)}),s}(n.mapValue);default:throw je()}}function XE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wg(n){return!!n&&"integerValue"in n}function My(n){return!!n&&"arrayValue"in n}function WE(n){return!!n&&"nullValue"in n}function ZE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gh(n){return!!n&&"mapValue"in n}function Y6(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nw])===null||t===void 0?void 0:t.stringValue)===Rw}function Bc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Q6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===K6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=rn.emptyPath(),r={},s=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,r,s),r={},s=[],t=m.popLast()}u?r[m.lastSegment()]=Bc(u):s.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];gh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Wa(t,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new In(Bc(this.value))}}function Cw(n){const e=[];return Wa(n.fields,(t,r)=>{const s=new rn([t]);if(gh(r)){const l=Cw(r.mapValue).fields;if(l.length===0)e.push(s);else for(const u of l)e.push(s.child(u))}else e.push(s)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,r,s,l,u,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new hn(e,0,Oe.min(),Oe.min(),Oe.min(),In.empty(),0)}static newFoundDocument(e,t,r,s){return new hn(e,1,t,Oe.min(),r,s,0)}static newNoDocument(e,t){return new hn(e,2,t,Oe.min(),Oe.min(),In.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Oe.min(),Oe.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.position=e,this.inclusive=t}}function JE(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],u=n.position[s];if(l.field.isKeyField()?r=Ne.comparator(Ne.fromName(u.referenceValue),t.key):r=ll(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function eb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function X6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{}class Dt extends Iw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Z6(e,t,r):t==="array-contains"?new tj(e,r):t==="in"?new nj(e,r):t==="not-in"?new ij(e,r):t==="array-contains-any"?new rj(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new J6(e,r):new ej(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ll(t,this.value)):t!==null&&za(this.value)===za(t)&&this.matchesComparison(ll(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends Iw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new bi(e,t)}matches(e){return Dw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Dw(n){return n.op==="and"}function jw(n){return W6(n)&&Dw(n)}function W6(n){for(const e of n.filters)if(e instanceof bi)return!1;return!0}function Ag(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(jw(n))return n.filters.map(e=>Ag(e)).join(",");{const e=n.filters.map(t=>Ag(t)).join(",");return`${n.op}(${e})`}}function Ow(n,e){return n instanceof Dt?function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&Yi(r.value,s.value)}(n,e):n instanceof bi?function(r,s){return s instanceof bi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((l,u,m)=>l&&Ow(u,s.filters[m]),!0):!1}(n,e):void je()}function kw(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${cl(t.value)}`}(n):n instanceof bi?function(t){return t.op.toString()+" {"+t.getFilters().map(kw).join(" ,")+"}"}(n):"Filter"}class Z6 extends Dt{constructor(e,t,r){super(e,t,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class J6 extends Dt{constructor(e,t){super(e,"in",t),this.keys=Mw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ej extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=Mw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class tj extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return My(t)&&nu(t.arrayValue,this.value)}}class nj extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nu(this.value.arrayValue,t)}}class ij extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!nu(this.value.arrayValue,t)}}class rj extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!My(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,t=null,r=[],s=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=u,this.endAt=m,this.le=null}}function tb(n,e=null,t=[],r=[],s=null,l=null,u=null){return new aj(n,e,t,r,s,l,u)}function Py(n){const e=Me(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ag(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cl(r)).join(",")),e.le=t}return e.le}function Ly(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!X6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ow(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eb(n.startAt,e.startAt)&&eb(n.endAt,e.endAt)}function Sg(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t=null,r=[],s=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function sj(n,e,t,r,s,l,u,m){return new El(n,e,t,r,s,l,u,m)}function Uy(n){return new El(n)}function nb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Pw(n){return n.collectionGroup!==null}function qc(n){const e=Me(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new zt(rn.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new iu(l,r))}),t.has(rn.keyField().canonicalString())||e.he.push(new iu(rn.keyField(),r))}return e.he}function Gi(n){const e=Me(n);return e.Pe||(e.Pe=oj(e,qc(n))),e.Pe}function oj(n,e){if(n.limitType==="F")return tb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new iu(s.field,l)});const t=n.endAt?new Mh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mh(n.startAt.position,n.startAt.inclusive):null;return tb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function xg(n,e){const t=n.filters.concat([e]);return new El(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ng(n,e,t){return new El(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function of(n,e){return Ly(Gi(n),Gi(e))&&n.limitType===e.limitType}function Lw(n){return`${Py(Gi(n))}|lt:${n.limitType}`}function Ko(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>kw(s)).join(", ")}]`),af(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>cl(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>cl(s)).join(",")),`Target(${r})`}(Gi(n))}; limitType=${n.limitType})`}function lf(n,e){return e.isFoundDocument()&&function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ne.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,s){for(const l of qc(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,m,p){const y=JE(u,m,p);return u.inclusive?y<=0:y<0}(r.startAt,qc(r),s)||r.endAt&&!function(u,m,p){const y=JE(u,m,p);return u.inclusive?y>=0:y>0}(r.endAt,qc(r),s))}(n,e)}function lj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Uw(n){return(e,t)=>{let r=!1;for(const s of qc(n)){const l=cj(s,e,t);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function cj(n,e,t){const r=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(l,u,m){const p=u.data.field(l),y=m.data.field(l);return p!==null&&y!==null?ll(p,y):je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(t,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return bw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new mt(Ne.comparator);function Pr(){return uj}const Vw=new mt(Ne.comparator);function Pc(...n){let e=Vw;for(const t of n)e=e.insert(t.key,t);return e}function zw(n){let e=Vw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ks(){return Hc()}function Fw(){return Hc()}function Hc(){return new Ws(n=>n.toString(),(n,e)=>n.isEqual(e))}const dj=new mt(Ne.comparator),hj=new zt(Ne.comparator);function Be(...n){let e=hj;for(const t of n)e=e.add(t);return e}const fj=new zt(He);function mj(){return fj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function Bw(n){return{integerValue:""+n}}function pj(n,e){return B6(e)?Bw(e):Vy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function gj(n,e,t){return n instanceof ru?function(s,l){const u={fields:{[Aw]:{stringValue:ww},[xw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&ky(l)&&(l=sf(l)),l&&(u.fields[Sw]=l),{mapValue:u}}(t,e):n instanceof au?Hw(n,e):n instanceof su?Gw(n,e):function(s,l){const u=qw(s,l),m=ib(u)+ib(s.Ie);return wg(u)&&wg(s.Ie)?Bw(m):Vy(s.serializer,m)}(n,e)}function yj(n,e,t){return n instanceof au?Hw(n,e):n instanceof su?Gw(n,e):t}function qw(n,e){return n instanceof Ph?function(r){return wg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class ru extends cf{}class au extends cf{constructor(e){super(),this.elements=e}}function Hw(n,e){const t=$w(e);for(const r of n.elements)t.some(s=>Yi(s,r))||t.push(r);return{arrayValue:{values:t}}}class su extends cf{constructor(e){super(),this.elements=e}}function Gw(n,e){let t=$w(e);for(const r of n.elements)t=t.filter(s=>!Yi(s,r));return{arrayValue:{values:t}}}class Ph extends cf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ib(n){return wt(n.integerValue||n.doubleValue)}function $w(n){return My(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,t){this.field=e,this.transform=t}}function _j(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof au&&s instanceof au||r instanceof su&&s instanceof su?ol(r.elements,s.elements,Yi):r instanceof Ph&&s instanceof Ph?Yi(r.Ie,s.Ie):r instanceof ru&&s instanceof ru}(n.transform,e.transform)}class Ej{constructor(e,t){this.version=e,this.transformResults=t}}class ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class uf{}function Kw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zy(n.key,ci.none()):new Tu(n.key,n.data,ci.none());{const t=n.data,r=In.empty();let s=new zt(rn.comparator);for(let l of e.fields)if(!s.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),s=s.add(l)}return new Za(n.key,r,new zn(s.toArray()),ci.none())}}function bj(n,e,t){n instanceof Tu?function(s,l,u){const m=s.value.clone(),p=ab(s.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Za?function(s,l,u){if(!yh(s.precondition,l))return void l.convertToUnknownDocument(u.version);const m=ab(s.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(Yw(s)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(s,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Gc(n,e,t,r){return n instanceof Tu?function(l,u,m,p){if(!yh(l.precondition,u))return m;const y=l.value.clone(),_=sb(l.fieldTransforms,p,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Za?function(l,u,m,p){if(!yh(l.precondition,u))return m;const y=sb(l.fieldTransforms,p,u),_=u.data;return _.setAll(Yw(l)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(l,u,m){return yh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m}(n,e,t)}function Tj(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=qw(r.transform,s||null);l!=null&&(t===null&&(t=In.empty()),t.set(r.field,l))}return t||null}function rb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ol(r,s,(l,u)=>_j(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Tu extends uf{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends uf{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Yw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ab(n,e,t){const r=new Map;et(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],u=l.transform,m=e.data.field(l.field);r.set(l.field,yj(u,m,t[s]))}return r}function sb(n,e,t){const r=new Map;for(const s of n){const l=s.transform,u=t.data.field(s.field);r.set(s.field,gj(l,u,e))}return r}class zy extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wj extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&bj(l,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Fw();return this.mutations.forEach(s=>{const l=e.get(s.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(s.key)?null:m;const p=Kw(u,m);p!==null&&r.set(s.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(t,r)=>rb(t,r))&&ol(this.baseMutations,e.baseMutations,(t,r)=>rb(t,r))}}class Fy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){et(e.mutations.length===r.length);let s=function(){return dj}();const l=e.mutations;for(let u=0;u<l.length;u++)s=s.insert(l[u].key,r[u].version);return new Fy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ye;function Nj(n){switch(n){case ae.OK:return je();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return je()}}function Qw(n){if(n===void 0)return Mr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Ct.OK:return ae.OK;case Ct.CANCELLED:return ae.CANCELLED;case Ct.UNKNOWN:return ae.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ae.INTERNAL;case Ct.UNAVAILABLE:return ae.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ae.NOT_FOUND;case Ct.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ct.ABORTED:return ae.ABORTED;case Ct.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ct.DATA_LOSS:return ae.DATA_LOSS;default:return je()}}(Ye=Ct||(Ct={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new ja([4294967295,4294967295],0);function ob(n){const e=Rj().encode(n),t=new hw;return t.update(e),new Uint8Array(t.digest())}function lb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ja([t,r],0),new ja([s,l],0)]}class By{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Lc(`Invalid padding: ${t}`);if(r<0)throw new Lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Lc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ja.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(ja.fromNumber(r)));return s.compare(Cj)===1&&(s=new ja([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ob(e),[r,s]=lb(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(r,s,l);if(!this.Re(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new By(l,s,t);return r.forEach(m=>u.insert(m)),u}insert(e){if(this.Ee===0)return;const t=ob(e),[r,s]=lb(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(r,s,l);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new df(Oe.min(),s,new mt(He),Pr(),Be())}}class wu{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wu(r,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class Xw{constructor(e,t){this.targetId=e,this.ge=t}}class Ww{constructor(e,t,r=an.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class cb{constructor(){this.pe=0,this.ye=ub(),this.we=an.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Be(),t=Be(),r=Be();return this.ye.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:je()}}),new wu(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=ub()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,et(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Ij{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pr(),this.$e=nh(),this.Ke=nh(),this.Ue=new mt(He)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const l=s.target;if(Sg(l))if(r===0){const u=new Ne(l.path);this.ze(t,u,hn.newNoDocument(u,Oe.min()))}else et(r===1);else{const u=this.et(t);if(u!==r){const m=this.tt(e),p=m?this.nt(m,e,u):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=t;let u,m;try{u=Va(r).toUint8Array()}catch(p){if(p instanceof Tw)return sl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new By(u,s,l)}catch(p){return sl(p instanceof Lc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(l=>{const u=this.ke.it(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,l,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((l,u)=>{const m=this.Xe(u);if(m){if(l.current&&Sg(m.target)){const p=new Ne(m.target.path);this._t(p).has(u)||this.ut(u,p)||this.ze(u,p,hn.newNoDocument(p,e))}l.ve&&(t.set(u,l.Fe()),l.Me())}});let r=Be();this.Ke.forEach((l,u)=>{let m=!0;u.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const s=new df(e,t,this.Ue,this.Qe,r);return this.Qe=Pr(),this.$e=nh(),this.Ke=nh(),this.Ue=new mt(He),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new cb,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new zt(He),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new zt(He),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function nh(){return new mt(Ne.comparator)}function ub(){return new mt(Ne.comparator)}const Dj={asc:"ASCENDING",desc:"DESCENDING"},jj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oj={and:"AND",or:"OR"};class kj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rg(n,e){return n.useProto3Json||af(e)?e:{value:e}}function Lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mj(n,e){return Lh(n,e.toTimestamp())}function $i(n){return et(!!n),Oe.fromTimestamp(function(t){const r=Ua(t);return new At(r.seconds,r.nanos)}(n))}function qy(n,e){return Cg(n,e).canonicalString()}function Cg(n,e){const t=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Jw(n){const e=ot.fromString(n);return et(rA(e)),e}function Ig(n,e){return qy(n.databaseId,e.path)}function Yp(n,e){const t=Jw(e);if(t.get(1)!==n.databaseId.projectId)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(tA(t))}function eA(n,e){return qy(n.databaseId,e)}function Pj(n){const e=Jw(n);return e.length===4?ot.emptyPath():tA(e)}function Dg(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tA(n){return et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function db(n,e,t){return{name:Ig(n,e),fields:t.value.mapValue.fields}}function Lj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(et(_===void 0||typeof _=="string"),an.fromBase64String(_||"")):(et(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),an.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(y){const _=y.code===void 0?ae.UNKNOWN:Qw(y.code);return new be(_,y.message||"")}(u);t=new Ww(r,s,l,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yp(n,r.document.name),l=$i(r.document.updateTime),u=r.document.createTime?$i(r.document.createTime):Oe.min(),m=new In({mapValue:{fields:r.document.fields}}),p=hn.newFoundDocument(s,l,u,m),y=r.targetIds||[],_=r.removedTargetIds||[];t=new vh(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Yp(n,r.document),l=r.readTime?$i(r.readTime):Oe.min(),u=hn.newNoDocument(s,l),m=r.removedTargetIds||[];t=new vh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Yp(n,r.document),l=r.removedTargetIds||[];t=new vh([],l,s,null)}else{if(!("filter"in e))return je();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,u=new xj(s,l),m=r.targetId;t=new Xw(m,u)}}return t}function Uj(n,e){let t;if(e instanceof Tu)t={update:db(n,e.key,e.value)};else if(e instanceof zy)t={delete:Ig(n,e.key)};else if(e instanceof Za)t={update:db(n,e.key,e.data),updateMask:Kj(e.fieldMask)};else{if(!(e instanceof wj))return je();t={verify:Ig(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const m=u.transform;if(m instanceof ru)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:u.field.canonicalString(),increment:m.Ie};throw je()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:Mj(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je()}(n,e.precondition)),t}function Vj(n,e){return n&&n.length>0?(et(e!==void 0),n.map(t=>function(s,l){let u=s.updateTime?$i(s.updateTime):$i(l);return u.isEqual(Oe.min())&&(u=$i(l)),new Ej(u,s.transformResults||[])}(t,e))):[]}function zj(n,e){return{documents:[eA(n,e.path)]}}function Fj(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=eA(n,s);const l=function(y){if(y.length!==0)return iA(bi.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(y){if(y.length!==0)return y.map(_=>function(T){return{field:Yo(T.field),direction:Hj(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=Rg(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:s}}function Bj(n){let e=Pj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){et(r===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const T=nA(w);return T instanceof bi&&jw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(C){return new iu(Qo(C.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let m=null;t.limit&&(m=function(w){let T;return T=typeof w=="object"?w.value:w,af(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,N=w.values||[];return new Mh(N,T)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const T=!w.before,N=w.values||[];return new Mh(N,T)}(t.endAt)),sj(e,s,u,l,m,"F",p,y)}function qj(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Qo(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Qo(t.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qo(t.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Qo(t.unaryFilter.field);return Dt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(Qo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bi.create(t.compositeFilter.filters.map(r=>nA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je()}}(t.compositeFilter.op))}(n):je()}function Hj(n){return Dj[n]}function Gj(n){return jj[n]}function $j(n){return Oj[n]}function Yo(n){return{fieldPath:n.canonicalString()}}function Qo(n){return rn.fromServerFormat(n.fieldPath)}function iA(n){return n instanceof Dt?function(t){if(t.op==="=="){if(ZE(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(WE(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ZE(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(WE(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:Gj(t.op),value:t.value}}}(n):n instanceof bi?function(t){const r=t.getFilters().map(s=>iA(s));return r.length===1?r[0]:{compositeFilter:{op:$j(t.op),filters:r}}}(n):je()}function Kj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t,r,s,l=Oe.min(),u=Oe.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.Tt=e}}function Qj(n){const e=Bj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.Tn=new Wj}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(La.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(La.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Wj{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new zt(ot.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aA=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(aA,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ul(0)}static Un(){return new ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="LruGarbageCollector",Zj=1048576;function mb([n,e],[t,r]){const s=He(n,t);return s===0?He(e,r):s}class Jj{constructor(e){this.Hn=e,this.buffer=new zt(mb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();mb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(fb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_l(t)?Ee(fb,"Ignoring IndexedDB error during garbage collection: ",t):await vl(t)}await this.er(3e5)})}}class tO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve(rf.ae);const r=new Jj(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(hb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,l,u,m,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,m=Date.now(),this.removeTargets(e,r,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(y=Date.now(),$o()<=Fe.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${s} in `+(m-u)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:w})))}}function nO(n,e){return new tO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.changes=new Ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Gc(r.mutation,s,zn.empty(),At.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Be()){const s=ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(l=>{let u=Pc();return l.forEach((m,p)=>{u=u.insert(m,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ks();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Be()))}populateOverlays(e,t,r){const s=[];return r.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,r,s){let l=Pr();const u=Hc(),m=function(){return Hc()}();return t.forEach((p,y)=>{const _=r.get(y.key);s.has(y.key)&&(_===void 0||_.mutation instanceof Za)?l=l.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),Gc(_.mutation,y,_.mutation.getFieldMask(),At.now())):u.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>u.set(y,_)),t.forEach((y,_)=>{var w;return m.set(y,new rO(_,(w=u.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Hc();let s=new mt((u,m)=>u-m),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=r.get(p)||zn.empty();_=m.applyToLocalView(y,_),r.set(p,_);const w=(s.get(m.batchId)||Be()).add(p);s=s.insert(m.batchId,w)})}).next(()=>{const u=[],m=s.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,_=p.value,w=Fw();_.forEach(T=>{if(!l.has(T)){const N=Kw(t.get(T),r.get(T));N!==null&&w.set(T,N),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,w))}return se.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Ne.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(l=>{const u=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-l.size):se.resolve(ks());let m=Jc,p=l;return u.next(y=>se.forEach(y,(_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),l.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Be())).next(_=>({batchId:m,changes:zw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(r=>{let s=Pc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const l=t.collectionGroup;let u=Pc();return this.indexManager.getCollectionParents(e,l).next(m=>se.forEach(m,p=>{const y=function(w,T){return new El(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,r,s).next(_=>{_.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,s))).next(u=>{l.forEach((p,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,hn.newInvalidDocument(_)))});let m=Pc();return u.forEach((p,y)=>{const _=l.get(p);_!==void 0&&Gc(_.mutation,y,zn.empty(),At.now()),lf(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:$i(s.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:Qj(s.bundledQuery),readTime:$i(s.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.overlays=new mt(Ne.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ks();return se.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,l)=>{this.Et(e,t,l)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const s=ks(),l=t.length+1,u=new Ne(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>r&&s.set(p.getKey(),p)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new mt((y,_)=>y-_);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let _=l.get(y.largestBatchId);_===null&&(_=ks(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const m=ks(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>m.set(y,_)),!(m.size()>=s)););return se.resolve(m)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Sj(t,r));let l=this.Rr.get(t);l===void 0&&(l=Be(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Vr=new zt(Qt.mr),this.gr=new zt(Qt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Qt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Ne(new ot([])),r=new Qt(t,e),s=new Qt(t,e+1),l=[];return this.gr.forEachInRange([r,s],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ne(new ot([])),r=new Qt(t,e),s=new Qt(t,e+1);let l=Be();return this.gr.forEachInRange([r,s],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Qt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ne.comparator(e.key,t.key)||He(e.Cr,t.Cr)}static pr(e,t){return He(e.Cr,t.Cr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new zt(Qt.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Aj(l,t,r,s);this.mutationQueue.push(u);for(const m of s)this.Mr=this.Mr.add(new Qt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),l=s<0?0:s;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Oy:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),s=new Qt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,s],u=>{const m=this.Or(u.Cr);l.push(m)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zt(He);return t.forEach(s=>{const l=new Qt(s,0),u=new Qt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],m=>{r=r.add(m.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;Ne.isDocumentKey(l)||(l=l.child(""));const u=new Qt(new Ne(l),0);let m=new zt(He);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===s&&(m=m.add(p.Cr)),!0)},u),se.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(t.mutations,s=>{const l=new Qt(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Qt(t,0),s=this.Mr.firstAfterOrEqual(r);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.kr=e,this.docs=function(){return new mt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():hn.newInvalidDocument(s))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let l=Pr();const u=t.path,m=new Ne(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||U6(L6(_),r)<=0||(s.has(_.key)||lf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,r,s){je()}qr(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dO(this)}getSize(e){return se.resolve(this.size)}}class dO extends iO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.persistence=e,this.Qr=new Ws(t=>Py(t),Ly),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Hy,this.targetCount=0,this.Ur=ul.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ul(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.Qr.forEach((u,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),se.waitFor(l).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(u=>{l.push(s.markPotentiallyOrphaned(e,u))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new rf(0),this.zr=!1,this.zr=!0,this.jr=new lO,this.referenceDelegate=e(this),this.Hr=new hO(this),this.indexManager=new Xj,this.remoteDocumentCache=function(s){return new uO(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Yj(t),this.Yr=new sO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new cO(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Ee("MemoryPersistence","Starting transaction:",e);const s=new fO(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(l=>this.referenceDelegate.Xr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}ei(e,t){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class fO extends z6{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.ti=new Hy,this.ni=null}static ri(e){return new Gy(e)}get ii(){if(this.ni)return this.ni;throw je()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const s=Ne.fromPath(r);return this.si(e,s).next(l=>{l||t.removeEntry(s,Oe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Uh{constructor(e,t){this.persistence=e,this.oi=new Ws(r=>q6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=nO(this,t)}static ri(e,t){return new Uh(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(l=>l?se.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,t).next(m=>{m||(r++,l.removeEntry(u,Oe.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ph(e.data.value)),t}ar(e,t,r){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Be(),s=Be();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new $y(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return RC()?8:F6(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const l={result:null};return this.rs(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,t,s,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new mO;return this._s(e,t,u).next(m=>{if(l.result=m,this.Xi)return this.us(e,t,u,m.size)})}).next(()=>l.result)}us(e,t,r,s){return r.documentReadCount<this.es?($o()<=Fe.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):($o()<=Fe.DEBUG&&Ee("QueryEngine","Query:",Ko(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?($o()<=Fe.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(t))):se.resolve())}rs(e,t){if(nb(t))return se.resolve(null);let r=Gi(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Ng(t,null,"F"),r=Gi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=Be(...l);return this.ns.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,r).next(p=>{const y=this.cs(t,m);return this.ls(t,y,u,p.readTime)?this.rs(e,Ng(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,r,s){return nb(t)||s.isEqual(Oe.min())?se.resolve(null):this.ns.getDocuments(e,r).next(l=>{const u=this.cs(t,l);return this.ls(t,u,r,s)?se.resolve(null):($o()<=Fe.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ko(t)),this.hs(e,u,t,P6(s,Jc)).next(m=>m))})}cs(e,t){let r=new zt(Uw(e));return t.forEach((s,l)=>{lf(e,l)&&(r=r.add(l))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}_s(e,t,r){return $o()<=Fe.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.ns.getDocumentsMatchingQuery(e,t,La.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LocalStore",gO=3e8;class yO{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new mt(He),this.Is=new Ws(l=>Py(l),Ly),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function vO(n,e,t,r){return new yO(n,e,t,r)}async function oA(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],m=[];let p=Be();for(const y of s){u.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){m.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next(y=>({Rs:y,removedBatchIds:u,addedBatchIds:m}))})})}function _O(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,_){const w=y.batch,T=w.keys();let N=se.resolve();return T.forEach(C=>{N=N.next(()=>_.getEntry(p,C)).next(B=>{const L=y.docVersions.get(C);et(L!==null),B.version.compareTo(L)<0&&(w.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),_.addEntry(B)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let p=Be();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function lA(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function EO(n,e){const t=Me(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const m=[];e.targetChanges.forEach((_,w)=>{const T=s.get(w);if(!T)return;m.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,w)));let N=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(an.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,r)),s=s.insert(w,N),function(B,L,F){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=gO?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,N,_)&&m.push(t.Hr.updateTargetData(l,N))});let p=Pr(),y=Be();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),m.push(bO(l,u,e.documentUpdates).next(_=>{p=_.Vs,y=_.fs})),!r.isEqual(Oe.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(w=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(_)}return se.waitFor(m).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ts=s,l))}function bO(n,e,t){let r=Be(),s=Be();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let u=Pr();return t.forEach((m,p)=>{const y=l.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(m)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):Ee(Ky,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:u,fs:s}})}function TO(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Oy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wO(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(l=>l?(s=l,se.resolve(s)):t.Hr.allocateTargetId(r).next(u=>(s=new Ca(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function jg(n,e,t){const r=Me(n),s=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!_l(u))throw u;Ee(Ky,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function pb(n,e,t){const r=Me(n);let s=Oe.min(),l=Be();return r.persistence.runTransaction("Execute query","readwrite",u=>function(p,y,_){const w=Me(p),T=w.Is.get(_);return T!==void 0?se.resolve(w.Ts.get(T)):w.Hr.getTargetData(y,_)}(r,u,Gi(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,m.targetId).next(p=>{l=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?s:Oe.min(),t?l:Be())).next(m=>(AO(r,lj(e),m),{documents:m,gs:l})))}function AO(n,e,t){let r=n.Es.get(e)||Oe.min();t.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Es.set(e,r)}class gb{constructor(){this.activeTargetIds=mj()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SO{constructor(){this.ho=new gb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new gb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="ConnectivityMonitor";class vb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(yb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(yb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function Og(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="RestConnection",NO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,t,r,s,l){const u=Og(),m=this.So(e,t.toUriEncodedString());Ee(Qp,`Sending RPC '${e}' ${u}:`,m,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,s,l),this.vo(e,m,p,r).then(y=>(Ee(Qp,`Received RPC '${e}' ${u}: `,y),y),y=>{throw sl(Qp,`RPC '${e}' ${u} failed with error: `,y,"url: ",m,"request:",r),y})}Co(e,t,r,s,l,u){return this.bo(e,t,r,s,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),r&&r.headers.forEach((s,l)=>e[l]=s)}So(e,t){const r=NO[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class IO extends RO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const l=Og();return new Promise((u,m)=>{const p=new fw;p.setWithCredentials(!0),p.listenOnce(mw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case mh.NO_ERROR:const _=p.getResponseJson();Ee(un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case mh.TIMEOUT:Ee(un,`RPC '${e}' ${l} timed out`),m(new be(ae.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const w=p.getStatus();if(Ee(un,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T==null?void 0:T.error;if(N&&N.status&&N.message){const C=function(L){const F=L.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(F)>=0?F:ae.UNKNOWN}(N.status);m(new be(C,N.message))}else m(new be(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new be(ae.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{Ee(un,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(s);Ee(un,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",y,r,15)})}Wo(e,t,r){const s=Og(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=yw(),m=gw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=l.join("");Ee(un,`Creating RPC '${e}' stream ${s}: ${_}`,p);const w=u.createWebChannel(_,p);let T=!1,N=!1;const C=new CO({Fo:L=>{N?Ee(un,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(T||(Ee(un,`Opening RPC '${e}' stream ${s} transport.`),w.open(),T=!0),Ee(un,`RPC '${e}' stream ${s} sending:`,L),w.send(L))},Mo:()=>w.close()}),B=(L,F,V)=>{L.listen(F,G=>{try{V(G)}catch(Y){setTimeout(()=>{throw Y},0)}})};return B(w,Mc.EventType.OPEN,()=>{N||(Ee(un,`RPC '${e}' stream ${s} transport opened.`),C.Qo())}),B(w,Mc.EventType.CLOSE,()=>{N||(N=!0,Ee(un,`RPC '${e}' stream ${s} transport closed`),C.Ko())}),B(w,Mc.EventType.ERROR,L=>{N||(N=!0,sl(un,`RPC '${e}' stream ${s} transport errored:`,L),C.Ko(new be(ae.UNAVAILABLE,"The operation could not be completed")))}),B(w,Mc.EventType.MESSAGE,L=>{var F;if(!N){const V=L.data[0];et(!!V);const G=V,Y=(G==null?void 0:G.error)||((F=G[0])===null||F===void 0?void 0:F.error);if(Y){Ee(un,`RPC '${e}' stream ${s} received error:`,Y);const P=Y.status;let ie=function(A){const I=Ct[A];if(I!==void 0)return Qw(I)}(P),j=Y.message;ie===void 0&&(ie=ae.INTERNAL,j="Unknown error status: "+P+" with message "+Y.message),N=!0,C.Ko(new be(ie,j)),w.close()}else Ee(un,`RPC '${e}' stream ${s} received:`,V),C.Uo(V)}}),B(m,pw.STAT_EVENT,L=>{L.stat===bg.PROXY?Ee(un,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===bg.NOPROXY&&Ee(un,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function Xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){return new kj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t,r=1e3,s=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="PersistentStream";class uA{constructor(e,t,r,s,l,u,m,p){this.Ti=e,this.n_=r,this.r_=s,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cA(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new be(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(_b,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ee(_b,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DO extends uA{constructor(e,t,r,s,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Lj(this.serializer,e),r=function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?$i(u.readTime):Oe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Dg(this.serializer),t.addTarget=function(l,u){let m;const p=u.target;if(m=Sg(p)?{documents:zj(l,p)}:{query:Fj(l,p).ht},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Zw(l,u.resumeToken);const y=Rg(l,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(Oe.min())>0){m.readTime=Lh(l,u.snapshotVersion.toTimestamp());const y=Rg(l,u.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const r=qj(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Dg(this.serializer),t.removeTarget=e,this.I_(t)}}class jO extends uA{constructor(e,t,r,s,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Vj(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Dg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Uj(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{}class kO extends OO{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.bo(e,Cg(t,r),s,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ae.UNKNOWN,l.toString())})}Co(e,t,r,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.Co(e,Cg(t,r),s,u,m,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ae.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class MO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mr(t),this.N_=!1):Ee("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class PO{constructor(e,t,r,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{r.enqueueAndForget(async()=>{Zs(this)&&(Ee(Hs,"Restarting streams for network reachability change."),await async function(p){const y=Me(p);y.W_.add(4),await Au(y),y.j_.set("Unknown"),y.W_.delete(4),await ff(y)}(this))})}),this.j_=new MO(r,s)}}async function ff(n){if(Zs(n))for(const e of n.G_)await e(!0)}async function Au(n){for(const e of n.G_)await e(!1)}function dA(n,e){const t=Me(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Wy(t)?Xy(t):bl(t).c_()&&Qy(t,e))}function Yy(n,e){const t=Me(n),r=bl(t);t.U_.delete(e),r.c_()&&hA(t,e),t.U_.size===0&&(r.c_()?r.P_():Zs(t)&&t.j_.set("Unknown"))}function Qy(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bl(n).y_(e)}function hA(n,e){n.H_.Ne(e),bl(n).w_(e)}function Xy(n){n.H_=new Ij({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),bl(n).start(),n.j_.B_()}function Wy(n){return Zs(n)&&!bl(n).u_()&&n.U_.size>0}function Zs(n){return Me(n).W_.size===0}function fA(n){n.H_=void 0}async function LO(n){n.j_.set("Online")}async function UO(n){n.U_.forEach((e,t)=>{Qy(n,e)})}async function VO(n,e){fA(n),Wy(n)?(n.j_.q_(e),Xy(n)):n.j_.set("Unknown")}async function zO(n,e,t){if(n.j_.set("Online"),e instanceof Ww&&e.state===2&&e.cause)try{await async function(s,l){const u=l.cause;for(const m of l.targetIds)s.U_.has(m)&&(await s.remoteSyncer.rejectListen(m,u),s.U_.delete(m),s.H_.removeTarget(m))}(n,e)}catch(r){Ee(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(n,r)}else if(e instanceof vh?n.H_.We(e):e instanceof Xw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Oe.min()))try{const r=await lA(n.localStore);t.compareTo(r)>=0&&await function(l,u){const m=l.H_.ot(u);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(y);_&&l.U_.set(y,_.withResumeToken(p.resumeToken,u))}}),m.targetMismatches.forEach((p,y)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(an.EMPTY_BYTE_STRING,_.snapshotVersion)),hA(l,p);const w=new Ca(_.target,p,y,_.sequenceNumber);Qy(l,w)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(r){Ee(Hs,"Failed to raise snapshot:",r),await Vh(n,r)}}async function Vh(n,e,t){if(!_l(e))throw e;n.W_.add(1),await Au(n),n.j_.set("Offline"),t||(t=()=>lA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(Hs,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ff(n)})}function mA(n,e){return e().catch(t=>Vh(n,t,e))}async function mf(n){const e=Me(n),t=Fa(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Oy;for(;FO(e);)try{const s=await TO(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,BO(e,s)}catch(s){await Vh(e,s)}pA(e)&&gA(e)}function FO(n){return Zs(n)&&n.K_.length<10}function BO(n,e){n.K_.push(e);const t=Fa(n);t.c_()&&t.b_&&t.S_(e.mutations)}function pA(n){return Zs(n)&&!Fa(n).u_()&&n.K_.length>0}function gA(n){Fa(n).start()}async function qO(n){Fa(n).C_()}async function HO(n){const e=Fa(n);for(const t of n.K_)e.S_(t.mutations)}async function GO(n,e,t){const r=n.K_.shift(),s=Fy.from(r,e,t);await mA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await mf(n)}async function $O(n,e){e&&Fa(n).b_&&await async function(r,s){if(function(u){return Nj(u)&&u!==ae.ABORTED}(s.code)){const l=r.K_.shift();Fa(r).h_(),await mA(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),await mf(r)}}(n,e),pA(n)&&gA(n)}async function Eb(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),Ee(Hs,"RemoteStore received new credentials");const r=Zs(t);t.W_.add(3),await Au(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ff(t)}async function KO(n,e){const t=Me(n);e?(t.W_.delete(2),await ff(t)):e||(t.W_.add(2),await Au(t),t.j_.set("Unknown"))}function bl(n){return n.J_||(n.J_=function(t,r,s){const l=Me(t);return l.M_(),new DO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:LO.bind(null,n),No:UO.bind(null,n),Lo:VO.bind(null,n),p_:zO.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Wy(n)?Xy(n):n.j_.set("Unknown")):(await n.J_.stop(),fA(n))})),n.J_}function Fa(n){return n.Y_||(n.Y_=function(t,r,s){const l=Me(t);return l.M_(),new jO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:qO.bind(null,n),Lo:$O.bind(null,n),D_:HO.bind(null,n),v_:GO.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await mf(n)):(await n.Y_.stop(),n.K_.length>0&&(Ee(Hs,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,l){const u=Date.now()+r,m=new Zy(e,t,u,s,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jy(n,e){if(Mr("AsyncQueue",`${e}: ${n}`),_l(n))return new be(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ne.comparator(t.key,r.key):(t,r)=>Ne.comparator(t.key,r.key),this.keyedMap=Pc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.Z_=new mt(Ne.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):je():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class dl{constructor(e,t,r,s,l,u,m,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,s,l){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new dl(e,t,nl.emptySet(t),u,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class QO{constructor(){this.queries=Tb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=Me(t),l=s.queries;s.queries=Tb(),l.forEach((u,m)=>{for(const p of m.ta)p.onError(r)})})(this,new be(ae.ABORTED,"Firestore shutting down"))}}function Tb(){return new Ws(n=>Lw(n),of)}async function yA(n,e){const t=Me(n);let r=3;const s=e.query;let l=t.queries.get(s);l?!l.na()&&e.ra()&&(r=2):(l=new YO,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(s,!0);break;case 1:l.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const m=Jy(u,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&ev(t)}async function vA(n,e){const t=Me(n),r=e.query;let s=3;const l=t.queries.get(r);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?s=e.ra()?0:1:!l.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function XO(n,e){const t=Me(n);let r=!1;for(const s of e){const l=s.query,u=t.queries.get(l);if(u){for(const m of u.ta)m.oa(s)&&(r=!0);u.ea=s}}r&&ev(t)}function WO(n,e,t){const r=Me(n),s=r.queries.get(e);if(s)for(const l of s.ta)l.onError(t);r.queries.delete(e)}function ev(n){n.ia.forEach(e=>{e.next()})}var kg,wb;(wb=kg||(kg={}))._a="default",wb.Cache="cache";class _A{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.key=e}}class bA{constructor(e){this.key=e}}class ZO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=Uw(e),this.wa=new nl(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new bb,s=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,u=s,m=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,w)=>{const T=s.get(_),N=lf(this.query,w)?w:null,C=!!T&&this.mutatedKeys.has(T.key),B=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;T&&N?T.data.isEqual(N.data)?C!==B&&(r.track({type:3,doc:N}),L=!0):this.va(T,N)||(r.track({type:2,doc:N}),L=!0,(p&&this.ya(N,p)>0||y&&this.ya(N,y)<0)&&(m=!0)):!T&&N?(r.track({type:0,doc:N}),L=!0):T&&!N&&(r.track({type:1,doc:T}),L=!0,(p||y)&&(m=!0)),L&&(N?(u=u.add(N),l=B?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{wa:u,Da:r,ls:m,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,w)=>function(N,C){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return B(N)-B(C)}(_.type,w.type)||this.ya(_.doc,w.doc)),this.Ca(r),s=s!=null&&s;const m=t&&!s?this.Fa():[],p=this.pa.size===0&&this.current&&!s?1:0,y=p!==this.ga;return this.ga=p,u.length!==0||y?{snapshot:new dl(this.query,e.wa,l,u,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new bA(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new EA(r))}),t}Oa(e){this.fa=e.gs,this.pa=Be();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return dl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const tv="SyncEngine";class JO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class e5{constructor(e){this.key=e,this.Ba=!1}}class t5{constructor(e,t,r,s,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ws(m=>Lw(m),of),this.qa=new Map,this.Qa=new Set,this.$a=new mt(Ne.comparator),this.Ka=new Map,this.Ua=new Hy,this.Wa={},this.Ga=new Map,this.za=ul.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function n5(n,e,t=!0){const r=NA(n);let s;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Na()):s=await TA(r,e,t,!0),s}async function i5(n,e){const t=NA(n);await TA(t,e,!0,!1)}async function TA(n,e,t,r){const s=await wO(n.localStore,Gi(e)),l=s.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let m;return r&&(m=await r5(n,e,l,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&dA(n.remoteStore,s),m}async function r5(n,e,t,r,s){n.Ha=(w,T,N)=>async function(B,L,F,V){let G=L.view.Sa(F);G.ls&&(G=await pb(B.localStore,L.query,!1).then(({documents:j})=>L.view.Sa(j,G)));const Y=V&&V.targetChanges.get(L.targetId),P=V&&V.targetMismatches.get(L.targetId)!=null,ie=L.view.applyChanges(G,B.isPrimaryClient,Y,P);return Sb(B,L.targetId,ie.Ma),ie.snapshot}(n,w,T,N);const l=await pb(n.localStore,e,!0),u=new ZO(e,l.gs),m=u.Sa(l.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),y=u.applyChanges(m,n.isPrimaryClient,p);Sb(n,t,y.Ma);const _=new JO(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function a5(n,e,t){const r=Me(n),s=r.ka.get(e),l=r.qa.get(s.targetId);if(l.length>1)return r.qa.set(s.targetId,l.filter(u=>!of(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Yy(r.remoteStore,s.targetId),Mg(r,s.targetId)}).catch(vl)):(Mg(r,s.targetId),await jg(r.localStore,s.targetId,!0))}async function s5(n,e){const t=Me(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Yy(t.remoteStore,r.targetId))}async function o5(n,e,t){const r=m5(n);try{const s=await function(u,m){const p=Me(u),y=At.now(),_=m.reduce((N,C)=>N.add(C.key),Be());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let C=Pr(),B=Be();return p.ds.getEntries(N,_).next(L=>{C=L,C.forEach((F,V)=>{V.isValidDocument()||(B=B.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,C)).next(L=>{w=L;const F=[];for(const V of m){const G=Tj(V,w.get(V.key).overlayedDocument);G!=null&&F.push(new Za(V.key,G,Cw(G.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,F,m)}).next(L=>{T=L;const F=L.applyToLocalDocumentSet(w,B);return p.documentOverlayCache.saveOverlays(N,L.batchId,F)})}).then(()=>({batchId:T.batchId,changes:zw(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,m,p){let y=u.Wa[u.currentUser.toKey()];y||(y=new mt(He)),y=y.insert(m,p),u.Wa[u.currentUser.toKey()]=y}(r,s.batchId,t),await Su(r,s.changes),await mf(r.remoteStore)}catch(s){const l=Jy(s,"Failed to persist write");t.reject(l)}}async function wA(n,e){const t=Me(n);try{const r=await EO(t.localStore,e);e.targetChanges.forEach((s,l)=>{const u=t.Ka.get(l);u&&(et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?et(u.Ba):s.removedDocuments.size>0&&(et(u.Ba),u.Ba=!1))}),await Su(t,r,e)}catch(r){await vl(r)}}function Ab(n,e,t){const r=Me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((l,u)=>{const m=u.view.sa(e);m.snapshot&&s.push(m.snapshot)}),function(u,m){const p=Me(u);p.onlineState=m;let y=!1;p.queries.forEach((_,w)=>{for(const T of w.ta)T.sa(m)&&(y=!0)}),y&&ev(p)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l5(n,e,t){const r=Me(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),l=s&&s.key;if(l){let u=new mt(Ne.comparator);u=u.insert(l,hn.newNoDocument(l,Oe.min()));const m=Be().add(l),p=new df(Oe.min(),new Map,new mt(He),u,m);await wA(r,p),r.$a=r.$a.remove(l),r.Ka.delete(e),nv(r)}else await jg(r.localStore,e,!1).then(()=>Mg(r,e,t)).catch(vl)}async function c5(n,e){const t=Me(n),r=e.batch.batchId;try{const s=await _O(t.localStore,e);SA(t,r,null),AA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Su(t,s)}catch(s){await vl(s)}}async function u5(n,e,t){const r=Me(n);try{const s=await function(u,m){const p=Me(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(et(w!==null),_=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(r.localStore,e);SA(r,e,t),AA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Su(r,s)}catch(s){await vl(s)}}function AA(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function SA(n,e,t){const r=Me(n);let s=r.Wa[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Mg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||xA(n,r)})}function xA(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Yy(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),nv(n))}function Sb(n,e,t){for(const r of t)r instanceof EA?(n.Ua.addReference(r.key,e),d5(n,r)):r instanceof bA?(Ee(tv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||xA(n,r.key)):je()}function d5(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Ee(tv,"New document in limbo: "+t),n.Qa.add(r),nv(n))}function nv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ne(ot.fromString(e)),r=n.za.next();n.Ka.set(r,new e5(t)),n.$a=n.$a.insert(t,r),dA(n.remoteStore,new Ca(Gi(Uy(t.path)),r,"TargetPurposeLimboResolution",rf.ae))}}async function Su(n,e,t){const r=Me(n),s=[],l=[],u=[];r.ka.isEmpty()||(r.ka.forEach((m,p)=>{u.push(r.Ha(p,e,t).then(y=>{var _;if((y||t)&&r.isPrimaryClient){const w=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){s.push(y);const w=$y.Yi(p.targetId,y);l.push(w)}}))}),await Promise.all(u),r.La.p_(s),await async function(p,y){const _=Me(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>se.forEach(y,T=>se.forEach(T.Hi,N=>_.persistence.referenceDelegate.addReference(w,T.targetId,N)).next(()=>se.forEach(T.Ji,N=>_.persistence.referenceDelegate.removeReference(w,T.targetId,N)))))}catch(w){if(!_l(w))throw w;Ee(Ky,"Failed to update sequence numbers: "+w)}for(const w of y){const T=w.targetId;if(!w.fromCache){const N=_.Ts.get(T),C=N.snapshotVersion,B=N.withLastLimboFreeSnapshotVersion(C);_.Ts=_.Ts.insert(T,B)}}}(r.localStore,l))}async function h5(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){Ee(tv,"User change. New user:",e.toKey());const r=await oA(t.localStore,e);t.currentUser=e,function(l,u){l.Ga.forEach(m=>{m.forEach(p=>{p.reject(new be(ae.CANCELLED,u))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(t,r.Rs)}}function f5(n,e){const t=Me(n),r=t.Ka.get(e);if(r&&r.Ba)return Be().add(r.key);{let s=Be();const l=t.qa.get(e);if(!l)return s;for(const u of l){const m=t.ka.get(u);s=s.unionWith(m.view.ba)}return s}}function NA(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l5.bind(null,e),e.La.p_=XO.bind(null,e.eventManager),e.La.Ja=WO.bind(null,e.eventManager),e}function m5(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u5.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return vO(this.persistence,new pO,e.initialUser,this.serializer)}Xa(e){return new sA(Gy.ri,this.serializer)}Za(e){return new SO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class p5 extends zh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){et(this.persistence.referenceDelegate instanceof Uh);const r=this.persistence.referenceDelegate.garbageCollector;return new eO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new sA(r=>Uh.ri(r,t),this.serializer)}}class Pg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ab(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=h5.bind(null,this.syncEngine),await KO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QO}()}createDatastore(e){const t=hf(e.databaseInfo.databaseId),r=function(l){return new IO(l)}(e.databaseInfo);return function(l,u,m,p){return new kO(l,u,m,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,l,u,m){return new PO(r,s,l,u,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Ab(this.syncEngine,t,0),function(){return vb.D()?new vb:new xO}())}createSyncEngine(e,t){return function(s,l,u,m,p,y,_){const w=new t5(s,l,u,m,p,y);return _&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Me(s);Ee(Hs,"RemoteStore shutting down."),l.W_.add(5),await Au(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pg.provider={build:()=>new Pg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class g5{constructor(e,t,r,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=dn.UNAUTHENTICATED,this.clientId=_w.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{Ee(Ba,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ee(Ba,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Jy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wp(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(Ba,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await oA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await y5(n);Ee(Ba,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Eb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Eb(e.remoteStore,s)),n._onlineComponents=e}async function y5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(Ba,"Using user provided OfflineComponentProvider");try{await Wp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),await Wp(n,new zh)}}else Ee(Ba,"Using default OfflineComponentProvider"),await Wp(n,new p5(void 0));return n._offlineComponents}async function CA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(Ba,"Using user provided OnlineComponentProvider"),await xb(n,n._uninitializedComponentsProvider._online)):(Ee(Ba,"Using default OnlineComponentProvider"),await xb(n,new Pg))),n._onlineComponents}function v5(n){return CA(n).then(e=>e.syncEngine)}async function IA(n){const e=await CA(n),t=e.eventManager;return t.onListen=n5.bind(null,e.syncEngine),t.onUnlisten=a5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=i5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=s5.bind(null,e.syncEngine),t}function _5(n,e,t={}){const r=new Dr;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,m,p,y){const _=new RA({next:T=>{_.su(),u.enqueueAndForget(()=>vA(l,w));const N=T.docs.has(m);!N&&T.fromCache?y.reject(new be(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&p&&p.source==="server"?y.reject(new be(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),w=new _A(Uy(m.path),_,{includeMetadataChanges:!0,Ta:!0});return yA(l,w)}(await IA(n),n.asyncQueue,e,t,r)),r.promise}function E5(n,e,t={}){const r=new Dr;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,m,p,y){const _=new RA({next:T=>{_.su(),u.enqueueAndForget(()=>vA(l,w)),T.fromCache&&p.source==="server"?y.reject(new be(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),w=new _A(m,_,{includeMetadataChanges:!0,Ta:!0});return yA(l,w)}(await IA(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(n,e,t){if(!t)throw new be(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function b5(n,e,t,r){if(e===!0&&r===!0)throw new be(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rb(n){if(!Ne.isDocumentKey(n))throw new be(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cb(n){if(Ne.isDocumentKey(n))throw new be(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":je()}function Ti(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pf(n);throw new be(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firestore.googleapis.com",Ib=!0;class Db{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OA,this.ssl=Ib}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ib;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zj)throw new be(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new R6;switch(r.type){case"firstParty":return new j6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Nb.get(t);r&&(Ee("ComponentProvider","Removing Datastore"),Nb.delete(t),r.terminate())}(this),Promise.resolve()}}function T5(n,e,t,r={}){var s;const l=(n=Ti(n,gf))._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l.host!==OA&&l.host!==m&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:m,ssl:!1,emulatorOptions:r});if(!Pa(p,u)&&(n._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=dn.MOCK_USER;else{y=J2(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new be(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(w)}n._authCredentials=new C6(new vw(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class Tn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Oa extends Js{constructor(e,t,r){super(e,t,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ne(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function Xt(n,e,...t){if(n=ct(n),jA("collection","path",e),n instanceof gf){const r=ot.fromString(e,...t);return Cb(r),new Oa(n,null,r)}{if(!(n instanceof Tn||n instanceof Oa))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return Cb(r),new Oa(n.firestore,null,r)}}function st(n,e,...t){if(n=ct(n),arguments.length===1&&(e=_w.newId()),jA("doc","path",e),n instanceof gf){const r=ot.fromString(e,...t);return Rb(r),new Tn(n,null,new Ne(r))}{if(!(n instanceof Tn||n instanceof Oa))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return Rb(r),new Tn(n.firestore,n instanceof Oa?n.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="AsyncQueue";class Ob{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cA(this,"async_queue_retry"),this.bu=()=>{const r=Xp();r&&Ee(jb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Xp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Xp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_l(e))throw e;Ee(jb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),m}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Zy.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(s),s}Du(){this.gu&&je()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class eo extends gf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Ob,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ob(e),this._firestoreClient=void 0,await e}}}function jt(n,e){const t=typeof n=="object"?n:Wh(),r=typeof n=="string"?n:Oh,s=Ka(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=X2("firestore");l&&T5(s,...l)}return s}function iv(n){if(n._terminated)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||w5(n),n._firestoreClient}function w5(n){var e,t,r;const s=n._freezeSettings(),l=function(m,p,y,_){return new $6(m,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,DA(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new g5(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hl(an.fromBase64String(e))}catch(t){throw new be(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hl(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=/^__.*__$/;class S5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tu(e,this.data,t,this.fieldTransforms)}}class kA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class sv{constructor(e,t,r,s,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new sv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(MA(this.Lu)&&A5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class x5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hf(e)}ju(e,t,r,s=!1){return new sv({Lu:e,methodName:t,zu:r,path:rn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _f(n){const e=n._freezeSettings(),t=hf(n._databaseId);return new x5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PA(n,e,t,r,s,l={}){const u=n.ju(l.merge||l.mergeFields?2:0,e,t,s);lv("Data must be an object, but it was:",u,r);const m=LA(r,u);let p,y;if(l.merge)p=new zn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=Lg(e,w,t);if(!u.contains(T))throw new be(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);VA(_,T)||_.push(T)}p=new zn(_),y=u.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=u.fieldTransforms;return new S5(new In(m),p,y)}class Ef extends vf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}class ov extends vf{_toFieldTransform(e){return new vj(e.path,new ru)}isEqual(e){return e instanceof ov}}function N5(n,e,t,r){const s=n.ju(1,e,t);lv("Data must be an object, but it was:",s,r);const l=[],u=In.empty();Wa(r,(p,y)=>{const _=cv(e,p,t);y=ct(y);const w=s.Ku(_);if(y instanceof Ef)l.push(_);else{const T=xu(y,w);T!=null&&(l.push(_),u.set(_,T))}});const m=new zn(l);return new kA(u,m,s.fieldTransforms)}function R5(n,e,t,r,s,l){const u=n.ju(1,e,t),m=[Lg(e,r,t)],p=[s];if(l.length%2!=0)throw new be(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)m.push(Lg(e,l[T])),p.push(l[T+1]);const y=[],_=In.empty();for(let T=m.length-1;T>=0;--T)if(!VA(y,m[T])){const N=m[T];let C=p[T];C=ct(C);const B=u.Ku(N);if(C instanceof Ef)y.push(N);else{const L=xu(C,B);L!=null&&(y.push(N),_.set(N,L))}}const w=new zn(y);return new kA(_,w,u.fieldTransforms)}function C5(n,e,t,r=!1){return xu(t,n.ju(r?4:3,e))}function xu(n,e){if(UA(n=ct(n)))return lv("Unsupported field value:",e,n),LA(n,e);if(n instanceof vf)return function(r,s){if(!MA(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const l=[];let u=0;for(const m of r){let p=xu(m,s.Uu(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(n,e)}return function(r,s){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=At.fromDate(r);return{timestampValue:Lh(s.serializer,l)}}if(r instanceof At){const l=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(s.serializer,l)}}if(r instanceof rv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hl)return{bytesValue:Zw(s.serializer,r._byteString)};if(r instanceof Tn){const l=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof av)return function(u,m){return{mapValue:{fields:{[Nw]:{stringValue:Rw},[kh]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Vy(m.serializer,y)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${pf(r)}`)}(n,e)}function LA(n,e){const t={};return bw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(n,(r,s)=>{const l=xu(s,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function UA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof rv||n instanceof hl||n instanceof Tn||n instanceof vf||n instanceof av)}function lv(n,e,t){if(!UA(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=pf(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Lg(n,e,t){if((e=ct(e))instanceof yf)return e._internalPath;if(typeof e=="string")return cv(n,e);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,t)}const I5=new RegExp("[~\\*/\\[\\]]");function cv(n,e,t){if(e.search(I5)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fh(n,e,t,r,s){const l=r&&!r.isEmpty(),u=s!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${r}`),u&&(p+=` in document ${s}`),p+=")"),new be(ae.INVALID_ARGUMENT,m+n+p)}function VA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class D5 extends zA{data(){return super.data()}}function bf(n,e){return typeof e=="string"?cv(n,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uv{}class FA extends uv{}function Gs(n,e,...t){let r=[];e instanceof uv&&r.push(e),r=r.concat(t),function(l){const u=l.filter(p=>p instanceof dv).length,m=l.filter(p=>p instanceof Tf).length;if(u>1||u>0&&m>0)throw new be(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Tf extends FA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Tf(e,t,r)}_apply(e){const t=this._parse(e);return BA(e._query,t),new Js(e.firestore,e.converter,xg(e._query,t))}_parse(e){const t=_f(e.firestore);return function(l,u,m,p,y,_,w){let T;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new be(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Mb(w,_);const C=[];for(const B of w)C.push(kb(p,l,B));T={arrayValue:{values:C}}}else T=kb(p,l,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Mb(w,_),T=C5(m,u,w,_==="in"||_==="not-in");return Dt.create(y,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ka(n,e,t){const r=e,s=bf("where",n);return Tf._create(s,r,t)}class dv extends uv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:bi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let u=s;const m=l.getFlattenedFilters();for(const p of m)BA(u,p),u=xg(u,p)}(e._query,t),new Js(e.firestore,e.converter,xg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hv extends FA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hv(e,t)}_apply(e){const t=function(s,l,u){if(s.startAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(l,u)}(e._query,this._field,this._direction);return new Js(e.firestore,e.converter,function(s,l){const u=s.explicitOrderBy.concat([l]);return new El(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function O5(n,e="asc"){const t=e,r=bf("orderBy",n);return hv._create(r,t)}function kb(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new be(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pw(e)&&t.indexOf("/")!==-1)throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ot.fromString(t));if(!Ne.isDocumentKey(r))throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XE(n,new Ne(r))}if(t instanceof Tn)return XE(n,t._key);throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(t)}.`)}function Mb(n,e){if(!Array.isArray(n)||n.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BA(n,e){const t=function(s,l){for(const u of s)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class k5{convertValue(e,t="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wa(e,(s,l)=>{r[s]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,s;const l=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[kh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>wt(u.doubleValue));return new av(l)}convertGeoPoint(e){return new rv(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const t=Ua(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);et(rA(r));const s=new tu(r.get(1),r.get(3)),l=new Ne(r.popFirst(5));return s.isEqual(t)||Mr(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HA extends zA{constructor(e,t,r,s,l,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _h extends HA{data(e={}){return super.data(e)}}class M5{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Uc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _h(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(m=>{const p=new _h(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Uc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new _h(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Uc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,_=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),_=u.indexOf(m.doc.key)),{type:P5(m.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function P5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n){n=Ti(n,Tn);const e=Ti(n.firestore,eo);return _5(iv(e),n._key).then(t=>L5(e,n,t))}class GA extends k5{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function qn(n){n=Ti(n,Js);const e=Ti(n.firestore,eo),t=iv(e),r=new GA(e);return j5(n._query),E5(t,n._query).then(s=>new M5(e,r,n,s))}function fv(n,e,t){n=Ti(n,Tn);const r=Ti(n.firestore,eo),s=qA(n.converter,e);return wf(r,[PA(_f(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ci.none())])}function ou(n,e,t,...r){n=Ti(n,Tn);const s=Ti(n.firestore,eo),l=_f(s);let u;return u=typeof(e=ct(e))=="string"||e instanceof yf?R5(l,"updateDoc",n._key,e,t,r):N5(l,"updateDoc",n._key,e),wf(s,[u.toMutation(n._key,ci.exists(!0))])}function mv(n){return wf(Ti(n.firestore,eo),[new zy(n._key,ci.none())])}function lu(n,e){const t=Ti(n.firestore,eo),r=st(n),s=qA(n.converter,e);return wf(t,[PA(_f(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then(()=>r)}function wf(n,e){return function(r,s){const l=new Dr;return r.asyncQueue.enqueueAndForget(async()=>o5(await v5(r),s,l)),l.promise}(iv(n),e)}function L5(n,e,t){const r=t.docs.get(e._key),s=new GA(n);return new HA(n,s,e._key,r,new Uc(t.hasPendingWrites,t.fromCache),e.converter)}function cu(){return new ov("serverTimestamp")}(function(e,t=!0){(function(s){yl=s})(Xs),Ei(new ui("firestore",(r,{instanceIdentifier:s,options:l})=>{const u=r.getProvider("app").getImmediate(),m=new eo(new I6(r.getProvider("auth-internal")),new O6(u,r.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new be(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(y.options.projectId,_)}(u,s),u);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Dn(VE,zE,e),Dn(VE,zE,"esm2017")})();const U5={apiKey:"AIzaSyA55n9d2NwuU6EeMRRAtQlf-4tagnakH9E",authDomain:"avilago-asms.firebaseapp.com",projectId:"avilago-asms",storageBucket:"avilago-asms.firebasestorage.app",messagingSenderId:"638965638827",appId:"1:638965638827:web:9e8ce501a65c607c3439ee",measurementId:"G-DMJEF7KXCZ"},pv=sT(U5);A6(pv);const qa=al(pv),Ms=jt(pv),$A=k.createContext();function V5({children:n}){const[e,t]=k.useState(null),[r,s]=k.useState(!0);k.useEffect(()=>XI(qa,p=>{t(p),s(!1)}),[]);const u={currentUser:e,logout:async()=>WI(qa),loading:r};return d.jsx($A.Provider,{value:u,children:!r&&n})}function gv(){return k.useContext($A)}const KA="/AvilaGO-ASMS/assets/logo-DarHfJNR.png",Bh="/AvilaGO-ASMS/assets/default-profile-DMY2WxGe.jpg";/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function z5(n,e,t){return(e=B5(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function fe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pb(Object(t),!0).forEach(function(r){z5(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Pb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function F5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function B5(n){var e=F5(n,"string");return typeof e=="symbol"?e:e+""}const Lb=()=>{};let yv={},YA={},QA=null,XA={mark:Lb,measure:Lb};try{typeof window<"u"&&(yv=window),typeof document<"u"&&(YA=document),typeof MutationObserver<"u"&&(QA=MutationObserver),typeof performance<"u"&&(XA=performance)}catch{}const{userAgent:Ub=""}=yv.navigator||{},Ha=yv,lt=YA,Vb=QA,rh=XA;Ha.document;const Vr=!!lt.documentElement&&!!lt.head&&typeof lt.addEventListener=="function"&&typeof lt.createElement=="function",WA=~Ub.indexOf("MSIE")||~Ub.indexOf("Trident/");var q5=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,H5=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ZA={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},G5={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},JA=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],mn="classic",Af="duotone",$5="sharp",K5="sharp-duotone",eS=[mn,Af,$5,K5],Y5={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Q5={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},X5=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),W5={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Z5=["fak","fa-kit","fakd","fa-kit-duotone"],zb={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},J5=["kit"],ek={kit:{"fa-kit":"fak"}},tk=["fak","fakd"],nk={kit:{fak:"fa-kit"}},Fb={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ah={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ik=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],rk=["fak","fa-kit","fakd","fa-kit-duotone"],ak={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},sk={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},ok={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Ug={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},lk=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Vg=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...ik,...lk],ck=["solid","regular","light","thin","duotone","brands"],tS=[1,2,3,4,5,6,7,8,9,10],uk=tS.concat([11,12,13,14,15,16,17,18,19,20]),dk=[...Object.keys(ok),...ck,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ah.GROUP,ah.SWAP_OPACITY,ah.PRIMARY,ah.SECONDARY].concat(tS.map(n=>"".concat(n,"x"))).concat(uk.map(n=>"w-".concat(n))),hk={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Lr="___FONT_AWESOME___",zg=16,nS="fa",iS="svg-inline--fa",$s="data-fa-i2svg",Fg="data-fa-pseudo-element",fk="data-fa-pseudo-element-pending",vv="data-prefix",_v="data-icon",Bb="fontawesome-i2svg",mk="async",pk=["HTML","HEAD","STYLE","SCRIPT"],rS=(()=>{try{return!0}catch{return!1}})();function Nu(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[mn]}})}const aS=fe({},ZA);aS[mn]=fe(fe(fe(fe({},{"fa-duotone":"duotone"}),ZA[mn]),zb.kit),zb["kit-duotone"]);const gk=Nu(aS),Bg=fe({},W5);Bg[mn]=fe(fe(fe(fe({},{duotone:"fad"}),Bg[mn]),Fb.kit),Fb["kit-duotone"]);const qb=Nu(Bg),qg=fe({},Ug);qg[mn]=fe(fe({},qg[mn]),nk.kit);const Ev=Nu(qg),Hg=fe({},sk);Hg[mn]=fe(fe({},Hg[mn]),ek.kit);Nu(Hg);const yk=q5,sS="fa-layers-text",vk=H5,_k=fe({},Y5);Nu(_k);const Ek=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Zp=G5,bk=[...J5,...dk],$c=Ha.FontAwesomeConfig||{};function Tk(n){var e=lt.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function wk(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}lt&&typeof lt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,r]=e;const s=wk(Tk(t));s!=null&&($c[r]=s)});const oS={styleDefault:"solid",familyDefault:mn,cssPrefix:nS,replacementClass:iS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};$c.familyPrefix&&($c.cssPrefix=$c.familyPrefix);const fl=fe(fe({},oS),$c);fl.autoReplaceSvg||(fl.observeMutations=!1);const Se={};Object.keys(oS).forEach(n=>{Object.defineProperty(Se,n,{enumerable:!0,set:function(e){fl[n]=e,Kc.forEach(t=>t(Se))},get:function(){return fl[n]}})});Object.defineProperty(Se,"familyPrefix",{enumerable:!0,set:function(n){fl.cssPrefix=n,Kc.forEach(e=>e(Se))},get:function(){return fl.cssPrefix}});Ha.FontAwesomeConfig=Se;const Kc=[];function Ak(n){return Kc.push(n),()=>{Kc.splice(Kc.indexOf(n),1)}}const Aa=zg,Fi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Sk(n){if(!n||!Vr)return;const e=lt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=lt.head.childNodes;let r=null;for(let s=t.length-1;s>-1;s--){const l=t[s],u=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=l)}return lt.head.insertBefore(e,r),n}const xk="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function uu(){let n=12,e="";for(;n-- >0;)e+=xk[Math.random()*62|0];return e}function Tl(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function bv(n){return n.classList?Tl(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function lS(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Nk(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(lS(n[t]),'" '),"").trim()}function Sf(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function Tv(n){return n.size!==Fi.size||n.x!==Fi.x||n.y!==Fi.y||n.rotate!==Fi.rotate||n.flipX||n.flipY}function Rk(n){let{transform:e,containerWidth:t,iconWidth:r}=n;const s={transform:"translate(".concat(t/2," 256)")},l="translate(".concat(e.x*32,", ").concat(e.y*32,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),m="rotate(".concat(e.rotate," 0 0)"),p={transform:"".concat(l," ").concat(u," ").concat(m)},y={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:p,path:y}}function Ck(n){let{transform:e,width:t=zg,height:r=zg,startCentered:s=!1}=n,l="";return s&&WA?l+="translate(".concat(e.x/Aa-t/2,"em, ").concat(e.y/Aa-r/2,"em) "):s?l+="translate(calc(-50% + ".concat(e.x/Aa,"em), calc(-50% + ").concat(e.y/Aa,"em)) "):l+="translate(".concat(e.x/Aa,"em, ").concat(e.y/Aa,"em) "),l+="scale(".concat(e.size/Aa*(e.flipX?-1:1),", ").concat(e.size/Aa*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var Ik=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function cS(){const n=nS,e=iS,t=Se.cssPrefix,r=Se.replacementClass;let s=Ik;if(t!==n||r!==e){const l=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),m=new RegExp("\\.".concat(e),"g");s=s.replace(l,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(m,".".concat(r))}return s}let Hb=!1;function Jp(){Se.autoAddCss&&!Hb&&(Sk(cS()),Hb=!0)}var Dk={mixout(){return{dom:{css:cS,insertCss:Jp}}},hooks(){return{beforeDOMElementCreation(){Jp()},beforeI2svg(){Jp()}}}};const Ur=Ha||{};Ur[Lr]||(Ur[Lr]={});Ur[Lr].styles||(Ur[Lr].styles={});Ur[Lr].hooks||(Ur[Lr].hooks={});Ur[Lr].shims||(Ur[Lr].shims=[]);var Bi=Ur[Lr];const uS=[],dS=function(){lt.removeEventListener("DOMContentLoaded",dS),qh=1,uS.map(n=>n())};let qh=!1;Vr&&(qh=(lt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(lt.readyState),qh||lt.addEventListener("DOMContentLoaded",dS));function jk(n){Vr&&(qh?setTimeout(n,0):uS.push(n))}function Ru(n){const{tag:e,attributes:t={},children:r=[]}=n;return typeof n=="string"?lS(n):"<".concat(e," ").concat(Nk(t),">").concat(r.map(Ru).join(""),"</").concat(e,">")}function Gb(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var eg=function(e,t,r,s){var l=Object.keys(e),u=l.length,m=t,p,y,_;for(r===void 0?(p=1,_=e[l[0]]):(p=0,_=r);p<u;p++)y=l[p],_=m(_,e[y],y,e);return _};function Ok(n){const e=[];let t=0;const r=n.length;for(;t<r;){const s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<r){const l=n.charCodeAt(t++);(l&64512)==56320?e.push(((s&1023)<<10)+(l&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function Gg(n){const e=Ok(n);return e.length===1?e[0].toString(16):null}function kk(n,e){const t=n.length;let r=n.charCodeAt(e),s;return r>=55296&&r<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function $b(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return!!r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function $g(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=t,s=$b(e);typeof Bi.hooks.addPack=="function"&&!r?Bi.hooks.addPack(n,$b(e)):Bi.styles[n]=fe(fe({},Bi.styles[n]||{}),s),n==="fas"&&$g("fa",e)}const{styles:du,shims:Mk}=Bi,hS=Object.keys(Ev),Pk=hS.reduce((n,e)=>(n[e]=Object.keys(Ev[e]),n),{});let wv=null,fS={},mS={},pS={},gS={},yS={};function Lk(n){return~bk.indexOf(n)}function Uk(n,e){const t=e.split("-"),r=t[0],s=t.slice(1).join("-");return r===n&&s!==""&&!Lk(s)?s:null}const vS=()=>{const n=r=>eg(du,(s,l,u)=>(s[u]=eg(l,r,{}),s),{});fS=n((r,s,l)=>(s[3]&&(r[s[3]]=l),s[2]&&s[2].filter(m=>typeof m=="number").forEach(m=>{r[m.toString(16)]=l}),r)),mS=n((r,s,l)=>(r[l]=l,s[2]&&s[2].filter(m=>typeof m=="string").forEach(m=>{r[m]=l}),r)),yS=n((r,s,l)=>{const u=s[2];return r[l]=l,u.forEach(m=>{r[m]=l}),r});const e="far"in du||Se.autoFetchSvg,t=eg(Mk,(r,s)=>{const l=s[0];let u=s[1];const m=s[2];return u==="far"&&!e&&(u="fas"),typeof l=="string"&&(r.names[l]={prefix:u,iconName:m}),typeof l=="number"&&(r.unicodes[l.toString(16)]={prefix:u,iconName:m}),r},{names:{},unicodes:{}});pS=t.names,gS=t.unicodes,wv=xf(Se.styleDefault,{family:Se.familyDefault})};Ak(n=>{wv=xf(n.styleDefault,{family:Se.familyDefault})});vS();function Av(n,e){return(fS[n]||{})[e]}function Vk(n,e){return(mS[n]||{})[e]}function Ps(n,e){return(yS[n]||{})[e]}function _S(n){return pS[n]||{prefix:null,iconName:null}}function zk(n){const e=gS[n],t=Av("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function Ga(){return wv}const ES=()=>({prefix:null,iconName:null,rest:[]});function Fk(n){let e=mn;const t=hS.reduce((r,s)=>(r[s]="".concat(Se.cssPrefix,"-").concat(s),r),{});return eS.forEach(r=>{(n.includes(t[r])||n.some(s=>Pk[r].includes(s)))&&(e=r)}),e}function xf(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=mn}=e,r=gk[t][n];if(t===Af&&!n)return"fad";const s=qb[t][n]||qb[t][r],l=n in Bi.styles?n:null;return s||l||null}function Bk(n){let e=[],t=null;return n.forEach(r=>{const s=Uk(Se.cssPrefix,r);s?t=s:r&&e.push(r)}),{iconName:t,rest:e}}function Kb(n){return n.sort().filter((e,t,r)=>r.indexOf(e)===t)}function Nf(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let r=null;const s=Vg.concat(rk),l=Kb(n.filter(w=>s.includes(w))),u=Kb(n.filter(w=>!Vg.includes(w))),m=l.filter(w=>(r=w,!JA.includes(w))),[p=null]=m,y=Fk(l),_=fe(fe({},Bk(u)),{},{prefix:xf(p,{family:y})});return fe(fe(fe({},_),$k({values:n,family:y,styles:du,config:Se,canonical:_,givenPrefix:r})),qk(t,r,_))}function qk(n,e,t){let{prefix:r,iconName:s}=t;if(n||!r||!s)return{prefix:r,iconName:s};const l=e==="fa"?_S(s):{},u=Ps(r,s);return s=l.iconName||u||s,r=l.prefix||r,r==="far"&&!du.far&&du.fas&&!Se.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const Hk=eS.filter(n=>n!==mn||n!==Af),Gk=Object.keys(Ug).filter(n=>n!==mn).map(n=>Object.keys(Ug[n])).flat();function $k(n){const{values:e,family:t,canonical:r,givenPrefix:s="",styles:l={},config:u={}}=n,m=t===Af,p=e.includes("fa-duotone")||e.includes("fad"),y=u.familyDefault==="duotone",_=r.prefix==="fad"||r.prefix==="fa-duotone";if(!m&&(p||y||_)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&Hk.includes(t)&&(Object.keys(l).find(T=>Gk.includes(T))||u.autoFetchSvg)){const T=X5.get(t).defaultShortPrefixId;r.prefix=T,r.iconName=Ps(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=Ga()||"fas"),r}class Kk{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(l=>{this.definitions[l]=fe(fe({},this.definitions[l]||{}),s[l]),$g(l,s[l]);const u=Ev[mn][l];u&&$g(u,s[l]),vS()})}reset(){this.definitions={}}_pullDefinitions(e,t){const r=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(r).map(s=>{const{prefix:l,iconName:u,icon:m}=r[s],p=m[2];e[l]||(e[l]={}),p.length>0&&p.forEach(y=>{typeof y=="string"&&(e[l][y]=m)}),e[l][u]=m}),e}}let Yb=[],Xo={};const il={},Yk=Object.keys(il);function Qk(n,e){let{mixoutsTo:t}=e;return Yb=n,Xo={},Object.keys(il).forEach(r=>{Yk.indexOf(r)===-1&&delete il[r]}),Yb.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(l=>{typeof s[l]=="function"&&(t[l]=s[l]),typeof s[l]=="object"&&Object.keys(s[l]).forEach(u=>{t[l]||(t[l]={}),t[l][u]=s[l][u]})}),r.hooks){const l=r.hooks();Object.keys(l).forEach(u=>{Xo[u]||(Xo[u]=[]),Xo[u].push(l[u])})}r.provides&&r.provides(il)}),t}function Kg(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];return(Xo[n]||[]).forEach(u=>{e=u.apply(null,[e,...r])}),e}function Ks(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(Xo[n]||[]).forEach(l=>{l.apply(null,t)})}function $a(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return il[n]?il[n].apply(null,e):void 0}function Yg(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||Ga();if(e)return e=Ps(t,e)||e,Gb(bS.definitions,t,e)||Gb(Bi.styles,t,e)}const bS=new Kk,Xk=()=>{Se.autoReplaceSvg=!1,Se.observeMutations=!1,Ks("noAuto")},Wk={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Vr?(Ks("beforeI2svg",n),$a("pseudoElements2svg",n),$a("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;Se.autoReplaceSvg===!1&&(Se.autoReplaceSvg=!0),Se.observeMutations=!0,jk(()=>{Jk({autoReplaceSvgRoot:e}),Ks("watch",n)})}},Zk={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Ps(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=xf(n[0]);return{prefix:t,iconName:Ps(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(Se.cssPrefix,"-"))>-1||n.match(yk))){const e=Nf(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||Ga(),iconName:Ps(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=Ga();return{prefix:e,iconName:Ps(e,n)||n}}}},Hn={noAuto:Xk,config:Se,dom:Wk,parse:Zk,library:bS,findIconDefinition:Yg,toHtml:Ru},Jk=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=lt}=n;(Object.keys(Bi.styles).length>0||Se.autoFetchSvg)&&Vr&&Se.autoReplaceSvg&&Hn.dom.i2svg({node:e})};function Rf(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>Ru(t))}}),Object.defineProperty(n,"node",{get:function(){if(!Vr)return;const t=lt.createElement("div");return t.innerHTML=n.html,t.children}}),n}function eM(n){let{children:e,main:t,mask:r,attributes:s,styles:l,transform:u}=n;if(Tv(u)&&t.found&&!r.found){const{width:m,height:p}=t,y={x:m/p/2,y:.5};s.style=Sf(fe(fe({},l),{},{"transform-origin":"".concat(y.x+u.x/16,"em ").concat(y.y+u.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function tM(n){let{prefix:e,iconName:t,children:r,attributes:s,symbol:l}=n;const u=l===!0?"".concat(e,"-").concat(Se.cssPrefix,"-").concat(t):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:fe(fe({},s),{},{id:u}),children:r}]}]}function Sv(n){const{icons:{main:e,mask:t},prefix:r,iconName:s,transform:l,symbol:u,title:m,maskId:p,titleId:y,extra:_,watchable:w=!1}=n,{width:T,height:N}=t.found?t:e,C=tk.includes(r),B=[Se.replacementClass,s?"".concat(Se.cssPrefix,"-").concat(s):""].filter(P=>_.classes.indexOf(P)===-1).filter(P=>P!==""||!!P).concat(_.classes).join(" ");let L={children:[],attributes:fe(fe({},_.attributes),{},{"data-prefix":r,"data-icon":s,class:B,role:_.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(T," ").concat(N)})};const F=C&&!~_.classes.indexOf("fa-fw")?{width:"".concat(T/N*16*.0625,"em")}:{};w&&(L.attributes[$s]=""),m&&(L.children.push({tag:"title",attributes:{id:L.attributes["aria-labelledby"]||"title-".concat(y||uu())},children:[m]}),delete L.attributes.title);const V=fe(fe({},L),{},{prefix:r,iconName:s,main:e,mask:t,maskId:p,transform:l,symbol:u,styles:fe(fe({},F),_.styles)}),{children:G,attributes:Y}=t.found&&e.found?$a("generateAbstractMask",V)||{children:[],attributes:{}}:$a("generateAbstractIcon",V)||{children:[],attributes:{}};return V.children=G,V.attributes=Y,u?tM(V):eM(V)}function Qb(n){const{content:e,width:t,height:r,transform:s,title:l,extra:u,watchable:m=!1}=n,p=fe(fe(fe({},u.attributes),l?{title:l}:{}),{},{class:u.classes.join(" ")});m&&(p[$s]="");const y=fe({},u.styles);Tv(s)&&(y.transform=Ck({transform:s,startCentered:!0,width:t,height:r}),y["-webkit-transform"]=y.transform);const _=Sf(y);_.length>0&&(p.style=_);const w=[];return w.push({tag:"span",attributes:p,children:[e]}),l&&w.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),w}function nM(n){const{content:e,title:t,extra:r}=n,s=fe(fe(fe({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),l=Sf(r.styles);l.length>0&&(s.style=l);const u=[];return u.push({tag:"span",attributes:s,children:[e]}),t&&u.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),u}const{styles:tg}=Bi;function Qg(n){const e=n[0],t=n[1],[r]=n.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(Se.cssPrefix,"-").concat(Zp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Se.cssPrefix,"-").concat(Zp.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Se.cssPrefix,"-").concat(Zp.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:t,icon:s}}const iM={found:!1,width:512,height:512};function rM(n,e){!rS&&!Se.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function Xg(n,e){let t=e;return e==="fa"&&Se.styleDefault!==null&&(e=Ga()),new Promise((r,s)=>{if(t==="fa"){const l=_S(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&tg[e]&&tg[e][n]){const l=tg[e][n];return r(Qg(l))}rM(n,e),r(fe(fe({},iM),{},{icon:Se.showMissingIcons&&n?$a("missingIconAbstract")||{}:{}}))})}const Xb=()=>{},Wg=Se.measurePerformance&&rh&&rh.mark&&rh.measure?rh:{mark:Xb,measure:Xb},Vc='FA "6.7.2"',aM=n=>(Wg.mark("".concat(Vc," ").concat(n," begins")),()=>TS(n)),TS=n=>{Wg.mark("".concat(Vc," ").concat(n," ends")),Wg.measure("".concat(Vc," ").concat(n),"".concat(Vc," ").concat(n," begins"),"".concat(Vc," ").concat(n," ends"))};var xv={begin:aM,end:TS};const Eh=()=>{};function Wb(n){return typeof(n.getAttribute?n.getAttribute($s):null)=="string"}function sM(n){const e=n.getAttribute?n.getAttribute(vv):null,t=n.getAttribute?n.getAttribute(_v):null;return e&&t}function oM(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Se.replacementClass)}function lM(){return Se.autoReplaceSvg===!0?bh.replace:bh[Se.autoReplaceSvg]||bh.replace}function cM(n){return lt.createElementNS("http://www.w3.org/2000/svg",n)}function uM(n){return lt.createElement(n)}function wS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=n.tag==="svg"?cM:uM}=e;if(typeof n=="string")return lt.createTextNode(n);const r=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){r.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){r.appendChild(wS(l,{ceFn:t}))}),r}function dM(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const bh={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(wS(t),e)}),e.getAttribute($s)===null&&Se.keepOriginalSource){let t=lt.createComment(dM(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~bv(e).indexOf(Se.replacementClass))return bh.replace(n);const r=new RegExp("".concat(Se.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const l=t[0].attributes.class.split(" ").reduce((u,m)=>(m===Se.replacementClass||m.match(r)?u.toSvg.push(m):u.toNode.push(m),u),{toNode:[],toSvg:[]});t[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",l.toNode.join(" "))}const s=t.map(l=>Ru(l)).join(`
`);e.setAttribute($s,""),e.innerHTML=s}};function Zb(n){n()}function AS(n,e){const t=typeof e=="function"?e:Eh;if(n.length===0)t();else{let r=Zb;Se.mutateApproach===mk&&(r=Ha.requestAnimationFrame||Zb),r(()=>{const s=lM(),l=xv.begin("mutate");n.map(s),l(),t()})}}let Nv=!1;function SS(){Nv=!0}function Zg(){Nv=!1}let Hh=null;function Jb(n){if(!Vb||!Se.observeMutations)return;const{treeCallback:e=Eh,nodeCallback:t=Eh,pseudoElementsCallback:r=Eh,observeMutationsRoot:s=lt}=n;Hh=new Vb(l=>{if(Nv)return;const u=Ga();Tl(l).forEach(m=>{if(m.type==="childList"&&m.addedNodes.length>0&&!Wb(m.addedNodes[0])&&(Se.searchPseudoElements&&r(m.target),e(m.target)),m.type==="attributes"&&m.target.parentNode&&Se.searchPseudoElements&&r(m.target.parentNode),m.type==="attributes"&&Wb(m.target)&&~Ek.indexOf(m.attributeName))if(m.attributeName==="class"&&sM(m.target)){const{prefix:p,iconName:y}=Nf(bv(m.target));m.target.setAttribute(vv,p||u),y&&m.target.setAttribute(_v,y)}else oM(m.target)&&t(m.target)})}),Vr&&Hh.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function hM(){Hh&&Hh.disconnect()}function fM(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((r,s)=>{const l=s.split(":"),u=l[0],m=l.slice(1);return u&&m.length>0&&(r[u]=m.join(":").trim()),r},{})),t}function mM(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"";let s=Nf(bv(n));return s.prefix||(s.prefix=Ga()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=Vk(s.prefix,n.innerText)||Av(s.prefix,Gg(n.innerText))),!s.iconName&&Se.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function pM(n){const e=Tl(n.attributes).reduce((s,l)=>(s.name!=="class"&&s.name!=="style"&&(s[l.name]=l.value),s),{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Se.autoA11y&&(t?e["aria-labelledby"]="".concat(Se.replacementClass,"-title-").concat(r||uu()):(e["aria-hidden"]="true",e.focusable="false")),e}function gM(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Fi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function e2(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:r,rest:s}=mM(n),l=pM(n),u=Kg("parseNodeAttributes",{},n);let m=e.styleParser?fM(n):[];return fe({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:Fi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:m,attributes:l}},u)}const{styles:yM}=Bi;function xS(n){const e=Se.autoReplaceSvg==="nest"?e2(n,{styleParser:!1}):e2(n);return~e.extra.classes.indexOf(sS)?$a("generateLayersText",n,e):$a("generateSvgReplacementMutation",n,e)}function vM(){return[...Z5,...Vg]}function t2(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Vr)return Promise.resolve();const t=lt.documentElement.classList,r=_=>t.add("".concat(Bb,"-").concat(_)),s=_=>t.remove("".concat(Bb,"-").concat(_)),l=Se.autoFetchSvg?vM():JA.concat(Object.keys(yM));l.includes("fa")||l.push("fa");const u=[".".concat(sS,":not([").concat($s,"])")].concat(l.map(_=>".".concat(_,":not([").concat($s,"])"))).join(", ");if(u.length===0)return Promise.resolve();let m=[];try{m=Tl(n.querySelectorAll(u))}catch{}if(m.length>0)r("pending"),s("complete");else return Promise.resolve();const p=xv.begin("onTree"),y=m.reduce((_,w)=>{try{const T=xS(w);T&&_.push(T)}catch(T){rS||T.name==="MissingIcon"&&console.error(T)}return _},[]);return new Promise((_,w)=>{Promise.all(y).then(T=>{AS(T,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),p(),_()})}).catch(T=>{p(),w(T)})})}function _M(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;xS(n).then(t=>{t&&AS([t],e)})}function EM(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Yg(e||{});let{mask:s}=t;return s&&(s=(s||{}).icon?s:Yg(s||{})),n(r,fe(fe({},t),{},{mask:s}))}}const bM=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Fi,symbol:r=!1,mask:s=null,maskId:l=null,title:u=null,titleId:m=null,classes:p=[],attributes:y={},styles:_={}}=e;if(!n)return;const{prefix:w,iconName:T,icon:N}=n;return Rf(fe({type:"icon"},n),()=>(Ks("beforeDOMElementCreation",{iconDefinition:n,params:e}),Se.autoA11y&&(u?y["aria-labelledby"]="".concat(Se.replacementClass,"-title-").concat(m||uu()):(y["aria-hidden"]="true",y.focusable="false")),Sv({icons:{main:Qg(N),mask:s?Qg(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:T,transform:fe(fe({},Fi),t),symbol:r,title:u,maskId:l,titleId:m,extra:{attributes:y,styles:_,classes:p}})))};var TM={mixout(){return{icon:EM(bM)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=t2,n.nodeCallback=_M,n}}},provides(n){n.i2svg=function(e){const{node:t=lt,callback:r=()=>{}}=e;return t2(t,r)},n.generateSvgReplacementMutation=function(e,t){const{iconName:r,title:s,titleId:l,prefix:u,transform:m,symbol:p,mask:y,maskId:_,extra:w}=t;return new Promise((T,N)=>{Promise.all([Xg(r,u),y.iconName?Xg(y.iconName,y.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(C=>{let[B,L]=C;T([e,Sv({icons:{main:B,mask:L},prefix:u,iconName:r,transform:m,symbol:p,maskId:_,title:s,titleId:l,extra:w,watchable:!0})])}).catch(N)})},n.generateAbstractIcon=function(e){let{children:t,attributes:r,main:s,transform:l,styles:u}=e;const m=Sf(u);m.length>0&&(r.style=m);let p;return Tv(l)&&(p=$a("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),t.push(p||s.icon),{children:t,attributes:r}}}},wM={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return Rf({type:"layer"},()=>{Ks("beforeDOMElementCreation",{assembler:n,params:e});let r=[];return n(s=>{Array.isArray(s)?s.map(l=>{r=r.concat(l.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Se.cssPrefix,"-layers"),...t].join(" ")},children:r}]})}}}},AM={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:r=[],attributes:s={},styles:l={}}=e;return Rf({type:"counter",content:n},()=>(Ks("beforeDOMElementCreation",{content:n,params:e}),nM({content:n.toString(),title:t,extra:{attributes:s,styles:l,classes:["".concat(Se.cssPrefix,"-layers-counter"),...r]}})))}}}},SM={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Fi,title:r=null,classes:s=[],attributes:l={},styles:u={}}=e;return Rf({type:"text",content:n},()=>(Ks("beforeDOMElementCreation",{content:n,params:e}),Qb({content:n,transform:fe(fe({},Fi),t),title:r,extra:{attributes:l,styles:u,classes:["".concat(Se.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(e,t){const{title:r,transform:s,extra:l}=t;let u=null,m=null;if(WA){const p=parseInt(getComputedStyle(e).fontSize,10),y=e.getBoundingClientRect();u=y.width/p,m=y.height/p}return Se.autoA11y&&!r&&(l.attributes["aria-hidden"]="true"),Promise.resolve([e,Qb({content:e.innerHTML,width:u,height:m,transform:s,title:r,extra:l,watchable:!0})])}}};const xM=new RegExp('"',"ug"),n2=[1105920,1112319],i2=fe(fe(fe(fe({},{FontAwesome:{normal:"fas",400:"fas"}}),Q5),hk),ak),Jg=Object.keys(i2).reduce((n,e)=>(n[e.toLowerCase()]=i2[e],n),{}),NM=Object.keys(Jg).reduce((n,e)=>{const t=Jg[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function RM(n){const e=n.replace(xM,""),t=kk(e,0),r=t>=n2[0]&&t<=n2[1],s=e.length===2?e[0]===e[1]:!1;return{value:Gg(s?e[0]:e),isSecondary:r||s}}function CM(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(Jg[t]||{})[s]||NM[t]}function r2(n,e){const t="".concat(fk).concat(e.replace(":","-"));return new Promise((r,s)=>{if(n.getAttribute(t)!==null)return r();const u=Tl(n.children).filter(T=>T.getAttribute(Fg)===e)[0],m=Ha.getComputedStyle(n,e),p=m.getPropertyValue("font-family"),y=p.match(vk),_=m.getPropertyValue("font-weight"),w=m.getPropertyValue("content");if(u&&!y)return n.removeChild(u),r();if(y&&w!=="none"&&w!==""){const T=m.getPropertyValue("content");let N=CM(p,_);const{value:C,isSecondary:B}=RM(T),L=y[0].startsWith("FontAwesome");let F=Av(N,C),V=F;if(L){const G=zk(C);G.iconName&&G.prefix&&(F=G.iconName,N=G.prefix)}if(F&&!B&&(!u||u.getAttribute(vv)!==N||u.getAttribute(_v)!==V)){n.setAttribute(t,V),u&&n.removeChild(u);const G=gM(),{extra:Y}=G;Y.attributes[Fg]=e,Xg(F,N).then(P=>{const ie=Sv(fe(fe({},G),{},{icons:{main:P,mask:ES()},prefix:N,iconName:V,extra:Y,watchable:!0})),j=lt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(j,n.firstChild):n.appendChild(j),j.outerHTML=ie.map(S=>Ru(S)).join(`
`),n.removeAttribute(t),r()}).catch(s)}else r()}else r()})}function IM(n){return Promise.all([r2(n,"::before"),r2(n,"::after")])}function DM(n){return n.parentNode!==document.head&&!~pk.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Fg)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function a2(n){if(Vr)return new Promise((e,t)=>{const r=Tl(n.querySelectorAll("*")).filter(DM).map(IM),s=xv.begin("searchPseudoElements");SS(),Promise.all(r).then(()=>{s(),Zg(),e()}).catch(()=>{s(),Zg(),t()})})}var jM={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=a2,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:t=lt}=e;Se.searchPseudoElements&&a2(t)}}};let s2=!1;var OM={mixout(){return{dom:{unwatch(){SS(),s2=!0}}}},hooks(){return{bootstrap(){Jb(Kg("mutationObserverCallbacks",{}))},noAuto(){hM()},watch(n){const{observeMutationsRoot:e}=n;s2?Zg():Jb(Kg("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const o2=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,r)=>{const s=r.toLowerCase().split("-"),l=s[0];let u=s.slice(1).join("-");if(l&&u==="h")return t.flipX=!0,t;if(l&&u==="v")return t.flipY=!0,t;if(u=parseFloat(u),isNaN(u))return t;switch(l){case"grow":t.size=t.size+u;break;case"shrink":t.size=t.size-u;break;case"left":t.x=t.x-u;break;case"right":t.x=t.x+u;break;case"up":t.y=t.y-u;break;case"down":t.y=t.y+u;break;case"rotate":t.rotate=t.rotate+u;break}return t},e)};var kM={mixout(){return{parse:{transform:n=>o2(n)}}},hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=o2(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:r,containerWidth:s,iconWidth:l}=e;const u={transform:"translate(".concat(s/2," 256)")},m="translate(".concat(r.x*32,", ").concat(r.y*32,") "),p="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),y="rotate(".concat(r.rotate," 0 0)"),_={transform:"".concat(m," ").concat(p," ").concat(y)},w={transform:"translate(".concat(l/2*-1," -256)")},T={outer:u,inner:_,path:w};return{tag:"g",attributes:fe({},T.outer),children:[{tag:"g",attributes:fe({},T.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:fe(fe({},t.icon.attributes),T.path)}]}]}}}};const ng={x:0,y:0,width:"100%",height:"100%"};function l2(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function MM(n){return n.tag==="g"?n.children:[n]}var PM={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),r=t?Nf(t.split(" ").map(s=>s.trim())):ES();return r.prefix||(r.prefix=Ga()),n.mask=r,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:r,main:s,mask:l,maskId:u,transform:m}=e;const{width:p,icon:y}=s,{width:_,icon:w}=l,T=Rk({transform:m,containerWidth:_,iconWidth:p}),N={tag:"rect",attributes:fe(fe({},ng),{},{fill:"white"})},C=y.children?{children:y.children.map(l2)}:{},B={tag:"g",attributes:fe({},T.inner),children:[l2(fe({tag:y.tag,attributes:fe(fe({},y.attributes),T.path)},C))]},L={tag:"g",attributes:fe({},T.outer),children:[B]},F="mask-".concat(u||uu()),V="clip-".concat(u||uu()),G={tag:"mask",attributes:fe(fe({},ng),{},{id:F,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[N,L]},Y={tag:"defs",children:[{tag:"clipPath",attributes:{id:V},children:MM(w)},G]};return t.push(Y,{tag:"rect",attributes:fe({fill:"currentColor","clip-path":"url(#".concat(V,")"),mask:"url(#".concat(F,")")},ng)}),{children:t,attributes:r}}}},LM={provides(n){let e=!1;Ha.matchMedia&&(e=Ha.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:fe(fe({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=fe(fe({},s),{},{attributeName:"opacity"}),u={tag:"circle",attributes:fe(fe({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:fe(fe({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:fe(fe({},l),{},{values:"1;0;1;1;0;1;"})}),t.push(u),t.push({tag:"path",attributes:fe(fe({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:fe(fe({},l),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:fe(fe({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:fe(fe({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},UM={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol"),r=t===null?!1:t===""?!0:t;return n.symbol=r,n}}}},VM=[Dk,TM,wM,AM,SM,jM,OM,kM,PM,LM,UM];Qk(VM,{mixoutsTo:Hn});Hn.noAuto;Hn.config;Hn.library;Hn.dom;const ey=Hn.parse;Hn.findIconDefinition;Hn.toHtml;const zM=Hn.icon;Hn.layer;Hn.text;Hn.counter;var ig={exports:{}},rg,c2;function FM(){if(c2)return rg;c2=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rg=n,rg}var ag,u2;function BM(){if(u2)return ag;u2=1;var n=FM();function e(){}function t(){}return t.resetWarningCache=e,ag=function(){function r(u,m,p,y,_,w){if(w!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function s(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},ag}var d2;function qM(){return d2||(d2=1,ig.exports=BM()()),ig.exports}var HM=qM();const ze=R2(HM);function h2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function zi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(t),!0).forEach(function(r){Wo(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h2(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gh(n){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(n)}function Wo(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GM(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,l;for(l=0;l<r.length;l++)s=r[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function $M(n,e){if(n==null)return{};var t=GM(n,e),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)r=l[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ty(n){return KM(n)||YM(n)||QM(n)||XM()}function KM(n){if(Array.isArray(n))return ny(n)}function YM(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function QM(n,e){if(n){if(typeof n=="string")return ny(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ny(n,e)}}function ny(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function XM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WM(n){var e,t=n.beat,r=n.fade,s=n.beatFade,l=n.bounce,u=n.shake,m=n.flash,p=n.spin,y=n.spinPulse,_=n.spinReverse,w=n.pulse,T=n.fixedWidth,N=n.inverse,C=n.border,B=n.listItem,L=n.flip,F=n.size,V=n.rotation,G=n.pull,Y=(e={"fa-beat":t,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":l,"fa-shake":u,"fa-flash":m,"fa-spin":p,"fa-spin-reverse":_,"fa-spin-pulse":y,"fa-pulse":w,"fa-fw":T,"fa-inverse":N,"fa-border":C,"fa-li":B,"fa-flip":L===!0,"fa-flip-horizontal":L==="horizontal"||L==="both","fa-flip-vertical":L==="vertical"||L==="both"},Wo(e,"fa-".concat(F),typeof F<"u"&&F!==null),Wo(e,"fa-rotate-".concat(V),typeof V<"u"&&V!==null&&V!==0),Wo(e,"fa-pull-".concat(G),typeof G<"u"&&G!==null),Wo(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(Y).map(function(P){return Y[P]?P:null}).filter(function(P){return P})}function ZM(n){return n=n-0,n===n}function NS(n){return ZM(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var JM=["style"];function eP(n){return n.charAt(0).toUpperCase()+n.slice(1)}function tP(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var r=t.indexOf(":"),s=NS(t.slice(0,r)),l=t.slice(r+1).trim();return s.startsWith("webkit")?e[eP(s)]=l:e[s]=l,e},{})}function RS(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(p){return RS(n,p)}),s=Object.keys(e.attributes||{}).reduce(function(p,y){var _=e.attributes[y];switch(y){case"class":p.attrs.className=_,delete e.attributes.class;break;case"style":p.attrs.style=tP(_);break;default:y.indexOf("aria-")===0||y.indexOf("data-")===0?p.attrs[y.toLowerCase()]=_:p.attrs[NS(y)]=_}return p},{attrs:{}}),l=t.style,u=l===void 0?{}:l,m=$M(t,JM);return s.attrs.style=zi(zi({},s.attrs.style),u),n.apply(void 0,[e.tag,zi(zi({},s.attrs),m)].concat(ty(r)))}var CS=!1;try{CS=!0}catch{}function nP(){if(!CS&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function f2(n){if(n&&Gh(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(ey.icon)return ey.icon(n);if(n===null)return null;if(n&&Gh(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function sg(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Wo({},n,e):{}}var m2={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},pe=Zo.forwardRef(function(n,e){var t=zi(zi({},m2),n),r=t.icon,s=t.mask,l=t.symbol,u=t.className,m=t.title,p=t.titleId,y=t.maskId,_=f2(r),w=sg("classes",[].concat(ty(WM(t)),ty((u||"").split(" ")))),T=sg("transform",typeof t.transform=="string"?ey.transform(t.transform):t.transform),N=sg("mask",f2(s)),C=zM(_,zi(zi(zi(zi({},w),T),N),{},{symbol:l,title:m,titleId:p,maskId:y}));if(!C)return nP("Could not find icon",_),null;var B=C.abstract,L={ref:e};return Object.keys(t).forEach(function(F){m2.hasOwnProperty(F)||(L[F]=t[F])}),iP(B[0],L)});pe.displayName="FontAwesomeIcon";pe.propTypes={beat:ze.bool,border:ze.bool,beatFade:ze.bool,bounce:ze.bool,className:ze.string,fade:ze.bool,flash:ze.bool,mask:ze.oneOfType([ze.object,ze.array,ze.string]),maskId:ze.string,fixedWidth:ze.bool,inverse:ze.bool,flip:ze.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ze.oneOfType([ze.object,ze.array,ze.string]),listItem:ze.bool,pull:ze.oneOf(["right","left"]),pulse:ze.bool,rotation:ze.oneOf([0,90,180,270]),shake:ze.bool,size:ze.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ze.bool,spinPulse:ze.bool,spinReverse:ze.bool,symbol:ze.oneOfType([ze.bool,ze.string]),title:ze.string,titleId:ze.string,transform:ze.oneOfType([ze.string,ze.object]),swapOpacity:ze.bool};var iP=RS.bind(null,Zo.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const rP={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},Rv=rP,IS={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2s0 0 0 0s0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.2-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9c0 0 0 0 0 0s0 0 0 0l-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},aP={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"]},sP={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},hu=sP,oP={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},DS=oP,jS={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192l42.7 0c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0L21.3 320C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7l42.7 0C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3l-213.3 0zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352l117.3 0C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7l-330.7 0c-14.7 0-26.7-11.9-26.7-26.7z"]},lP={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},Cf={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},li={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},cP={prefix:"fas",iconName:"user-group",icon:[640,512,[128101,"user-friends"],"f500","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM609.3 512l-137.8 0c5.4-9.4 8.6-20.3 8.6-32l0-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2l61.4 0C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"]},uP=cP,dP={prefix:"fas",iconName:"map-location-dot",icon:[576,512,["map-marked-alt"],"f5a0","M408 120c0 54.6-73.1 151.9-105.2 192c-7.7 9.6-22 9.6-29.6 0C241.1 271.9 168 174.6 168 120C168 53.7 221.7 0 288 0s120 53.7 120 120zm8 80.4c3.5-6.9 6.7-13.8 9.6-20.6c.5-1.2 1-2.5 1.5-3.7l116-46.4C558.9 123.4 576 135 576 152l0 270.8c0 9.8-6 18.6-15.1 22.3L416 503l0-302.6zM137.6 138.3c2.4 14.1 7.2 28.3 12.8 41.5c2.9 6.8 6.1 13.7 9.6 20.6l0 251.4L32.9 502.7C17.1 509 0 497.4 0 480.4L0 209.6c0-9.8 6-18.6 15.1-22.3l122.6-49zM327.8 332c13.9-17.4 35.7-45.7 56.2-77l0 249.3L192 449.4 192 255c20.5 31.3 42.3 59.6 56.2 77c20.5 25.6 59.1 25.6 79.6 0zM288 152a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},hP=dP,p2={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l96 0 32 0 208 0c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},fP={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Cv=fP,OS={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},mP={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},iy={prefix:"fas",iconName:"route",icon:[512,512,[],"f4d7","M512 96c0 50.2-59.1 125.1-84.6 155c-3.8 4.4-9.4 6.1-14.5 5L320 256c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c53 0 96 43 96 96s-43 96-96 96l-276.4 0c8.7-9.9 19.3-22.6 30-36.8c6.3-8.4 12.8-17.6 19-27.2L416 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0c-53 0-96-43-96-96s43-96 96-96l39.8 0c-21-31.5-39.8-67.7-39.8-96c0-53 43-96 96-96s96 43 96 96zM117.1 489.1c-3.8 4.3-7.2 8.1-10.1 11.3l-1.8 2-.2-.2c-6 4.6-14.6 4-20-1.8C59.8 473 0 402.5 0 352c0-53 43-96 96-96s96 43 96 96c0 30-21.1 67-43.5 97.9c-10.7 14.7-21.7 28-30.8 38.5l-.6 .7zM128 352a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM416 128a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},kS={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},MS={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"]},PS={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},pP={prefix:"fas",iconName:"ruler",icon:[512,512,[128207],"f545","M177.9 494.1c-18.7 18.7-49.1 18.7-67.9 0L17.9 401.9c-18.7-18.7-18.7-49.1 0-67.9l50.7-50.7 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 41.4-41.4 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 41.4-41.4 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 41.4-41.4 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 50.7-50.7c18.7-18.7 49.1-18.7 67.9 0l92.1 92.1c18.7 18.7 18.7 49.1 0 67.9L177.9 494.1z"]},LS={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},gP={prefix:"fas",iconName:"mountain",icon:[512,512,[127956],"f6fc","M256 32c12.5 0 24.1 6.4 30.8 17L503.4 394.4c5.6 8.9 8.6 19.2 8.6 29.7c0 30.9-25 55.9-55.9 55.9L55.9 480C25 480 0 455 0 424.1c0-10.5 3-20.8 8.6-29.7L225.2 49c6.6-10.6 18.3-17 30.8-17zm65 192L256 120.4 176.9 246.5l18.3 24.4c6.4 8.5 19.2 8.5 25.6 0l25.6-34.1c6-8.1 15.5-12.8 25.6-12.8l49 0z"]},yP={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},US=yP,vP={prefix:"fas",iconName:"calendar-check",icon:[448,512,[],"f274","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"]},If={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},_P={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2c0 0 0 0 0 0s0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336l0-35.4c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4l0 3.4 0 5.7 0 26.3zm32 0l0-32 0-25.9c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 44.2-86 80-192 80S0 476.2 0 432l0-35.4c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"]},EP={prefix:"fas",iconName:"person-hiking",icon:[384,512,["hiking"],"f6ec","M192 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm51.3 182.7L224.2 307l49.7 49.7c9 9 14.1 21.2 14.1 33.9l0 89.4c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-82.7-73.9-73.9c-15.8-15.8-22.2-38.6-16.9-60.3l20.4-84c8.3-34.1 42.7-54.9 76.7-46.4c19 4.8 35.6 16.4 46.4 32.7L305.1 208l30.9 0 0-24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 55.8c0 .1 0 .2 0 .2s0 .2 0 .2L384 488c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-216-39.4 0c-16 0-31-8-39.9-21.4l-13.3-20zM81.1 471.9L117.3 334c3 4.2 6.4 8.2 10.1 11.9l41.9 41.9L142.9 488.1c-4.5 17.1-22 27.3-39.1 22.8s-27.3-22-22.8-39.1zm55.5-346L101.4 266.5c-3 12.1-14.9 19.9-27.2 17.9l-47.9-8c-14-2.3-22.9-16.3-19.2-30L31.9 155c9.5-34.8 41.1-59 77.2-59l4.2 0c15.6 0 27.1 14.7 23.3 29.8z"]},Iv=EP,bP={prefix:"fas",iconName:"images",icon:[576,512,[],"f302","M160 32c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64l352 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L160 32zM396 138.7l96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320l-144 0-48 0-80 0c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84C360.5 132 368 128 376 128s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120L0 344c0 75.1 60.9 136 136 136l320 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-320 0c-48.6 0-88-39.4-88-88l0-224z"]},TP={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},Df=TP,wP={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Cu=wP,ry={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},AP={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},rl=AP,ay={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},SP={prefix:"fas",iconName:"clock-rotate-left",icon:[512,512,["history"],"f1da","M75 75L41 41C25.9 25.9 0 36.6 0 57.9L0 168c0 13.3 10.7 24 24 24l110.1 0c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1c0-13.3-10.7-24-24-24z"]},xP=SP,NP={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M96 32l0 32L48 64C21.5 64 0 85.5 0 112l0 48 448 0 0-48c0-26.5-21.5-48-48-48l-48 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32L160 64l0-32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192L0 192 0 464c0 26.5 21.5 48 48 48l352 0c26.5 0 48-21.5 48-48l0-272z"]},RP={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},CP={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},sy=CP;function St(){const{currentUser:n,logout:e}=gv(),[t,r]=k.useState(null),[s,l]=k.useState(Bh),[u,m]=k.useState(!1),p=sn(),[y,_]=k.useState(""),[w,T]=k.useState(!1),[N,C]=k.useState([]),[B,L]=k.useState(!1),F=k.useRef(null),[V,G]=k.useState(!1),[Y,P]=k.useState(""),[ie,j]=k.useState("info"),S=k.useRef(null);k.useEffect(()=>{(async()=>{if(n)try{const ne=jt(),U=await wn(st(ne,"users",n.uid));if(U.exists()){const Z=U.data();r(Z.role),Z.profilePic&&l(Z.profilePic)}else r(null)}catch(ne){console.error("Error fetching user data:",ne),r(null)}else r(null),l(Bh)})();const ue=ne=>{F.current&&!F.current.contains(ne.target)&&T(!1)};return document.addEventListener("mousedown",ue),()=>{document.removeEventListener("mousedown",ue)}},[n]),k.useEffect(()=>{const oe=setTimeout(()=>{y.length>=2?A():(C([]),T(!1))},300);return()=>clearTimeout(oe)},[y]);const A=async()=>{if(!(y.length<2)){L(!0);try{const oe=jt(),ue=y.toLowerCase(),ne=await qn(Xt(oe,"routes")),U=await qn(Xt(oe,"activities")),Z=ne.docs.filter(ge=>{var he;return(((he=ge.data().title)==null?void 0:he.toLowerCase())||"").includes(ue)}).map(ge=>({id:ge.id,type:"route",title:ge.data().title,data:ge.data()})),me=await Promise.all(U.docs.filter(ge=>{var he;return(((he=ge.data().title)==null?void 0:he.toLowerCase())||"").includes(ue)}).map(async ge=>{const ee=ge.data();let he={...ee,imageSrc:ee.imageSrc||"",guideName:ee.guideName||"",guideId:ee.guideId||""};if(ee.guideId&&!ee.guideName)try{console.log("Fetching guide data for activity:",ee.title);const Ae=await wn(ge(oe,"users",ee.guideId));if(Ae.exists()){const ve=Ae.data();he.guideName=ve.name||ve.displayName||"Guía",he.guideImage=ve.profilePic||"",console.log("Found guide data:",he.guideName)}else console.log("Guide not found for ID:",ee.guideId),he.guideName="Guía (no encontrado)"}catch(Ae){console.error("Error fetching guide data:",Ae),he.guideName="Guía"}return{id:ge.id,type:"activity",title:ee.title,data:he}})),de=[...Z,...me].sort((ge,ee)=>ge.title.localeCompare(ee.title)).slice(0,5);C(de),T(de.length>0)}catch(oe){console.error("Error performing search:",oe)}finally{L(!1)}}},I=oe=>{T(!1),_("");try{console.log("Navigating to search result:",oe),oe.type==="route"?p(`/route/${oe.id}`,{state:oe.data}):oe.type==="activity"&&p(`/activity/${oe.id}`,{state:oe.data})}catch(ue){console.error("Navigation error:",ue),z("Error al navegar a la página de detalles","error")}},O=async()=>{try{await e(),z("Sesión cerrada exitosamente","success")}catch(oe){console.error("Failed to log out",oe),z("No se pudo cerrar sesión","error")}},z=(oe,ue="info")=>{S.current&&clearTimeout(S.current),P(oe),j(ue),G(!0),S.current=setTimeout(()=>{G(!1)},3e3)},D=oe=>{oe.preventDefault(),m(!0)},Re=oe=>{oe.preventDefault(),p("/about-us")},_e=oe=>{oe.preventDefault(),z('Sección "Preguntas Frecuentes" en desarrollo',"info")},ce=()=>{m(!1)};return d.jsxs("header",{className:"landing-header",children:[d.jsx("div",{className:"landing-header-logo",children:d.jsx(Vt,{to:"/",children:d.jsx("img",{src:KA,alt:"UNIMET AvilaGo Logo"})})}),d.jsxs("div",{className:"header-search-container",ref:F,children:[d.jsxs("div",{className:"search-input-wrapper",children:[d.jsx(pe,{icon:Cu,className:"search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar rutas y actividades...",value:y,onChange:oe=>_(oe.target.value),onFocus:()=>{N.length>0&&T(!0)},className:"header-search-input"}),B&&d.jsx("div",{className:"search-spinner"})]}),w&&d.jsx("div",{className:"search-results-dropdown",children:N.length===0?d.jsx("div",{className:"no-results",children:"No se encontraron resultados"}):d.jsx(d.Fragment,{children:N.map(oe=>d.jsxs("div",{className:"search-result-item",onClick:()=>I(oe),children:[d.jsx("div",{className:"result-icon",children:d.jsx(pe,{icon:oe.type==="route"?iy:NP})}),d.jsxs("div",{className:"result-content",children:[d.jsx("div",{className:"result-title",children:oe.title}),d.jsx("div",{className:"result-type",children:oe.type==="route"?"Ruta":"Actividad"})]})]},`${oe.type}-${oe.id}`))})})]}),d.jsx("nav",{className:"landing-nav",children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx(Vt,{to:"/routes",children:"Rutas"})}),d.jsx("li",{children:d.jsx(Vt,{to:"/forum",children:"Foro"})}),d.jsx("li",{children:d.jsx(Vt,{to:"/gallery",children:"Galería"})}),n&&t==="estudiante"&&d.jsx("li",{children:d.jsx(Vt,{to:"/bookings",children:"Reservas"})}),n&&t==="guia"&&d.jsx("li",{children:d.jsx(Vt,{to:"/activitydashboard",children:"Mis Actividades"})}),n&&t==="admin"&&d.jsx("li",{children:d.jsx(Vt,{to:"/admin",children:"Admin Dashboard"})})]})}),d.jsxs("div",{className:"landing-nav-right",children:[d.jsx("a",{href:"#",onClick:D,children:"Contact us"}),d.jsx("a",{href:"#",onClick:Re,children:"About us"}),d.jsx("a",{href:"#",onClick:_e,children:"FAQ"}),d.jsx("div",{className:"auth-buttons",children:n?d.jsxs(d.Fragment,{children:[d.jsx(Vt,{to:"/profile",className:"profile-link",children:d.jsx("img",{src:s,alt:"Profile",className:"profile-pic"})}),d.jsx("button",{onClick:O,className:"auth-btn logout-btn",children:"Cerrar sesión"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Vt,{to:"/login",className:"auth-btn login-btn",children:"Iniciar sesión"}),d.jsx(Vt,{to:"/register",className:"auth-btn register-btn",children:"Registrarse"})]})})]}),u&&d.jsx("div",{className:"modal-overlay",onClick:ce,children:d.jsxs("div",{className:"contact-modal",onClick:oe=>oe.stopPropagation(),children:[d.jsx("button",{className:"modal-close-btn",onClick:ce,children:d.jsx(pe,{icon:rl})}),d.jsx("h2",{className:"modal-title",children:"Contact Us"}),d.jsxs("div",{className:"contact-info",children:[d.jsxs("div",{className:"contact-item",children:[d.jsx("div",{className:"contact-icon",children:d.jsx(pe,{icon:MS})}),d.jsxs("div",{className:"contact-text",children:[d.jsx("h3",{children:"Telefono"}),d.jsx("p",{children:"+58 212 555-1234"})]})]}),d.jsxs("div",{className:"contact-item",children:[d.jsx("div",{className:"contact-icon",children:d.jsx(pe,{icon:LS})}),d.jsxs("div",{className:"contact-text",children:[d.jsx("h3",{children:"Email"}),d.jsx("p",{children:"contact@avilaGo.com.ve"})]})]}),d.jsxs("div",{className:"contact-item",children:[d.jsx("div",{className:"contact-icon",children:d.jsx(pe,{icon:Df})}),d.jsxs("div",{className:"contact-text",children:[d.jsx("h3",{children:"Ubicacion"}),d.jsx("p",{children:"Univesidad Metropolitana"})]})]})]}),d.jsx("div",{className:"contact-map",children:d.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d125530.81098395086!2d-66.91600574179687!3d10.542914199999994!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8c2a57e0c309988b%3A0xcfbf3f9619f9cb68!2sEl%20%C3%81vila%20National%20Park!5e0!3m2!1sen!2sus!4v1711386621243!5m2!1sen!2sus",width:"100%",height:"300",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Avila National Park Location"})})]})}),V&&d.jsxs("div",{className:`toast-notification ${ie==="success"?"toast-success":ie==="error"?"toast-error":"toast-info"}`,children:[d.jsx("div",{className:"toast-icon",children:d.jsx(pe,{icon:ie==="success"?Cv:ie==="error"?hu:US})}),d.jsx("div",{className:"toast-message",children:Y})]})]})}function Wt(){const[n,e]=k.useState(!1),[t,r]=k.useState(""),[s,l]=k.useState(!1),[u,m]=k.useState(""),[p,y]=k.useState("success"),_=k.useRef(null),w=V=>{V.preventDefault(),e(!0)},T=()=>{e(!1)},N=V=>{r(V.target.value)},C=(V,G="success")=>{_.current&&clearTimeout(_.current),m(V),y(G),l(!0),_.current=setTimeout(()=>{l(!1)},3e3)},B=()=>{if(t.trim()===""){C("Por favor ingrese su comentario","error");return}console.log("Feedback submitted:",t),C("¡Gracias por su comentario!"),r("")},L=V=>{V.key==="Enter"&&B()},F=V=>{V.preventDefault(),C('Sección "Preguntas Frecuentes" en desarrollo',"info")};return d.jsxs("footer",{className:"landing-footer",children:[d.jsxs("div",{className:"footer-content",children:[d.jsxs("div",{className:"footer-links",children:[d.jsx("a",{href:"#",onClick:w,children:"Contact us"}),d.jsx("a",{href:"#",onClick:F,children:"FAQ"}),d.jsx(Vt,{to:"/aboutUs",children:"About us"})]}),d.jsxs("div",{className:"footer-developed",children:[d.jsx("p",{className:"developed-label",children:"Developed by:"}),d.jsxs("div",{className:"footer-developers",children:[d.jsx("div",{className:"developer-column",children:d.jsx("p",{children:"Victoria Knuth"})}),d.jsx("div",{className:"developer-column",children:d.jsx("p",{children:"Annabella Mendoza"})}),d.jsx("div",{className:"developer-column",children:d.jsx("p",{children:"Massimo Restuccia"})}),d.jsx("div",{className:"developer-column",children:d.jsx("p",{children:"Gustavo Velazquez"})})]})]}),d.jsxs("div",{className:"footer-feedback",children:[d.jsx("input",{type:"text",placeholder:"Feedback",value:t,onChange:N,onKeyPress:L}),d.jsx("button",{className:"feedback-button",onClick:B,"aria-label":"Send feedback",children:d.jsx(pe,{icon:mP})})]})]}),n&&d.jsx("div",{className:"modal-overlay",onClick:T,children:d.jsxs("div",{className:"contact-modal",onClick:V=>V.stopPropagation(),children:[d.jsx("button",{className:"modal-close-btn",onClick:T,children:d.jsx(pe,{icon:rl})}),d.jsx("h2",{className:"modal-title",children:"Contact Us"}),d.jsxs("div",{className:"contact-info",children:[d.jsxs("div",{className:"contact-item",children:[d.jsx(pe,{icon:MS,className:"contact-icon"}),d.jsxs("div",{className:"contact-text",children:[d.jsx("h3",{children:"Telefono"}),d.jsx("p",{children:"+58 212 555-1234"})]})]}),d.jsxs("div",{className:"contact-item",children:[d.jsx(pe,{icon:LS,className:"contact-icon"}),d.jsxs("div",{className:"contact-text",children:[d.jsx("h3",{children:"Email"}),d.jsx("p",{children:"mendozam@correo.unimet.edu.ve"})]})]}),d.jsxs("div",{className:"contact-item",children:[d.jsx(pe,{icon:Df,className:"contact-icon"}),d.jsxs("div",{className:"contact-text",children:[d.jsx("h3",{children:"Ubicacion"}),d.jsx("p",{children:"Univesidad Metropolitana"})]})]})]}),d.jsx("div",{className:"contact-map",children:d.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d125530.81098395086!2d-66.91600574179687!3d10.542914199999994!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8c2a57e0c309988b%3A0xcfbf3f9619f9cb68!2sEl%20%C3%81vila%20National%20Park!5e0!3m2!1sen!2sus!4v1711386621243!5m2!1sen!2sus",width:"100%",height:"300",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Ubicación del Parque Nacional El Ávila"})})]})}),s&&d.jsxs("div",{className:`toast-notification ${p==="success"?"toast-success":p==="error"?"toast-error":"toast-info"}`,children:[d.jsx("div",{className:"toast-icon",children:d.jsx(pe,{icon:p==="success"?Cv:p==="error"?hu:US})}),d.jsx("div",{className:"toast-message",children:u})]})]})}const IP="/AvilaGO-ASMS/assets/imagen-montana-NDF7oM0Z.png",DP="/AvilaGO-ASMS/assets/imagen-senalizacion-DkYnECyq.png";function jP(){return d.jsxs("div",{className:"landing-page",children:[d.jsx(St,{}),d.jsx("section",{className:"hero-section",children:d.jsxs("div",{className:"hero-content",children:[d.jsxs("div",{className:"hero-text",children:[d.jsx("p",{children:"En AvilaGo, conectamos a los estudiantes de la Universidad Metropolitana con la naturaleza a través de experiencias únicas en el Parque Nacional El Ávila. Nuestra plataforma te permite explorar rutas emocionantes, reservar actividades guiadas, y formar parte de una comunidad que ama el aire libre. Descubre todo lo que este increíble entorno tiene para ofrecer mientras fomentamos la conexión con la naturaleza y la preservación de nuestro entorno natural."}),d.jsx("div",{children:d.jsx("p",{children:"¡Comienza tu aventura hoy mismo!"})})]}),d.jsx("div",{className:"hero-logo",children:d.jsx("img",{src:KA,alt:"UNIMET AvilaGo Logo Grande"})})]})}),d.jsx("section",{className:"gallery-section",children:d.jsxs("div",{className:"section-content",children:[d.jsxs("div",{className:"section-text",children:[d.jsxs("h2",{children:["Galeria de",d.jsx("br",{}),"Fotos y Videos"]}),d.jsx("div",{className:"underline"}),d.jsx(Vt,{to:"/gallery",className:"btn-link",children:d.jsxs("button",{className:"ver-button",children:["Ver ",d.jsx("i",{className:"fa fa-arrow-right"})]})})]}),d.jsx("div",{className:"gallery-image",children:d.jsx("img",{src:IP,alt:"Vista del Ávila"})})]})}),d.jsx("section",{className:"routes-section",children:d.jsxs("div",{className:"section-content",children:[d.jsxs("div",{className:"section-text",children:[d.jsx("h2",{children:"Rutas"}),d.jsx("div",{className:"underline"}),d.jsx(Vt,{to:"/routes",className:"btn-link",children:d.jsxs("button",{className:"ver-button",children:["Ver ",d.jsx("i",{className:"fa fa-arrow-right"})]})})]}),d.jsx("div",{className:"routes-image",children:d.jsx("img",{src:DP,alt:"Señalización de rutas"})})]})}),d.jsx("section",{className:"info-forum-section",children:d.jsxs("div",{className:"dual-card-container",children:[d.jsxs("div",{className:"info-card forum-card",children:[d.jsx("h2",{children:"Foro"}),d.jsx("p",{children:"Abre discusiones y comparte ideas con otras personas de la comunidad!"}),d.jsxs(Vt,{to:"/forum",className:"btn-link",children:["Ir al foro ",d.jsx("i",{className:"fa fa-arrow-right"})]})]}),d.jsxs("div",{className:"info-card info-interest-card",children:[d.jsx("h2",{children:"Informacion de Interes"}),d.jsx("p",{children:"Informacion y consejos sobre la naturaleza y el excursionismo"}),d.jsxs(Vt,{to:"/info",className:"btn-link",children:["Ver mas ",d.jsx("i",{className:"fa fa-arrow-right"})]})]})]})}),d.jsx(Wt,{})]})}const OP=async(n,e)=>{try{const t=await jT(qa,n,e);return console.log("Usuario registrado:",t.user),t}catch(t){throw console.error("Error en el registro:",t.message),t}},kP=async(n,e)=>{try{const t=await KI(qa,n,e);return console.log("Usuario autenticado:",t.user),t}catch(t){throw console.error("Error en el inicio de sesión:",t.message),t}},MP="/AvilaGO-ASMS/assets/googleLogo-D-B-w2bM.png";function PP(){const[n,e]=k.useState({email:"",password:""}),[t,r]=k.useState(""),[s,l]=k.useState(!1),[u,m]=k.useState(!1),[p,y]=k.useState(null),_=sn(),w=jt(),T=L=>{e({...n,[L.target.name]:L.target.value})},N=async L=>{L.preventDefault();try{const F=await kP(n.email,n.password);console.log("Logged in user:",F.user),r(""),_("/")}catch(F){console.error("Error during login:",F),r("Correo o contraseña inválida, verifica los datos e intente de nuevo.")}},C=async()=>{try{const L=new Sr,F=await y3(qa,L);console.log("Google user:",F.user);const V=st(w,"users",F.user.uid);(await wn(V)).exists()?(r(""),_("/")):(y(F.user),m(!0))}catch(L){console.error("Error with Google sign in:",L),r("Error al iniciar sesión con Google.")}},B=async({name:L,role:F})=>{try{await fv(st(w,"users",p.uid),{name:L,email:p.email,uid:p.uid,role:F}),m(!1),r(""),_("/")}catch(V){console.error("Error saving Google profile:",V),r("Error al guardar el perfil de Google.")}};return d.jsxs("div",{className:"login-page",children:[d.jsx(St,{}),d.jsx("section",{className:"login-section",children:d.jsxs("div",{className:"login-container",children:[d.jsx("h2",{children:"Iniciar Sesión"}),d.jsxs("form",{onSubmit:N,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Correo Electrónico"}),d.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:T,placeholder:"ejemplo@mail.com",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Contraseña"}),d.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:T,placeholder:"********",required:!0})]}),t&&d.jsx("p",{className:"error-message",children:t}),d.jsx("button",{type:"submit",children:"Acceder"}),d.jsxs("button",{type:"button",onClick:C,className:"google-btn",children:[d.jsx("img",{src:MP,alt:"Google logo",className:"google-icon"}),"Iniciar sesión con Google"]}),d.jsx("p",{className:"link-text",style:{marginTop:"1rem"},children:d.jsx(Vt,{to:"/register",className:"full-link",children:"¿No tienes una cuenta? Regístrate aquí."})})]}),d.jsx("p",{className:"link-text",style:{marginTop:"1rem",textAlign:"center"},children:d.jsx("span",{onClick:()=>l(!0),style:{color:"#000",textDecoration:"underline",cursor:"pointer"},children:"¿Olvidaste tu contraseña?"})})]})}),s&&d.jsx(ForgotPasswordModal,{onClose:()=>l(!1)}),u&&d.jsx(GoogleProfileModal,{onClose:()=>m(!1),onSubmit:B,userEmail:p.email}),d.jsx(Wt,{})]})}function LP(){const n=sn(),[e,t]=k.useState(""),[r,s]=k.useState(!0),[l,u]=k.useState({name:"",email:"",password:""}),[m,p]=k.useState(""),[y,_]=k.useState(""),w=jt(),T=B=>{t(B),s(!1)},N=B=>{u({...l,[B.target.name]:B.target.value}),p(""),_("")},C=async B=>{if(B.preventDefault(),e==="estudiante"&&!l.email.includes("@correo.unimet.edu.ve")){p("El correo debe pertenecer a @correo.unimet.edu.ve para estudiantes.");return}try{const L=await OP(l.email,l.password);console.log("Usuario registrado exitosamente:",{role:e,...l}),await fv(st(w,"users",L.user.uid),{name:l.name,email:l.email,uid:L.user.uid,role:e}),_("Registrado exitosamente."),p(""),n("/")}catch(L){console.error("Error en el registro:",L.message),L.code==="auth/email-already-in-use"?p("El correo ingresado se encuentra en uso."):p("Error en el registro, por favor intente nuevamente."),_("")}};return d.jsxs("div",{className:"register-page",children:[d.jsx(St,{}),d.jsx("section",{className:"register-section",children:d.jsxs("div",{className:"register-container",children:[d.jsx("h2",{children:"Registro"}),e&&d.jsxs("p",{children:["Registrarse como: ",d.jsx("strong",{children:e})]}),d.jsxs("form",{onSubmit:C,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre Completo"}),d.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:N,placeholder:"Tu nombre",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Correo Electrónico"}),d.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:N,placeholder:"ejemplo@mail.com",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Contraseña"}),d.jsx("input",{type:"password",id:"password",name:"password",value:l.password,onChange:N,placeholder:"********",required:!0})]}),m&&d.jsx("p",{className:"error-message",children:m}),y&&d.jsx("p",{className:"success-message",children:y}),d.jsx("button",{type:"submit",children:"Registrarse"}),d.jsx("p",{className:"link-text",style:{marginTop:"1rem"},children:d.jsx(Vt,{to:"/login",className:"full-link",children:"¿Ya tienes una cuenta? Inicia sesión aquí."})})]})]})}),r&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal",children:[d.jsx("h2",{children:"Selecciona tu rol"}),d.jsx("p",{children:"¿Eres Guía o Estudiante?"}),d.jsxs("div",{className:"modal-buttons",children:[d.jsx("button",{onClick:()=>T("guia"),children:"Guía"}),d.jsx("button",{onClick:()=>T("estudiante"),children:"Estudiante"})]})]})}),d.jsx(Wt,{})]})}const UP=({id:n,title:e,imageSrc:t,onClick:r})=>{const s=sn(),l=()=>{r?r():(console.log("Navigating to route:",n),s(`/routes/${n}`))};return d.jsxs("div",{className:"route-card",onClick:l,children:[d.jsx("div",{className:"route-image-container",children:d.jsx("img",{src:t,alt:e,className:"route-image"})}),d.jsxs("div",{className:"route-info",children:[d.jsx("h3",{children:e}),d.jsx("div",{className:"route-button-container",children:d.jsxs("button",{className:"route-info-button",children:["Ver información y actividades",d.jsx("span",{className:"arrow-icon",children:"→"})]})})]})]})},VS="/AvilaGO-ASMS/assets/cruz-palmeros-Dr9vFRH4.png",oy="/AvilaGO-ASMS/assets/sabas-nieves-BVsWzei7.png",zS="/AvilaGO-ASMS/assets/humboldt-I4t7PfWm.png",FS="/AvilaGO-ASMS/assets/pico-naiguata-Dd2kulxa.png",BS="/AvilaGO-ASMS/assets/el-banquito-dKt9b_ci.png",VP="/AvilaGO-ASMS/assets/piedra-indio-Ddxts395.png",zP="/AvilaGO-ASMS/assets/pico-oriental-zjhuo5Sw.png",FP="/AvilaGO-ASMS/assets/antenas-avila-DAqyGFgW.png",g2={"Sabas Nieves":oy,Humboldt:zS,"Pico Naiguatá":FS,"Cruz de los Palmeros":VS,"El Banquito":BS,"Piedra del Indio":VP,"Pico Oriental":zP,"Antenas Avila":FP,default:oy},BP=()=>{const[n,e]=k.useState([]),[t,r]=k.useState(!0),[s,l]=k.useState(null),u=sn();return k.useEffect(()=>{(async()=>{try{const p=Xt(Ms,"routes"),y=await qn(p);if(y.empty)console.log("No routes found in Firestore"),e([]);else{const _=y.docs.map(w=>{const T=w.data(),N=T.title||"Unnamed Route",C=T.about||"",B=T.difficulty||"",L=T.distance||"",F=T.map||null,V=g2[N]||g2.default;return{id:w.id,title:N,about:C,difficulty:B,distance:L,map:F,imageSrc:V}});e(_)}}catch(p){console.error("Error fetching routes:",p),l("Failed to load routes. Please try again later.")}finally{r(!1)}})()},[]),d.jsxs("div",{className:"rutas-container",children:[d.jsx(St,{}),d.jsxs("main",{className:"main-content",children:[d.jsx("h1",{className:"routes-title",children:"Rutas Disponibles:"}),t?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando rutas..."})]}):s?d.jsxs("div",{className:"error-container",children:[d.jsx("p",{className:"error-message",children:s}),d.jsx("button",{onClick:()=>window.location.reload(),children:"Intentar nuevamente"})]}):n.length===0?d.jsx("div",{className:"no-routes-message",children:d.jsx("p",{children:"No hay rutas disponibles en este momento."})}):d.jsx("div",{className:"routes-grid",children:n.map(m=>d.jsx("div",{className:"route-card-container",children:d.jsx(UP,{title:m.title,imageSrc:m.imageSrc,onClick:()=>u("/rutasInfo",{state:m})})},m.id))})]}),d.jsx("div",{className:"mountain-footer"}),d.jsx(Wt,{})]})};/*!
 * react-paypal-js v8.8.2 (2025-02-06T19:12:00.138Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(n){n.INITIAL="initial",n.PENDING="pending",n.REJECTED="rejected",n.RESOLVED="resolved"})(Rn||(Rn={}));var Ma;(function(n){n.LOADING_STATUS="setLoadingStatus",n.RESET_OPTIONS="resetOptions",n.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Ma||(Ma={}));var y2;(function(n){n.NUMBER="number",n.CVV="cvv",n.EXPIRATION_DATE="expirationDate",n.EXPIRATION_MONTH="expirationMonth",n.EXPIRATION_YEAR="expirationYear",n.POSTAL_CODE="postalCode"})(y2||(y2={}));var It=function(){return It=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},It.apply(this,arguments)};function qS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function v2(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,l;r<s;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}var fu="data-react-paypal-script-id",Ls={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},qP="Failed to load the PayPal JS SDK script.",HS="paypal",HP="usePayPalScriptReducer must be used within a PayPalScriptProvider";function GP(n){return n===void 0&&(n=HS),window[n]}function $P(n){for(var e="",t=0;t<n.length;t++){var r=n[t].charCodeAt(0)*t;n[t+1]&&(r+=n[t+1].charCodeAt(0)*(t-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function KP(n){var e=n.reactComponentName,t=n.sdkComponentKey,r=n.sdkRequestedComponents,s=r===void 0?"":r,l=n.sdkDataNamespace,u=l===void 0?HS:l,m=t.charAt(0).toUpperCase().concat(t.substring(1)),p="Unable to render <".concat(e," /> because window.").concat(u,".").concat(m," is undefined."),y=typeof s=="string"?s:s.join(",");if(!y.includes(t)){var _=[y,t].filter(Boolean).join();p+=`
To fix the issue, add '`.concat(t,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(_,"'}}>`.")}return p}function GS(n){var e=n,t=fu;e[t];var r=qS(e,[t+""]);return"react-paypal-js-".concat($P(JSON.stringify(r)))}function YP(n){var e=self.document.querySelector("script[".concat(fu,'="').concat(n,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function QP(n,e){var t,r;switch(e.type){case Ma.LOADING_STATUS:return typeof e.value=="object"?It(It({},n),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):It(It({},n),{loadingStatus:e.value});case Ma.RESET_OPTIONS:return YP(n.options[fu]),It(It({},n),{loadingStatus:Rn.PENDING,options:It(It((t={},t[Ls.DATA_SDK_INTEGRATION_SOURCE]=Ls.DATA_LIBRARY_VALUE,t),e.value),(r={},r[fu]="".concat(GS(e.value)),r))});case Ma.SET_BRAINTREE_INSTANCE:return It(It({},n),{braintreePayPalCheckoutInstance:e.value});default:return n}}var $S=k.createContext(null);function XP(n){if(typeof(n==null?void 0:n.dispatch)=="function"&&n.dispatch.length!==0)return n;throw new Error(HP)}function WP(){var n=XP(k.useContext($S)),e=It(It({},n),{isInitial:n.loadingStatus===Rn.INITIAL,isPending:n.loadingStatus===Rn.PENDING,isResolved:n.loadingStatus===Rn.RESOLVED,isRejected:n.loadingStatus===Rn.REJECTED});return[e,n.dispatch]}k.createContext({});function ZP(n){var e=k.useRef(new Proxy({},{get:function(t,r,s){return typeof t[r]=="function"?function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return t[r].apply(t,l)}:Reflect.get(t,r,s)}}));return e.current=Object.assign(e.current,n),e.current}var Dv=function(n){var e,t=n.className,r=t===void 0?"":t,s=n.disabled,l=s===void 0?!1:s,u=n.children,m=n.forceReRender,p=m===void 0?[]:m,y=qS(n,["className","disabled","children","forceReRender"]),_=l?{opacity:.38}:{},w="".concat(r," ").concat(l?"paypal-buttons-disabled":"").trim(),T=k.useRef(null),N=k.useRef(null),C=ZP(y),B=WP()[0],L=B.isResolved,F=B.options,V=k.useState(null),G=V[0],Y=V[1],P=k.useState(!0),ie=P[0],j=P[1],S=k.useState(null),A=S[1];function I(){N.current!==null&&N.current.close().catch(function(){})}return!((e=N.current)===null||e===void 0)&&e.updateProps&&N.current.updateProps({message:y.message}),k.useEffect(function(){if(L===!1)return I;var O=GP(F.dataNamespace);if(O===void 0||O.Buttons===void 0)return A(function(){throw new Error(KP({reactComponentName:Dv.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:F.components,sdkDataNamespace:F[Ls.DATA_NAMESPACE]}))}),I;var z=function(D,Re){Y(Re),typeof y.onInit=="function"&&y.onInit(D,Re)};try{N.current=O.Buttons(It(It({},C),{onInit:z}))}catch(D){return A(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(D))})}return N.current.isEligible()===!1?(j(!1),I):(T.current&&N.current.render(T.current).catch(function(D){T.current===null||T.current.children.length===0||A(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(D))})}),I)},v2(v2([L],p,!0),[y.fundingSource],!1)),k.useEffect(function(){G!==null&&(l===!0?G.disable().catch(function(){}):G.enable().catch(function(){}))},[l,G]),Zo.createElement(Zo.Fragment,null,ie?Zo.createElement("div",{ref:T,style:_,className:w}):u)};Dv.displayName="PayPalButtons";function JP(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function e9(n,e){var t=document.querySelector('script[src="'.concat(n,'"]'));if(t===null)return null;var r=KS(n,e),s=t.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(r.dataset).length)return null;var l=!0;return Object.keys(s.dataset).forEach(function(u){s.dataset[u]!==r.dataset[u]&&(l=!1)}),l?t:null}function t9(n){var e=n.url,t=n.attributes,r=n.onSuccess,s=n.onError,l=KS(e,t);l.onerror=s,l.onload=r,document.head.insertBefore(l,document.head.firstElementChild)}function n9(n){var e=n.sdkBaseUrl,t=n.environment,r=JP(n,["sdkBaseUrl","environment"]),s=e||a9(t),l=r,u=Object.keys(l).filter(function(y){return typeof l[y]<"u"&&l[y]!==null&&l[y]!==""}).reduce(function(y,_){var w=l[_].toString();return _=i9(_),_.substring(0,4)==="data"||_==="crossorigin"?y.attributes[_]=w:y.queryParams[_]=w,y},{queryParams:{},attributes:{}}),m=u.queryParams,p=u.attributes;return m["merchant-id"]&&m["merchant-id"].indexOf(",")!==-1&&(p["data-merchant-id"]=m["merchant-id"],m["merchant-id"]="*"),{url:"".concat(s,"?").concat(r9(m)),attributes:p}}function i9(n){var e=function(t,r){return(r?"-":"")+t.toLowerCase()};return n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function r9(n){var e="";return Object.keys(n).forEach(function(t){e.length!==0&&(e+="&"),e+=t+"="+n[t]}),e}function a9(n){return n==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function KS(n,e){e===void 0&&(e={});var t=document.createElement("script");return t.src=n,Object.keys(e).forEach(function(r){t.setAttribute(r,e[r]),r==="data-csp-nonce"&&t.setAttribute("nonce",e["data-csp-nonce"])}),t}function s9(n,e){if(e===void 0&&(e=Promise),YS(n,e),typeof document>"u")return e.resolve(null);var t=n9(n),r=t.url,s=t.attributes,l=s["data-namespace"]||"paypal",u=_2(l);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),e9(r,s)&&u?e.resolve(u):o9({url:r,attributes:s},e).then(function(){var m=_2(l);if(m)return m;throw new Error("The window.".concat(l," global variable is not available."))})}function o9(n,e){e===void 0&&(e=Promise),YS(n,e);var t=n.url,r=n.attributes;if(typeof t!="string"||t.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(s,l){if(typeof document>"u")return s();t9({url:t,attributes:r,onSuccess:function(){return s()},onError:function(){var u=new Error('The script "'.concat(t,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return l(u)}})})}function _2(n){return window[n]}function YS(n,e){if(typeof n!="object"||n===null)throw new Error("Expected an options object.");var t=n.environment;if(t&&t!=="production"&&t!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var l9=function(n){var e,t=n.options,r=t===void 0?{clientId:"test"}:t,s=n.children,l=n.deferLoading,u=l===void 0?!1:l,m=k.useReducer(QP,{options:It(It({},r),(e={},e[Ls.DATA_JS_SDK_LIBRARY]=Ls.DATA_LIBRARY_VALUE,e[Ls.DATA_SDK_INTEGRATION_SOURCE]=Ls.DATA_LIBRARY_VALUE,e[fu]="".concat(GS(r)),e)),loadingStatus:u?Rn.INITIAL:Rn.PENDING}),p=m[0],y=m[1];return k.useEffect(function(){if(u===!1&&p.loadingStatus===Rn.INITIAL)return y({type:Ma.LOADING_STATUS,value:Rn.PENDING});if(p.loadingStatus===Rn.PENDING){var _=!0;return s9(p.options).then(function(){_&&y({type:Ma.LOADING_STATUS,value:Rn.RESOLVED})}).catch(function(w){console.error("".concat(qP," ").concat(w)),_&&y({type:Ma.LOADING_STATUS,value:{state:Rn.REJECTED,message:String(w)}})}),function(){_=!1}}},[p.options,u,p.loadingStatus]),Zo.createElement($S.Provider,{value:It(It({},p),{dispatch:y})},s)};function E2(){}k.createContext({cardFieldsForm:null,fields:{},registerField:E2,unregisterField:E2});const c9=()=>{const n=Wi(),e=sn(),[t,r]=k.useState(null),[s,l]=k.useState(!1),[u,m]=k.useState(!1),[p,y]=k.useState(null),[_,w]=k.useState(1),[T,N]=k.useState(null),[C,B]=k.useState(!0);k.useEffect(()=>{let Y=!0;return(async()=>{try{const ie=qa.currentUser;if(!ie){e("/login",{state:{message:"Por favor inicia sesión para realizar una reserva",redirect:n.pathname}});return}if(Y&&N(ie),n.state&&n.state.id)Y&&r(n.state);else{console.error("No activity data provided"),e("/routes");return}}catch(ie){console.error("Error in auth check:",ie),Y&&y("Error de autenticación. Por favor intenta nuevamente.")}finally{Y&&B(!1)}})(),()=>{Y=!1}},[n,e]);const L=()=>!t||!t.price?10:t.price*_,F=(Y,P)=>{const ie=L();console.log("Creating PayPal order with amount:",ie);try{return P.order.create({purchase_units:[{amount:{currency_code:"USD",value:ie.toFixed(2)}}]})}catch(j){return console.error("Error creating order:",j),y("Error al crear la orden de pago. Por favor, intenta de nuevo."),null}},V=async(Y,P)=>{m(!0);try{const ie=await P.order.capture();if(console.log("Payment captured:",ie),!T)throw new Error("Usuario no autenticado");const j={userId:T.uid,activityId:t.id,participants:_,bookingDate:cu(),paymentConfirmed:!0,paymentMethod:"PayPal",paymentAmount:L(),paymentDetails:{transactionId:ie.id,status:ie.status}},S=await lu(Xt(Ms,"bookings"),j);return console.log("Booking created with ID:",S.id),await new Promise(A=>setTimeout(A,5e3)),l(!0),m(!1),setTimeout(()=>{e("/bookings",{state:{paymentSuccess:!0}})},1e4),!0}catch(ie){return console.error("Error in payment process:",ie),y(ie.message||"Error al procesar la reserva"),m(!1),!1}},G=()=>{e(-1)};return C?d.jsxs("div",{className:"payment-page",children:[d.jsx(St,{}),d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando información de la actividad..."})]}),d.jsx(Wt,{})]}):!t&&!C?d.jsxs("div",{className:"payment-page",children:[d.jsx(St,{}),d.jsxs("div",{className:"payment-container",children:[d.jsx("h1",{children:"Error"}),d.jsxs("div",{className:"payment-error",children:[d.jsx(pe,{icon:hu}),d.jsx("p",{children:"No se pudo cargar la información de la actividad."}),d.jsx("button",{onClick:()=>e("/routes"),className:"retry-button",children:"Volver a las Rutas"})]})]}),d.jsx(Wt,{})]}):d.jsxs("div",{className:"payment-page",children:[d.jsx(St,{}),d.jsx("div",{className:"payment-container",children:s?d.jsxs("div",{className:"payment-success-container",children:[d.jsx("div",{className:"success-icon",children:d.jsx(pe,{icon:Cv})}),d.jsx("h2",{children:"¡Pago Exitoso!"}),d.jsx("p",{children:"Tu reserva ha sido confirmada."}),d.jsx("p",{className:"redirect-message",children:"Serás redirigido a tus reservaciones en unos segundos..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{children:"Reservar Actividad"}),d.jsxs("button",{className:"back-button",onClick:G,children:[d.jsx(pe,{icon:ay}),d.jsx("span",{children:"Volver"})]}),p&&d.jsxs("div",{className:"payment-error",children:[d.jsx(pe,{icon:hu}),d.jsx("p",{children:p}),d.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Intentar nuevamente"})]}),d.jsxs("div",{className:"payment-section",children:[d.jsx("h3",{children:"Selecciona tu método de pago"}),d.jsx("div",{className:"paypal-button-wrapper",children:u?d.jsxs("div",{className:"processing-payment",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Procesando pago..."})]}):d.jsxs("div",{className:"paypal-container",children:[d.jsx(l9,{options:{"client-id":"test",currency:"USD",intent:"capture",commit:!0,"disable-funding":"venmo,credit,card"},children:d.jsx(Dv,{createOrder:F,onApprove:V,onError:Y=>{console.error("PayPal error:",Y),y("Error con PayPal. Por favor intenta nuevamente.")},style:{layout:"vertical",color:"gold",shape:"rect",label:"pay"}})}),d.jsxs("div",{className:"mock-payment-section",children:[d.jsx("p",{className:"mock-payment-notice",children:"Si PayPal no carga correctamente, puedes usar nuestra opción de prueba:"}),d.jsx("button",{className:"mock-payment-button",onClick:async()=>{try{if(m(!0),await new Promise(ie=>setTimeout(ie,2e3)),!T)throw new Error("Usuario no autenticado");const Y={userId:T.uid,activityId:t.id,activityName:t.title,participants:_,createdAt:cu(),paymentStatus:"completed",price:L()},P=await lu(Xt(Ms,"reservations"),Y);console.log("Test reservation created with ID:",P.id),l(!0),setTimeout(()=>{e("/bookings",{state:{paymentSuccess:!0}})},5e3)}catch(Y){console.error("Error creating test booking:",Y),y(Y.message||"Error al procesar la reserva de prueba")}finally{m(!1)}},children:"Realizar Pago de Prueba"})]})]})}),d.jsxs("div",{className:"payment-info",children:[d.jsx("p",{children:"Al proceder con el pago, aceptas los términos y condiciones de la actividad."}),d.jsx("p",{children:"Las cancelaciones deben realizarse con al menos 24 horas de anticipación."})]})]})]})}),d.jsx(Wt,{})]})},u9=()=>{const n=[{src:oy,alt:"Sabas Nieves"},{src:zS,alt:"Humboldt"},{src:VS,alt:"Cruz de los Palmeros"},{src:FS,alt:"Pico Naiguata"},{src:BS,alt:"El Banquito"}],[e,t]=k.useState(0),[r,s]=k.useState(null),l=3,u=Math.ceil(n.length/l),m=()=>{t(T=>T===0?u-1:T-1)},p=()=>{t(T=>T===u-1?0:T+1)},y=()=>{const T=e*l%n.length,N=[];for(let C=0;C<l;C++){const B=(T+C)%n.length;N.push(n[B])}return N},_=T=>{s(T)},w=()=>{s(null)};return d.jsxs("div",{className:"gallery-container",children:[d.jsx(St,{}),d.jsxs("div",{className:"gallery-content",children:[d.jsx("h1",{className:"gallery-title",children:"Galería de Imágenes"}),d.jsx("div",{className:"add-button-container",children:d.jsxs("button",{className:"add-button",children:["Añadir ",d.jsx("span",{className:"plus-icon",children:"+"})]})}),d.jsxs("div",{className:"gallery-carousel",children:[d.jsx("div",{className:"carousel-items",children:y().map((T,N)=>d.jsx("div",{className:"gallery-item",onClick:()=>_(T),children:d.jsx("img",{src:T.src,alt:T.alt,className:"gallery-image"})},N))}),d.jsx("button",{className:"nav-arrow nav-arrow-left",onClick:m,children:d.jsx("span",{children:"<"})}),d.jsx("button",{className:"nav-arrow nav-arrow-right",onClick:p,children:d.jsx("span",{children:">"})}),d.jsx("div",{className:"carousel-dots",children:[...Array(u)].map((T,N)=>d.jsx("span",{className:`carousel-dot ${N===e?"active":""}`,onClick:()=>t(N)},N))})]}),d.jsx("div",{className:`image-modal-overlay ${r?"active":""}`,onClick:w,children:d.jsx("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:r&&d.jsxs(d.Fragment,{children:[d.jsx("img",{src:r.src,alt:r.alt,className:"modal-image"}),d.jsx("button",{className:"modal-close",onClick:w,children:"×"}),d.jsx("div",{className:"modal-caption",children:r.alt})]})})})]}),d.jsx(Wt,{})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firebasestorage.googleapis.com",XS="storageBucket",d9=2*60*1e3,h9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends hi{constructor(e,t,r=0){super(og(e),`Firebase Storage: ${t} (${og(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function og(n){return"storage/"+n}function jv(){const n="An unknown error occurred, please check the error payload for server response.";return new Et(_t.UNKNOWN,n)}function f9(n){return new Et(_t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function m9(n){return new Et(_t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(_t.UNAUTHENTICATED,n)}function g9(){return new Et(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function y9(n){return new Et(_t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function v9(){return new Et(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _9(){return new Et(_t.CANCELED,"User canceled the upload/download.")}function E9(n){return new Et(_t.INVALID_URL,"Invalid URL '"+n+"'.")}function b9(n){return new Et(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function T9(){return new Et(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XS+"' property when initializing the app?")}function w9(){return new Et(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function A9(){return new Et(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function S9(n){return new Et(_t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ly(n){return new Et(_t.INVALID_ARGUMENT,n)}function WS(){return new Et(_t.APP_DELETED,"The Firebase app was deleted.")}function x9(n){return new Et(_t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yc(n,e){return new Et(_t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function jc(n){throw new Et(_t.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Fn.makeFromUrl(e,t)}catch{return new Fn(e,"")}if(r.path==="")return r;throw b9(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function l(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+s+u,"i"),p={bucket:1,path:3};function y(Y){Y.path_=decodeURIComponent(Y.path)}const _="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",N=new RegExp(`^https?://${w}/${_}/b/${s}/o${T}`,"i"),C={bucket:1,path:3},B=t===QS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",F=new RegExp(`^https?://${B}/${s}/${L}`,"i"),G=[{regex:m,indices:p,postModify:l},{regex:N,indices:C,postModify:y},{regex:F,indices:{bucket:1,path:2},postModify:y}];for(let Y=0;Y<G.length;Y++){const P=G[Y],ie=P.regex.exec(e);if(ie){const j=ie[P.indices.bucket];let S=ie[P.indices.path];S||(S=""),r=new Fn(j,S),P.postModify(r);break}}if(r==null)throw E9(e);return r}}class N9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(n,e,t){let r=1,s=null,l=null,u=!1,m=0;function p(){return m===2}let y=!1;function _(...L){y||(y=!0,e.apply(null,L))}function w(L){s=setTimeout(()=>{s=null,n(N,p())},L)}function T(){l&&clearTimeout(l)}function N(L,...F){if(y){T();return}if(L){T(),_.call(null,L,...F);return}if(p()||u){T(),_.call(null,L,...F);return}r<64&&(r*=2);let G;m===1?(m=2,G=0):G=(r+Math.random())*1e3,w(G)}let C=!1;function B(L){C||(C=!0,T(),!y&&(s!==null?(L||(m=2),clearTimeout(s),w(0)):L||(m=1)))}return w(0),l=setTimeout(()=>{u=!0,B(!0)},t),B}function C9(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(n){return n!==void 0}function D9(n){return typeof n=="object"&&!Array.isArray(n)}function Ov(n){return typeof n=="string"||n instanceof String}function b2(n){return kv()&&n instanceof Blob}function kv(){return typeof Blob<"u"}function T2(n,e,t,r){if(r<e)throw ly(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ly(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function ZS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Us;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Us||(Us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,t,r,s,l,u,m,p,y,_,w,T=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=w,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,C)=>{this.resolve_=N,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new sh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===Us.NO_ERROR,p=l.getStatus();if(!m||j9(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===Us.ABORT;r(!1,new sh(!1,null,_));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new sh(y,l))})},t=(r,s)=>{const l=this.resolve_,u=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());I9(p)?l(p):l()}catch(p){u(p)}else if(m!==null){const p=jv();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(s.canceled){const p=this.appDelete_?WS():_9();u(p)}else{const p=v9();u(p)}};this.canceled_?t(!1,new sh(!1,null,!0)):this.backoffId_=R9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&C9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function k9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function M9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function L9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function U9(n,e,t,r,s,l,u=!0){const m=ZS(n.urlParams),p=n.url+m,y=Object.assign({},n.headers);return P9(y,e),k9(y,t),M9(y,l),L9(y,r),new O9(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function z9(...n){const e=V9();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(kv())return new Blob(n);throw new Et(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function F9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n){if(typeof atob>"u")throw S9("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lg{constructor(e,t){this.data=e,this.contentType=t||null}}function q9(n,e){switch(n){case qi.RAW:return new lg(JS(e));case qi.BASE64:case qi.BASE64URL:return new lg(ex(n,e));case qi.DATA_URL:return new lg(G9(e),$9(e))}throw jv()}function JS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,u=n.charCodeAt(++t);r=65536|(l&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function H9(n){let e;try{e=decodeURIComponent(n)}catch{throw Yc(qi.DATA_URL,"Malformed data URL.")}return JS(e)}function ex(n,e){switch(n){case qi.BASE64:{const s=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(s||l)throw Yc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const s=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(s||l)throw Yc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=B9(e)}catch(s){throw s.message.includes("polyfill")?s:Yc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class tx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Yc(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=K9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function G9(n){const e=new tx(n);return e.base64?ex(qi.BASE64,e.rest):H9(e.rest)}function $9(n){return new tx(n).contentType}function K9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t){let r=0,s="";b2(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(b2(this.data_)){const r=this.data_,s=F9(r,e,t);return s===null?null:new Ra(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ra(r,!0)}}static getBlob(...e){if(kv()){const t=e.map(r=>r instanceof Ra?r.data_:r);return new Ra(z9.apply(null,t))}else{const t=e.map(u=>Ov(u)?q9(qi.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let l=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)s[l++]=u[m]}),new Ra(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n){let e;try{e=JSON.parse(n)}catch{return null}return D9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Q9(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function ix(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(n,e){return e}class bn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||X9}}let oh=null;function W9(n){return!Ov(n)||n.length<2?n:ix(n)}function rx(){if(oh)return oh;const n=[];n.push(new bn("bucket")),n.push(new bn("generation")),n.push(new bn("metageneration")),n.push(new bn("name","fullPath",!0));function e(l,u){return W9(u)}const t=new bn("name");t.xform=e,n.push(t);function r(l,u){return u!==void 0?Number(u):u}const s=new bn("size");return s.xform=r,n.push(s),n.push(new bn("timeCreated")),n.push(new bn("updated")),n.push(new bn("md5Hash",null,!0)),n.push(new bn("cacheControl",null,!0)),n.push(new bn("contentDisposition",null,!0)),n.push(new bn("contentEncoding",null,!0)),n.push(new bn("contentLanguage",null,!0)),n.push(new bn("contentType",null,!0)),n.push(new bn("metadata","customMetadata",!0)),oh=n,oh}function Z9(n,e){function t(){const r=n.bucket,s=n.fullPath,l=new Fn(r,s);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function J9(n,e,t){const r={};r.type="file";const s=t.length;for(let l=0;l<s;l++){const u=t[l];r[u.local]=u.xform(r,e[u.server])}return Z9(r,n),r}function ax(n,e,t){const r=nx(e);return r===null?null:J9(n,r,t)}function e8(n,e,t,r){const s=nx(e);if(s===null||!Ov(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(y=>{const _=n.bucket,w=n.fullPath,T="/b/"+u(_)+"/o/"+u(w),N=Mv(T,t,r),C=ZS({alt:"media",token:y});return N+C})[0]}function t8(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const l=e[s];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class sx{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(n){if(!n)throw jv()}function n8(n,e){function t(r,s){const l=ax(n,s,e);return ox(l!==null),l}return t}function i8(n,e){function t(r,s){const l=ax(n,s,e);return ox(l!==null),e8(l,s,n.host,n._protocol)}return t}function lx(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=g9():s=p9():t.getStatus()===402?s=m9(n.bucket):t.getStatus()===403?s=y9(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function r8(n){const e=lx(n);function t(r,s){let l=e(r,s);return r.getStatus()===404&&(l=f9(n.path)),l.serverResponse=s.serverResponse,l}return t}function a8(n,e,t){const r=e.fullServerUrl(),s=Mv(r,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,m=new sx(s,l,i8(n,t),u);return m.errorHandler=r8(e),m}function s8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function o8(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=s8(null,e)),r}function l8(n,e,t,r,s){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let G="";for(let Y=0;Y<2;Y++)G=G+Math.random().toString().slice(2);return G}const p=m();u["Content-Type"]="multipart/related; boundary="+p;const y=o8(e,r,s),_=t8(y,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,T=`\r
--`+p+"--",N=Ra.getBlob(w,r,T);if(N===null)throw w9();const C={name:y.fullPath},B=Mv(l,n.host,n._protocol),L="POST",F=n.maxUploadRetryTime,V=new sx(B,L,n8(n,t),F);return V.urlParams=C,V.headers=u,V.body=N.uploadData(),V.errorHandler=lx(e),V}class c8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw jc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class u8 extends c8{initXhr(){this.xhr_.responseType="text"}}function cx(){return new u8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this._service=e,t instanceof Fn?this._location=t:this._location=Fn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ys(e,t)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ix(this._location.path)}get storage(){return this._service}get parent(){const e=Y9(this._location.path);if(e===null)return null;const t=new Fn(this._location.bucket,e);return new Ys(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw x9(e)}}function d8(n,e,t){n._throwIfRoot("uploadBytes");const r=l8(n.storage,n._location,rx(),new Ra(e,!0),t);return n.storage.makeRequestWithTokens(r,cx).then(s=>({metadata:s,ref:n}))}function h8(n){n._throwIfRoot("getDownloadURL");const e=a8(n.storage,n._location,rx());return n.storage.makeRequestWithTokens(e,cx).then(t=>{if(t===null)throw A9();return t})}function f8(n,e){const t=Q9(n._location.path,e),r=new Fn(n._location.bucket,t);return new Ys(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(n){return/^[A-Za-z]+:\/\//.test(n)}function p8(n,e){return new Ys(n,e)}function ux(n,e){if(n instanceof Pv){const t=n;if(t._bucket==null)throw T9();const r=new Ys(t,t._bucket);return e!=null?ux(r,e):r}else return e!==void 0?f8(n,e):n}function g8(n,e){if(e&&m8(e)){if(n instanceof Pv)return p8(n,e);throw ly("To use ref(service, url), the first argument must be a Storage instance.")}else return ux(n,e)}function w2(n,e){const t=e==null?void 0:e[XS];return t==null?null:Fn.makeFromBucketSpec(t,n)}function y8(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:J2(s,n.app.options.projectId))}class Pv{constructor(e,t,r,s,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=l,this._bucket=null,this._host=QS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d9,this._maxUploadRetryTime=h9,this._requests=new Set,s!=null?this._bucket=Fn.makeFromBucketSpec(s,this._host):this._bucket=w2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=w2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ys(this,e)}_makeRequest(e,t,r,s,l=!0){if(this._deleted)return new N9(WS());{const u=U9(e,this._appId,r,s,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const A2="@firebase/storage",S2="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="storage";function v8(n,e,t){return n=ct(n),d8(n,e,t)}function _8(n){return n=ct(n),h8(n)}function E8(n,e){return n=ct(n),g8(n,e)}function b8(n=Wh(),e){n=ct(n);const r=Ka(n,dx).getImmediate({identifier:e}),s=X2("storage");return s&&T8(r,...s),r}function T8(n,e,t,r={}){y8(n,e,t,r)}function w8(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Pv(t,r,s,e,Xs)}function A8(){Ei(new ui(dx,w8,"PUBLIC").setMultipleInstances(!0)),Dn(A2,S2,""),Dn(A2,S2,"esm2017")}A8();const S8=()=>{const n=sn(),{currentUser:e}=gv(),[t,r]=k.useState(!0),[s,l]=k.useState(null),[u,m]=k.useState(null),[p,y]=k.useState(!1),[_,w]=k.useState(null),[T,N]=k.useState({notifications:!0,newsletterSubscription:!0,activitySharing:!1,language:"Spanish"});k.useEffect(()=>{(async()=>{if(!e){r(!1),l("No user logged in");return}try{r(!0);const P=jt(),ie=st(P,"users",e.uid),j=await wn(ie);if(j.exists()){const S=j.data();m({id:e.uid,name:S.displayName||e.displayName||"User",email:e.email,phone:S.phone||"",joined:S.createdAt?new Date(S.createdAt).toLocaleDateString():"Member",profileImage:S.profilePic||e.photoURL||Bh,role:S.role||"user"}),w({id:e.uid,name:S.displayName||e.displayName||"User",email:e.email,phone:S.phone||"",joined:S.createdAt?new Date(S.createdAt).toLocaleDateString():"Member",profileImage:S.profilePic||e.photoURL||Bh,role:S.role||"user"}),S.settings&&N(S.settings)}else l("User data not found");r(!1)}catch(P){console.error("Error fetching user data:",P),l("Failed to fetch user data"),r(!1)}})()},[e]);const C=Y=>{const{name:P,value:ie}=Y.target;w(j=>({...j,[P]:ie}))},B=Y=>{N(P=>({...P,[Y]:!P[Y]}))},L=Y=>{N(P=>({...P,language:Y.target.value}))},F=async()=>{if(e)try{r(!0);const Y=jt(),P=st(Y,"users",e.uid);await ou(P,{displayName:_.name,phone:_.phone,settings:T}),_.profileImage!==u.profileImage&&_.profileImage.startsWith("data:")&&await V(_.profileImage),m({..._}),y(!1),r(!1)}catch(Y){console.error("Error updating profile:",Y),l("Failed to update profile"),r(!1)}},V=async Y=>{if(!e)return null;try{const ie=await(await fetch(Y)).blob(),j=b8(),S=E8(j,`profileImages/${e.uid}`);await v8(S,ie);const A=await _8(S),I=jt(),O=st(I,"users",e.uid);return await ou(O,{profilePic:A}),A}catch(P){return console.error("Error uploading profile image:",P),null}},G=Y=>{if(Y.target.files&&Y.target.files[0]){const P=new FileReader;P.onload=ie=>{w(j=>({...j,profileImage:ie.target.result}))},P.readAsDataURL(Y.target.files[0])}};return t?d.jsxs("div",{className:"profile-page",children:[d.jsx(St,{}),d.jsx("div",{className:"profile-content",children:d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando perfil..."})]})}),d.jsx(Wt,{})]}):s||!e?d.jsxs("div",{className:"profile-page",children:[d.jsx(St,{}),d.jsx("div",{className:"profile-content",children:d.jsxs("div",{className:"error-container",children:[d.jsx("h2",{children:"Oops! No se pudo cargar la información del perfil"}),d.jsx("p",{children:s||"Debes iniciar sesión para ver tu perfil"}),d.jsx("button",{className:"login-button",onClick:()=>n("/login"),children:"Iniciar sesión"})]})}),d.jsx(Wt,{})]}):d.jsxs("div",{className:"profile-page",children:[d.jsx(St,{}),d.jsxs("div",{className:"profile-content",children:[d.jsxs("div",{className:"profile-header",children:[d.jsxs("div",{className:"profile-title-section",children:[d.jsx("h1",{children:"Mi Perfil"}),d.jsx("p",{className:"user-status",children:u.role==="guia"?"Guía":u.role==="admin"?"Administrador":"Usuario"})]}),d.jsx("button",{className:"edit-button",onClick:()=>{p?F():(w({...u}),y(!0))},children:p?"Guardar":"Editar Perfil"})]}),d.jsxs("div",{className:"profile-container",children:[d.jsxs("div",{className:"profile-section user-info-section",children:[d.jsxs("div",{className:"profile-image-container",children:[d.jsx("img",{src:p?_.profileImage:u.profileImage,alt:"Profile",className:"profile-image"}),p&&d.jsx("div",{className:"image-upload-overlay",children:d.jsxs("label",{htmlFor:"image-upload",className:"upload-label",children:["Cambiar imagen",d.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:G,className:"image-upload-input"})]})})]}),d.jsx("div",{className:"user-details",children:p?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Nombre"}),d.jsx("input",{type:"text",name:"name",value:_.name,onChange:C})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Email"}),d.jsx("input",{type:"email",name:"email",value:_.email,disabled:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Teléfono"}),d.jsx("input",{type:"tel",name:"phone",value:_.phone,onChange:C})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Rol"}),d.jsx("input",{type:"text",value:u.role==="guia"?"Guía":u.role==="admin"?"Administrador":"Usuario",disabled:!0})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"user-name",children:u.name}),d.jsx("p",{className:"user-email",children:u.email}),d.jsx("p",{className:"user-phone",children:u.phone||"No phone number added"}),d.jsxs("p",{className:"user-role",children:[d.jsx("span",{className:"role-label",children:"Rol: "}),d.jsx("span",{className:`role-value role-${u.role}`,children:u.role==="guia"?"Guía":u.role==="admin"?"Administrador":u.role==="estudiante"?"Estudiante":"Usuario"})]})]})})]}),d.jsxs("div",{className:"profile-section",children:[d.jsx("h3",{className:"section-title",children:"Configuración"}),d.jsxs("div",{className:"settings-list",children:[d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("h4",{children:"Notificaciones"}),d.jsx("p",{children:"Recibir notificaciones sobre eventos y actualizaciones"})]}),d.jsxs("div",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",id:"notifications",checked:T.notifications,onChange:()=>B("notifications")}),d.jsx("label",{htmlFor:"notifications"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("h4",{children:"Boletín Informativo"}),d.jsx("p",{children:"Suscripción al boletín mensual"})]}),d.jsxs("div",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",id:"newsletter",checked:T.newsletterSubscription,onChange:()=>B("newsletterSubscription")}),d.jsx("label",{htmlFor:"newsletter"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("h4",{children:"Compartir Actividades"}),d.jsx("p",{children:"Permitir que otros usuarios vean tus actividades"})]}),d.jsxs("div",{className:"toggle-switch",children:[d.jsx("input",{type:"checkbox",id:"sharing",checked:T.activitySharing,onChange:()=>B("activitySharing")}),d.jsx("label",{htmlFor:"sharing"})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("h4",{children:"Idioma"}),d.jsx("p",{children:"Selecciona tu idioma preferido"})]}),d.jsxs("select",{value:T.language,onChange:L,className:"language-select",children:[d.jsx("option",{value:"Spanish",children:"Español"}),d.jsx("option",{value:"English",children:"Inglés"})]})]})]})]})]})]}),d.jsx(Wt,{})]})},x8=()=>{const n=Wi(),e=sn(),[t,r]=k.useState(!1),[s,l]=k.useState(null),u=k.useRef(null),m={lat:10.5347,lng:-66.8864},p=n.state||{id:1,title:"Ruta Desconocida",about:"Información no disponible.",difficulty:"N/A",distance:"N/A",coordinates:m,imageSrc:""},y=()=>{if(p.coordinates&&typeof p.coordinates=="object"&&"lat"in p.coordinates&&"lng"in p.coordinates)return p.coordinates;if(typeof p.coordinates=="string"){const T=p.coordinates.split(",");if(T.length===2){const N=parseFloat(T[0]),C=parseFloat(T[1]);if(!isNaN(N)&&!isNaN(C))return{lat:N,lng:C}}}if(p.map&&typeof p.map=="string"){const T=p.map.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(T&&T.length===3){const N=parseFloat(T[1]),C=parseFloat(T[2]);if(!isNaN(N)&&!isNaN(C))return{lat:N,lng:C}}}return m};k.useEffect(()=>{if(u.current)try{const T=y();console.log("Using coordinates for map:",T);const N=document.createElement("iframe");N.style.width="100%",N.style.height="100%",N.style.border="none",N.title=`Mapa de ${p.title}`;const C=T.lat,B=T.lng;for(N.src=`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3923!2d${B}!3d${C}!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zM!5e0!3m2!1sen!2sus!4v1!5m2!1sen!2sus`,N.onload=()=>{console.log("Map iframe loaded successfully"),r(!0)},N.onerror=L=>{console.error("Error loading map iframe:",L),l("Error al cargar el mapa. Por favor, inténtalo de nuevo."),_(C,B)};u.current.firstChild;)u.current.removeChild(u.current.firstChild);u.current.appendChild(N)}catch(T){console.error("Error setting up map:",T),l("Error al configurar el mapa: "+T.message);const N=y();_(N.lat,N.lng)}},[p.title]);const _=(T,N)=>{if(u.current)try{const C=document.createElement("div");for(C.className="fallback-map-container",C.innerHTML=`
        <p>El mapa interactivo no pudo cargarse.</p>
        <a href="https://www.google.com/maps?q=${T},${N}" target="_blank" rel="noopener noreferrer" class="view-on-maps-button">
          Ver ubicación en Google Maps
        </a>
        <div class="coordinates-display">
          <p>Coordenadas: ${T}, ${N}</p>
        </div>
      `;u.current.firstChild;)u.current.removeChild(u.current.firstChild);u.current.appendChild(C),r(!0),l(null)}catch(C){console.error("Error setting up fallback map:",C),l("No se pudo mostrar la ubicación en el mapa.")}},w=T=>{if(!T)return"";const N=T.toLowerCase();return N==="fácil"||N==="facil"||N==="easy"?"easy":N==="moderada"||N==="medium"||N==="media"?"moderate":N==="difícil"||N==="dificil"||N==="hard"?"difficult":""};return d.jsxs("div",{className:"trail-detail-page",children:[d.jsx(St,{}),d.jsxs("div",{className:"trail-detail-container",children:[d.jsx("h1",{className:"trail-title",children:p.title}),d.jsx("div",{className:"trail-images-container",children:p.imageSrc&&d.jsx("div",{className:"trail-image-wrapper",children:d.jsx("img",{src:p.imageSrc,alt:`Vista de ${p.title}`,className:"trail-image"})})}),d.jsxs("div",{className:"trail-info-section",children:[d.jsxs("div",{className:"trail-stats",children:[d.jsxs("div",{className:"stat-item",children:[d.jsx("div",{className:"stat-icon",children:d.jsx(pe,{icon:Iv})}),d.jsxs("div",{className:"stat-content",children:[d.jsx("h3",{className:"stat-title",children:"Dificultad"}),d.jsx("p",{className:`stat-value ${w(p.difficulty)}`,children:p.difficulty||"No especificada"})]})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("div",{className:"stat-icon",children:d.jsx(pe,{icon:pP})}),d.jsxs("div",{className:"stat-content",children:[d.jsx("h3",{className:"stat-title",children:"Distancia"}),d.jsx("p",{className:"stat-value",children:p.distance||"No especificada"})]})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("div",{className:"stat-icon",children:d.jsx(pe,{icon:Df})}),d.jsxs("div",{className:"stat-content",children:[d.jsx("h3",{className:"stat-title",children:"Ubicación"}),d.jsx("p",{className:"stat-value",children:"Parque Nacional El Ávila"})]})]})]}),d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"description-section",children:[d.jsx("h3",{className:"section-title",children:"Descripción"}),d.jsx("p",{children:p.about||"No hay descripción disponible para esta ruta."})]}),d.jsxs("div",{className:"map-section",children:[d.jsx("h3",{className:"section-title",children:"Ubicación en el mapa"}),d.jsxs("div",{className:"map-container",children:[!t&&d.jsx("div",{className:"map-loading",children:"Cargando mapa..."}),s&&d.jsxs("div",{className:"map-error",children:[d.jsx("p",{children:"Error al cargar el mapa"}),d.jsx("p",{children:s})]}),d.jsx("div",{ref:u,className:"google-map"})]})]})]})]}),d.jsxs("div",{className:"activities-button-container",children:[d.jsx("button",{className:"activities-button",onClick:()=>e(`/activities/${p.id}`),children:"Ver Actividades"}),d.jsx("button",{className:"back-button",onClick:()=>e("/routes"),children:"Volver a Rutas"})]})]}),d.jsx(Wt,{})]})},N8=({title:n,imageSrc:e,guideName:t,rating:r=0,date:s="Fechas flexibles",onClick:l})=>{const u=p=>{const y=[],_=Math.floor(p),w=p%1>=.5,T=5;for(let C=0;C<_;C++)y.push(d.jsx(pe,{icon:li,className:"star-filled"},`star-${C}`));w&&y.push(d.jsxs("span",{className:"star-half-container",children:[d.jsx(pe,{icon:li,className:"star-outline"}),d.jsx(pe,{icon:li,className:"star-filled half"})]},"half-star"));const N=T-_-(w?1:0);for(let C=0;C<N;C++)y.push(d.jsx(pe,{icon:li,className:"star-outline"},`empty-star-${C}`));return y},m=s&&s.includes(" a las ");return d.jsxs("div",{className:"act-card",children:[d.jsx("div",{className:"act-card-img-container",children:d.jsx("img",{src:e||"https://via.placeholder.com/300x200?text=No+Image",alt:n,className:"act-card-img"})}),d.jsxs("div",{className:"act-card-content",children:[d.jsx("h3",{className:"act-card-title",children:n}),d.jsx("div",{className:"act-card-schedule",children:d.jsxs("div",{className:"act-card-date-row",children:[d.jsx(pe,{icon:Rv,className:"schedule-icon"}),m?d.jsxs("div",{className:"date-time-info",children:[d.jsx("span",{className:"date-part",children:s.split(" a las ")[0]}),d.jsxs("div",{className:"time-part",children:[d.jsx(pe,{icon:If,className:"schedule-icon time-icon"}),d.jsx("span",{children:s.split(" a las ")[1]})]})]}):d.jsx("span",{children:s})]})}),d.jsxs("div",{className:"act-card-info",children:[d.jsxs("div",{className:"act-card-guide",children:[d.jsx(pe,{icon:Cf,className:"guide-icon"}),d.jsx("span",{children:t||"Guía no asignado"})]}),d.jsxs("div",{className:"act-card-rating",children:[d.jsx("div",{className:"stars-container",children:u(r)}),d.jsx("span",{className:"rating-number",children:r.toFixed(1)})]})]}),d.jsx("div",{className:"act-card-button-container",children:d.jsxs("button",{className:"act-card-btn",onClick:l,children:["Ver detalles de la actividad",d.jsx("span",{className:"arrow-icon",children:"→"})]})})]})]})},$h="/AvilaGO-ASMS/assets/Hiking1-DVviwJ1O.jpg",x2={Senderismo:$h,default:$h},R8=()=>{const{routeId:n}=U2(),e=sn(),[t,r]=k.useState([]),[s,l]=k.useState(null),[u,m]=k.useState(!0),[p,y]=k.useState(null);k.useEffect(()=>{(async()=>{try{console.log("Fetching activities for route ID:",n);const N=jt(),C=st(N,"routes",n),B=await wn(C);B.exists()?(console.log("Route data found:",B.data()),l(B.data())):console.log("No route found with ID:",n);const L=Xt(N,"activities"),F=Gs(L,ka("routeId","==",n),ka("type","==","Hiking")),V=await qn(F);if(V.empty)console.log("No activities found for this route"),r([]);else{console.log("Activities found:",V.size);const G=await Promise.all(V.docs.map(async Y=>{const P=Y.data(),ie=P.type||"Hiking",j=x2[ie]||x2.default;console.log(`Activity ${Y.id} data.guideName:`,P.guideName);const S=P.guideName;let A="Guía no asignado";if(S&&typeof S=="string"&&S.trim()!=="")try{const z=st(N,"users",S),D=await wn(z);if(D.exists()){const Re=D.data();console.log(`User data for guideId ${S}:`,Re),A=Re.name||A}else console.log(`No se encontró usuario para el guideId ${S}`)}catch(z){console.error(`Error fetching guide data for ID ${S}:`,z)}else console.log(`El campo guideName está vacío o no es válido para la actividad ${Y.id}`);console.log(`Activity ${Y.id} guideRealName:`,A);let I=[],O=[];try{const z=Xt(N,"activities",Y.id,"dates"),D=await qn(z);D.empty?console.log(`No dates found for activity ${Y.id}`):(console.log(`Found ${D.size} dates for activity ${Y.id}`),D.forEach(Re=>{const _e=Re.data();_e.date&&(_e.date.toDate?I.push(_e.date.toDate()):typeof _e.date=="string"&&I.push(new Date(_e.date)),_e.time&&(_e.time.toDate?O.push(_e.time.toDate().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})):typeof _e.time=="string"&&O.push(_e.time)))}),I.sort((Re,_e)=>Re-_e))}catch(z){console.error(`Error fetching dates for activity ${Y.id}:`,z)}return I.length===0&&P.date&&(P.date.toDate?I.push(P.date.toDate()):typeof P.date=="string"&&I.push(new Date(P.date)),P.time&&O.push(P.time)),{id:Y.id,title:P.title||"Unnamed Activity",description:P.description||"",type:ie,guideName:A,rating:P.rating||0,price:P.price||0,capacity:P.capacity||"No especificada",duration:P.duration||"No especificada",requirements:P.requirements||"No hay requisitos específicos",imageSrc:j,routeId:n,availableDates:I,availableTimes:O}}));console.log("Processed activity data:",G),r(G)}}catch(N){console.error("Error fetching activities:",N),y("Failed to load activities. Please try again later.")}finally{m(!1)}})()},[n]);const _=!u&&!p&&t.length===0,w=(T,N=null)=>{if(!T)return"Fechas flexibles";try{const C=T.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return N?`${C} a las ${N}`:C}catch(C){return console.error("Error formatting date:",C,T),"Fecha no disponible"}};return d.jsxs("div",{className:"activities-container",children:[d.jsx(St,{}),d.jsxs("div",{className:"activities-header",children:[d.jsx("div",{className:"back-link-container",children:d.jsx("button",{className:"back-link",onClick:()=>e("/routes"),children:"← Volver a las rutas"})}),d.jsxs("h1",{className:"activities-title",children:["Actividades",s?` en ${s.title}`:""]})]}),d.jsx("main",{className:"activities-main",children:u?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando actividades..."})]}):p?d.jsxs("div",{className:"error-container",children:[d.jsx("p",{className:"error-message",children:p}),d.jsx("button",{onClick:()=>window.location.reload(),children:"Intentar nuevamente"})]}):_?d.jsx("div",{className:"no-activities-message",children:d.jsx("p",{children:"No hay actividades programadas para esta ruta en este momento."})}):d.jsx("div",{className:"activities-grid",children:t.map(T=>{let N="Fechas flexibles";if(T.availableDates&&T.availableDates.length>0){const C=T.availableDates.map((F,V)=>({date:F,time:T.availableTimes&&T.availableTimes[V]?T.availableTimes[V]:null})),B=new Date,L=C.filter(F=>F.date>B);if(L.length>0){L.sort((V,G)=>V.date-G.date);const F=L[0];N=w(F.date,F.time)}else{C.sort((V,G)=>G.date-V.date);const F=C[0];N=`Finalizado: ${w(F.date,F.time)}`}}return d.jsx("div",{className:"activity-card-container",children:d.jsx(N8,{title:T.title,imageSrc:T.imageSrc,guideName:T.guideName,rating:T.rating,date:N,onClick:()=>e(`/activity/${T.id}`,{state:{...T,availableDates:T.availableDates?T.availableDates.map(C=>C.toISOString()):[],availableTimes:T.availableTimes||[]}})})},T.id)})})}),d.jsx(Wt,{})]})},C8=()=>{const n=Wi(),e=sn(),{activityId:t}=U2(),[r,s]=k.useState(null),[l,u]=k.useState(!0),[m,p]=k.useState(null),[y,_]=k.useState(null),[w,T]=k.useState(null);k.useEffect(()=>{const F=al();(async()=>{if(F.currentUser){_(F.currentUser);try{const G=jt(),Y=await wn(st(G,"users",F.currentUser.uid));Y.exists()&&T(Y.data().role)}catch(G){console.error("Error getting user role:",G)}}})()},[]),k.useEffect(()=>{(async()=>{u(!0);try{if(n.state&&n.state.title)console.log("Using activity data from location state:",n.state),s(n.state);else if(t){console.log("Fetching activity data for ID:",t);const V=jt(),G=st(V,"activities",t),Y=await wn(G);if(Y.exists()){const P={id:Y.id,...Y.data()};if(console.log("Activity data loaded from Firestore:",P),P.guideId&&(!P.guideName||!P.guideImage))try{console.log("Fetching guide info for ID:",P.guideId);const ie=st(V,"users",P.guideId),j=await wn(ie);if(j.exists()){const S=j.data();P.guideName=S.name||S.displayName||"Guía",P.guideImage=S.profilePic||"",console.log("Added guide data:",{guideName:P.guideName})}else console.log("Guide not found, using default values"),P.guideName="Guía (no encontrado)"}catch(ie){console.error("Error fetching guide data:",ie),P.guideName="Guía"}s(P)}else console.error("No activity found with ID:",t),p("No se encontró la actividad especificada")}else p("No se especificó una actividad")}catch(V){console.error("Error fetching activity data:",V),p(`Error al cargar la información: ${V.message}`)}finally{setTimeout(()=>{u(!1)},300)}})()},[n.state,t]);const N=F=>{const V=[],G=Math.floor(F),Y=F%1>=.5,P=5;for(let j=0;j<G;j++)V.push(d.jsx(pe,{icon:li,className:"star-filled"},`star-${j}`));Y&&V.push(d.jsxs("span",{className:"star-half-container",children:[d.jsx(pe,{icon:li,className:"star-outline"}),d.jsx(pe,{icon:li,className:"star-half"})]},"half-star"));const ie=P-G-(Y?1:0);for(let j=0;j<ie;j++)V.push(d.jsx(pe,{icon:li,className:"star-outline"},`empty-star-${j}`));return V},C=()=>{e(-1)},B=F=>Iv,L=()=>{if(!y){e("/login",{state:{from:n.pathname,message:"Inicia sesión para reservar esta actividad"}});return}if(w!=="estudiante"){alert("Solo los estudiantes pueden reservar actividades");return}e("/payment",{state:r})};return d.jsxs("div",{className:"activity-info-page",children:[d.jsx(St,{}),d.jsxs("div",{className:"activity-hero",children:[d.jsx("div",{className:"activity-hero-overlay"}),d.jsx("div",{className:"activity-hero-content",children:d.jsxs("div",{className:"container",children:[d.jsxs("button",{className:"back-button",onClick:C,children:[d.jsx(pe,{icon:ay}),d.jsx("span",{children:"Volver a actividades"})]}),d.jsx("h1",{className:"activity-hero-title",children:l?"Cargando actividad...":(r==null?void 0:r.title)||"Detalle de Actividad"})]})})]}),d.jsx("div",{className:"activity-info-container",children:l?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando información..."})]}):m?d.jsxs("div",{className:"error-container",children:[d.jsx("div",{className:"error-icon",children:"!"}),d.jsx("h2",{children:"Información no disponible"}),d.jsx("p",{children:m}),d.jsx("button",{onClick:()=>e("/routes"),className:"return-button",children:"Explorar rutas disponibles"})]}):r?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"activity-content",children:[d.jsxs("div",{className:"activity-main-info",children:[d.jsxs("div",{className:"activity-image-container",children:[d.jsxs("div",{className:"activity-type-badge",children:[d.jsx(pe,{icon:B(r.type)}),d.jsx("span",{children:r.type||"Actividad"})]}),d.jsx("img",{src:r.imageSrc||hikingImage,alt:r.title,className:"activity-image"})]}),d.jsxs("div",{className:"activity-description-container",children:[d.jsx("h2",{children:"Sobre esta actividad"}),d.jsx("div",{className:"activity-divider"}),d.jsx("p",{className:"activity-description",children:r.description||"No hay descripción disponible para esta actividad."}),d.jsx("div",{className:"activity-meta",children:d.jsxs("div",{className:"activity-guide-rating",children:[d.jsxs("div",{className:"guide-info",children:[d.jsx(pe,{icon:Cf,className:"meta-icon guide-icon"}),d.jsxs("div",{className:"guide-details",children:[d.jsx("span",{className:"meta-label",children:"Guía"}),d.jsx("span",{className:"guide-name",children:r.guideName})]})]}),d.jsxs("div",{className:"rating-display",children:[d.jsx("span",{className:"meta-label",children:"Calificación"}),d.jsxs("div",{className:"stars-container",children:[N(r.rating||0),d.jsx("span",{className:"rating-value",children:(r.rating||0).toFixed(1)})]})]})]})})]})]}),d.jsxs("div",{className:"activity-details-section",children:[d.jsx("h2",{className:"details-title",children:"Detalles de la Actividad"}),d.jsx("div",{className:"activity-divider centered"}),d.jsxs("div",{className:"activity-details-grid",children:[d.jsxs("div",{className:"detail-card",children:[d.jsx(pe,{icon:If,className:"detail-icon"}),d.jsxs("div",{className:"detail-content",children:[d.jsx("h3",{children:"Duración"}),d.jsx("p",{children:r.duration})]})]}),d.jsxs("div",{className:"detail-card",children:[d.jsx(pe,{icon:jS,className:"detail-icon"}),d.jsxs("div",{className:"detail-content",children:[d.jsx("h3",{children:"Capacidad"}),d.jsx("p",{children:r.capacity})]})]}),d.jsxs("div",{className:"detail-card",children:[d.jsx(pe,{icon:_P,className:"detail-icon"}),d.jsxs("div",{className:"detail-content",children:[d.jsx("h3",{children:"Precio"}),d.jsx("p",{className:"price-tag",children:typeof r.price=="number"?`$${r.price.toFixed(2)}`:r.price||"Gratuito"})]})]})]})]}),d.jsxs("div",{className:"activity-requirements-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx(pe,{icon:aP,className:"section-icon"}),d.jsx("h2",{children:"Requisitos"})]}),d.jsx("div",{className:"activity-divider"}),d.jsx("div",{className:"requirements-content",children:d.jsx("p",{children:r.requirements||"No hay requisitos específicos para esta actividad."})})]}),d.jsxs("div",{className:"activity-actions",children:[d.jsxs("button",{className:"reserve-button",onClick:L,title:w!=="estudiante"?"Solo estudiantes pueden reservar":"Reservar esta actividad",children:["Reservar esta actividad",d.jsx(pe,{icon:ay,rotation:180,className:"button-icon"})]}),w&&w!=="estudiante"&&d.jsx("p",{className:"reservation-note",children:"* Solo los estudiantes pueden realizar reservas"})]})]})}):d.jsxs("div",{className:"error-container",children:[d.jsx("div",{className:"error-icon",children:"!"}),d.jsx("h2",{children:"Información no disponible"}),d.jsx("p",{children:"No se encontró información para esta actividad."}),d.jsx("button",{onClick:()=>e("/routes"),className:"return-button",children:"Explorar rutas disponibles"})]})}),d.jsx(Wt,{})]})},I8=()=>{const n=sn();k.useEffect(()=>{(async()=>{const r=qa.currentUser;(!r||r.uid!=="a3aDWzEngYcwSKtp5NFA2cKZPJ02")&&(alert("Acceso denegado. Solo los administradores pueden acceder a esta página."),n("/"))})()},[n]);const e=t=>{n(t)};return d.jsxs("div",{className:"dashboard-container",children:[d.jsx(St,{}),d.jsxs("div",{className:"dashboard-content",children:[d.jsx("h1",{className:"dashboard-title",children:"PANEL DE ADMINISTRACIÓN"}),d.jsxs("div",{className:"dashboard-grid",children:[d.jsxs("div",{className:"dashboard-card",children:[d.jsx("div",{className:"icon-container",children:d.jsx(pe,{icon:vP,className:"dashboard-fontawesome-icon"})}),d.jsx("button",{className:"dashboard-button",onClick:()=>e("/admin/reservations"),children:"Gestionar Reservas"})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsx("div",{className:"icon-container",children:d.jsx(pe,{icon:jS,className:"dashboard-fontawesome-icon"})}),d.jsx("button",{className:"dashboard-button",onClick:()=>e("/admin/users"),children:"Gestionar Usuarios"})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsx("div",{className:"icon-container",children:d.jsx(pe,{icon:hP,className:"dashboard-fontawesome-icon"})}),d.jsx("button",{className:"dashboard-button",onClick:()=>e("/admin/routes"),children:"Gestionar Rutas"})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsx("div",{className:"icon-container",children:d.jsx(pe,{icon:Iv,className:"dashboard-fontawesome-icon"})}),d.jsx("button",{className:"dashboard-button",onClick:()=>e("/activitydashboard"),children:"Gestionar Actividades"})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsx("div",{className:"icon-container",children:d.jsx(pe,{icon:bP,className:"dashboard-fontawesome-icon"})}),d.jsx("button",{className:"dashboard-button",onClick:()=>e("/admin/gallery"),children:"Gestionar Galería"})]}),d.jsxs("div",{className:"dashboard-card",children:[d.jsx("div",{className:"icon-container",children:d.jsx(pe,{icon:IS,className:"dashboard-fontawesome-icon"})}),d.jsx("button",{className:"dashboard-button",onClick:()=>e("/admin/forum"),children:"Gestionar Foro"})]})]})]})]})},D8=({id:n,title:e,imageSrc:t,guideName:r,rating:s=0,date:l="Fechas flexibles",rawDate:u="",time:m="",capacity:p="",description:y="",duration:_="",price:w="",requirements:T="",type:N="",onClick:C,onEditActivity:B,onDeleteActivity:L})=>{console.log("ActGuideCard: id =",n);const F=u?`${u}${m?` a las ${m}`:""}`:l,V=F&&F.includes(" a las "),[G,Y]=k.useState(!1),[P,ie]=k.useState({title:"",date:"",time:"",rating:0,capacity:"",description:"",duration:"",price:"",requirements:"",type:""}),j=()=>{ie({title:e,date:u||l,time:m,rating:s,capacity:p,description:y,duration:_,price:w,requirements:T,type:N}),Y(!0)},S=z=>{const{name:D,value:Re}=z.target;ie(_e=>({..._e,[D]:Re}))},A=async()=>{const z={...P};if(P.date){const D=P.time?`${P.date} ${P.time}`:P.date;z.date=At.fromDate(new Date(D))}else z.date=null;if(console.log("Guardando cambios con datos:",z),B)try{await B(z),console.log("Actualización exitosa"),window.location.reload()}catch(D){console.error("Error actualizando la actividad:",D)}else console.error("onEditActivity no está definido");Y(!1)},I=async()=>{if(console.log("Iniciando borrado de actividad con id:",n),window.confirm("¿Estás seguro de que deseas borrar esta actividad?"))if(L)try{await L(n),console.log("Actividad borrada exitosamente"),Y(!1)}catch(z){console.error("Error borrando la actividad:",z)}else console.error("No se ha definido onDeleteActivity");else console.log("Borrado cancelado")},O=z=>{const D=[],Re=Math.floor(z),_e=z%1>=.5,ce=5;for(let ue=0;ue<Re;ue++)D.push(d.jsx(pe,{icon:li,className:"star-filled"},`star-${ue}`));_e&&D.push(d.jsxs("span",{className:"star-half-container",children:[d.jsx(pe,{icon:li,className:"star-outline"}),d.jsx(pe,{icon:li,className:"star-filled half"})]},"half-star"));const oe=ce-Re-(_e?1:0);for(let ue=0;ue<oe;ue++)D.push(d.jsx(pe,{icon:li,className:"star-outline"},`empty-star-${ue}`));return D};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"act-card",children:[d.jsx("div",{className:"act-card-img-container",children:d.jsx("img",{src:t||"https://via.placeholder.com/300x200?text=No+Image",alt:e,className:"act-card-img"})}),d.jsxs("div",{className:"act-card-content",children:[d.jsx("h3",{className:"act-card-title",children:e}),d.jsx("div",{className:"act-card-schedule",children:d.jsxs("div",{className:"act-card-date-row",children:[d.jsx(pe,{icon:Rv,className:"schedule-icon"}),V?d.jsxs("div",{className:"date-time-info",children:[d.jsx("span",{className:"date-part",children:F.split(" a las ")[0]}),d.jsxs("div",{className:"time-part",children:[d.jsx(pe,{icon:If,className:"schedule-icon time-icon"}),d.jsx("span",{children:F.split(" a las ")[1]})]})]}):d.jsx("span",{children:F})]})}),d.jsxs("div",{className:"act-card-info",children:[d.jsxs("div",{className:"act-card-guide",children:[d.jsx(pe,{icon:Cf,className:"guide-icon"}),d.jsx("span",{children:r||"Guía no asignado"})]}),d.jsxs("div",{className:"act-card-rating",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[d.jsx("div",{className:"stars-container",children:O(s)}),d.jsx("span",{className:"rating-number",children:s.toFixed(1)}),d.jsx("button",{className:"act-card-btn edit-btn",onClick:j,children:"Editar actividad"})]})]}),d.jsx("div",{className:"act-card-button-container",children:d.jsxs("button",{className:"act-card-btn",onClick:C,children:["Ver detalles de la actividad",d.jsx("span",{className:"arrow-icon",children:"→"})]})})]})]}),G&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal",children:[d.jsx("h2",{children:"Editar Actividad"}),d.jsxs("label",{children:["Título:",d.jsx("input",{type:"text",name:"title",value:P.title,onChange:S})]}),d.jsxs("label",{children:["Fecha:",d.jsx("input",{type:"text",name:"date",value:P.date,onChange:S,placeholder:"YYYY-MM-DD"})]}),d.jsxs("label",{children:["Hora:",d.jsx("input",{type:"text",name:"time",value:P.time,onChange:S,placeholder:"HH:MM"})]}),d.jsxs("label",{children:["Rating:",d.jsx("input",{type:"number",name:"rating",value:P.rating,onChange:S,step:"0.1",min:"0",max:"5",disabled:!0})]}),d.jsxs("label",{children:["Capacidad:",d.jsx("input",{type:"text",name:"capacity",value:P.capacity,onChange:S})]}),d.jsxs("label",{children:["Descripción:",d.jsx("textarea",{name:"description",value:P.description,onChange:S})]}),d.jsxs("label",{children:["Duración:",d.jsx("input",{type:"text",name:"duration",value:P.duration,onChange:S})]}),d.jsxs("label",{children:["Precio:",d.jsx("input",{type:"number",name:"price",value:P.price,onChange:S})]}),d.jsxs("label",{children:["Requerimientos:",d.jsx("textarea",{name:"requirements",value:P.requirements,onChange:S})]}),d.jsxs("label",{children:["Tipo:",d.jsx("input",{type:"text",name:"type",value:P.type,onChange:S})]}),d.jsxs("div",{className:"modal-buttons",children:[d.jsx("button",{onClick:A,children:"Guardar"}),d.jsx("button",{onClick:()=>Y(!1),children:"Cancelar"}),d.jsx("button",{onClick:I,className:"delete-btn",children:"Borrar actividad"})]})]})})]})},N2={Senderismo:$h,default:$h},j8=()=>{const n=sn(),e=jt(),r=al().currentUser,[s,l]=k.useState([]),[u,m]=k.useState(!0),[p,y]=k.useState(null),[_,w]=k.useState(null),[T,N]=k.useState(!1),[C,B]=k.useState({title:"",date:"",time:"",description:"",type:"",capacity:"",duration:"",price:"",requirements:"",rating:0,routeId:""}),[L,F]=k.useState([]),V=S=>{const{name:A,value:I}=S.target;B(O=>({...O,[A]:I}))},G=async()=>{if(!r){console.error("No hay usuario autenticado");return}const S=r.uid;let A=null;if(C.date){const O=C.time?`${C.date} ${C.time}`:C.date;console.log("Creando actividad con fecha:",O),A=At.fromDate(new Date(O))}const I={title:C.title,description:C.description,type:C.type,guideId:S,rating:0,price:C.price?Number(C.price):0,capacity:C.capacity||"No especificada",duration:C.duration||"No especificada",requirements:C.requirements||"No hay requisitos específicos",date:A,time:C.time,routeId:C.routeId||""};try{const O=await lu(Xt(e,"activities"),I);console.log("Actividad creada con ID:",O.id),N(!1),B({title:"",date:"",time:"",description:"",type:"",capacity:"",duration:"",price:"",requirements:"",rating:0,routeId:""}),window.location.reload()}catch(O){console.error("Error creando actividad:",O)}},Y=async(S,A)=>{try{const I=st(e,"activities",S);await ou(I,A),console.log("Actividad actualizada en la DB"),l(O=>O.map(z=>z.id===S?{...z,...A}:z))}catch(I){console.error("Error al actualizar la actividad:",I)}},P=async S=>{try{console.log("Eliminando actividad con id:",S),await mv(st(e,"activities",S)),l(A=>A.filter(I=>I.id!==S))}catch(A){console.error("Error eliminando la actividad:",A)}};k.useEffect(()=>{(async()=>{try{if(!r){y("No hay usuario autenticado"),m(!1);return}const A=st(e,"users",r.uid),I=await wn(A);let O=null;I.exists()?(O=I.data().role,w(O)):console.log("No se encontró documento para el usuario");const z=O==="admin";console.log("Fetching activities for user:",r.uid,"isAdmin:",z);const D=Xt(e,"activities"),Re=z?Gs(D,ka("type","==","Senderismo")):Gs(D,ka("guideId","==",r.uid),ka("type","==","Senderismo")),_e=await qn(Re);if(_e.empty)console.log("No activities found"),l([]);else{const ce=await Promise.all(_e.docs.map(async oe=>{const ue=oe.data(),ne=ue.type||"Senderismo",U=N2[ne]||N2.default;let Z="Guía no asignado";try{const he=st(e,"users",ue.guideId),Ae=await wn(he);Ae.exists()?Z=Ae.data().name||Z:console.log(`No se encontró usuario para el guide uid ${ue.guideId}`)}catch(he){console.error(`Error fetching guide data for uid ${ue.guideId}:`,he)}console.log(`Activity ${oe.id} guideRealName:`,Z);let me=[],de=[];try{const he=Xt(e,"activities",oe.id,"dates"),Ae=await qn(he);Ae.empty?console.log(`No dates found for activity ${oe.id}`):(Ae.forEach(ve=>{const De=ve.data();De.date&&(De.date.toDate?me.push(De.date.toDate()):typeof De.date=="string"&&me.push(new Date(De.date)),De.time&&(De.time.toDate?de.push(De.time.toDate().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})):typeof De.time=="string"&&de.push(De.time)))}),me.sort((ve,De)=>ve-De))}catch(he){console.error(`Error fetching dates for activity ${oe.id}:`,he)}const ge=ue.date?typeof ue.date.toDate=="function"?ue.date.toDate().toISOString().split("T")[0]:ue.date:"",ee=ue.time||"";return{id:oe.id,title:ue.title||"Unnamed Activity",description:ue.description||"",type:ne,guideName:Z,rating:ue.rating||0,price:ue.price||0,capacity:ue.capacity||"No especificada",duration:ue.duration||"No especificada",requirements:ue.requirements||"No hay requisitos específicos",imageSrc:U,availableDates:me,availableTimes:de,rawDate:ge,rawTime:ee}}));console.log("Processed activity data:",ce),l(ce)}}catch(A){console.error("Error fetching activities:",A),y("Failed to load activities. Please try again later.")}finally{m(!1)}})()},[r,e]),k.useEffect(()=>{(async()=>{try{const A=Xt(e,"routes"),I=await qn(A),O=[];I.forEach(z=>{O.push({id:z.id,...z.data()})}),F(O)}catch(A){console.error("Error fetching routes for dropdown:",A)}})()},[e]);const ie=(S,A=null)=>{if(!S)return"Fechas flexibles";try{const I=S.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return A?`${I} a las ${A}`:I}catch(I){return console.error("Error formatting date:",I,S),"Fecha no disponible"}},j=!u&&!p&&s.length===0;return d.jsxs("div",{className:"activities-container",children:[d.jsx(St,{}),d.jsxs("div",{className:"activities-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsx("h1",{className:"activities-title",children:"Mis Actividades como Guía"}),_!=="admin"&&d.jsx("button",{className:"create-activity-btn",onClick:()=>N(!0),children:"Crear Actividad"})]}),d.jsx("main",{className:"activities-main",children:u?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando actividades..."})]}):p?d.jsxs("div",{className:"error-container",children:[d.jsx("p",{className:"error-message",children:p}),d.jsx("button",{onClick:()=>window.location.reload(),children:"Intentar nuevamente"})]}):j?d.jsx("div",{className:"no-activities-message",children:d.jsx("p",{children:"No hay actividades programadas para ti."})}):d.jsx("div",{className:"activities-grid",children:s.map(S=>{let A="Fechas flexibles";if(S.availableDates&&S.availableDates.length>0){const I=S.availableDates.map((D,Re)=>({date:D,time:S.availableTimes&&S.availableTimes[Re]?S.availableTimes[Re]:null})),O=new Date,z=I.filter(D=>D.date>O);if(z.length>0){z.sort((Re,_e)=>Re.date-_e.date);const D=z[0];A=ie(D.date,D.time)}else{I.sort((Re,_e)=>_e.date-Re.date);const D=I[0];A=`Finalizado: ${ie(D.date,D.time)}`}}return d.jsx("div",{className:"activity-card-container",children:d.jsx(D8,{id:S.id,title:S.title,imageSrc:S.imageSrc,guideName:S.guideName,rating:S.rating,date:A,rawDate:S.rawDate,time:S.rawTime,capacity:S.capacity,description:S.description,duration:S.duration,price:S.price,requirements:S.requirements,type:S.type,onClick:()=>n(`/activity/${S.id}`,{state:S}),onEditActivity:I=>Y(S.id,I),onDeleteActivity:P})},S.id)})})}),d.jsx(Wt,{}),T&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal",children:[d.jsx("h2",{children:"Crear Actividad"}),d.jsxs("label",{children:["Título:",d.jsx("input",{type:"text",name:"title",value:C.title,onChange:V})]}),d.jsxs("label",{children:["Fecha:",d.jsx("input",{type:"text",name:"date",value:C.date,onChange:V,placeholder:"YYYY-MM-DD"})]}),d.jsxs("label",{children:["Hora:",d.jsx("input",{type:"text",name:"time",value:C.time,onChange:V,placeholder:"HH:MM"})]}),d.jsxs("label",{children:["Ruta:",d.jsxs("select",{name:"routeId",value:C.routeId,onChange:V,children:[d.jsx("option",{value:"",children:"Selecciona una ruta"}),L.map(S=>d.jsx("option",{value:S.id,children:S.title},S.id))]})]}),d.jsxs("label",{children:["Descripción:",d.jsx("textarea",{name:"description",value:C.description,onChange:V})]}),d.jsxs("label",{children:["Tipo:",d.jsxs("select",{name:"type",value:C.type,onChange:V,children:[d.jsx("option",{value:"",children:"Selecciona un tipo"}),d.jsx("option",{value:"Senderismo",children:"Senderismo"}),d.jsx("option",{value:"Cámping",children:"Cámping"}),d.jsx("option",{value:"Yoga",children:"Yoga"}),d.jsx("option",{value:"Observación de aves",children:"Observación de aves"}),d.jsx("option",{value:"Fotografía",children:"Fotografía"})]})]}),d.jsxs("label",{children:["Capacidad:",d.jsx("input",{type:"text",name:"capacity",value:C.capacity,onChange:V})]}),d.jsxs("label",{children:["Duración:",d.jsx("input",{type:"text",name:"duration",value:C.duration,onChange:V})]}),d.jsxs("label",{children:["Precio:",d.jsx("input",{type:"number",name:"price",value:C.price,onChange:V})]}),d.jsxs("label",{children:["Requerimientos:",d.jsx("textarea",{name:"requirements",value:C.requirements,onChange:V})]}),d.jsxs("div",{className:"modal-buttons",children:[d.jsx("button",{onClick:G,children:"Crear"}),d.jsx("button",{onClick:()=>N(!1),children:"Cancelar"})]})]})})]})},O8=()=>{const n=sn(),[e,t]=k.useState([]),[r,s]=k.useState(!0),[l,u]=k.useState(null),[m,p]=k.useState(""),[y,_]=k.useState("all"),[w,T]=k.useState(!1),[N,C]=k.useState(!1),[B,L]=k.useState(null),[F,V]=k.useState(!1),[G,Y]=k.useState(null),[P,ie]=k.useState({field:"name",direction:"asc"}),[j,S]=k.useState(!1),[A,I]=k.useState({email:"",password:"",confirmPassword:"",name:"",role:"estudiante"}),[O,z]=k.useState({});k.useEffect(()=>{(async()=>{const he=al();if(he.currentUser){const Ae=jt();try{const ve=await qn(Gs(Xt(Ae,"users"),ka("email","==",he.currentUser.email)));if(ve.empty)n("/login");else{if(ve.docs[0].data().role!=="admin"){n("/");return}D()}}catch(ve){console.error("Error checking admin status:",ve),n("/login")}}else n("/login")})()},[n]);const D=async()=>{s(!0);try{const ee=jt(),he=Xt(ee,"users"),ve=(await qn(he)).docs.map(De=>({id:De.id,...De.data()}));t(ve),s(!1)}catch(ee){console.error("Error fetching users:",ee),u("Error al cargar usuarios. Por favor intenta de nuevo."),s(!1)}},Re=async()=>{if(G){s(!0);try{const ee=jt();await mv(st(ee,"users",G.id)),t(e.filter(he=>he.id!==G.id)),V(!1),Y(null),alert("Usuario eliminado con éxito")}catch(ee){console.error("Error deleting user:",ee),u("Error al eliminar usuario. Es posible que necesites eliminar primero las actividades o reservaciones asociadas a este usuario.")}finally{s(!1)}}},_e=ee=>{const{name:he,value:Ae}=ee.target;I({...A,[he]:Ae}),O[he]&&z({...O,[he]:null})},ce=()=>{const ee={};return A.email?/\S+@\S+\.\S+/.test(A.email)||(ee.email="El formato del email es inválido"):ee.email="El email es requerido",N||(A.password?A.password.length<6&&(ee.password="La contraseña debe tener al menos 6 caracteres"):ee.password="La contraseña es requerida",A.password!==A.confirmPassword&&(ee.confirmPassword="Las contraseñas no coinciden")),A.name||(ee.name="El nombre es requerido"),A.role||(ee.role="El rol es requerido"),ee},oe=async ee=>{ee.preventDefault();const he=ce();if(Object.keys(he).length>0){z(he);return}s(!0);try{const Ae=al(),ve=jt(),De=await jT(Ae,A.email,A.password);await fv(st(ve,"users",De.user.uid),{name:A.name,email:A.email,role:A.role,createdAt:cu()});const Ze={id:De.user.uid,name:A.name,email:A.email,role:A.role};t([...e,Ze]),I({email:"",password:"",confirmPassword:"",name:"",role:"estudiante"}),T(!1),alert("Usuario creado con éxito")}catch(Ae){console.error("Error adding user:",Ae),Ae.code==="auth/email-already-in-use"?z({...O,email:"Este email ya está en uso"}):u("Error al crear usuario: "+Ae.message)}finally{s(!1)}},ue=ee=>{L(ee),I({email:ee.email||"",password:"",confirmPassword:"",name:ee.name||"",role:ee.role||"estudiante"}),C(!0)},ne=async ee=>{ee.preventDefault();const he=ce();if(Object.keys(he).length>0){z(he);return}s(!0);try{const Ae=jt();await ou(st(Ae,"users",B.id),{name:A.name,role:A.role,updatedAt:cu()}),t(e.map(ve=>ve.id===B.id?{...ve,name:A.name,role:A.role}:ve)),C(!1),L(null),alert("Usuario actualizado con éxito")}catch(Ae){console.error("Error updating user:",Ae),u("Error al actualizar usuario: "+Ae.message)}finally{s(!1)}},U=ee=>{Y(ee),V(!0)},Z=ee=>{ie(he=>({field:ee,direction:he.field===ee&&he.direction==="asc"?"desc":"asc"}))},me=e.filter(ee=>{var ve,De;const he=((ve=ee.name)==null?void 0:ve.toLowerCase().includes(m.toLowerCase()))||((De=ee.email)==null?void 0:De.toLowerCase().includes(m.toLowerCase())),Ae=y==="all"||ee.role===y;return he&&Ae}).sort((ee,he)=>{const Ae=P.field,ve=ee[Ae]!==void 0?ee[Ae]:"",De=he[Ae]!==void 0?he[Ae]:"";return ve<De?P.direction==="asc"?-1:1:ve>De?P.direction==="asc"?1:-1:0}),de=ee=>P.field===ee?P.direction==="asc"?" ▲":" ▼":"",ge=ee=>{switch(ee){case"admin":return"Administrador";case"guia":return"Guía";case"estudiante":return"Estudiante";default:return ee}};return d.jsxs("div",{className:"manage-users-page",children:[d.jsx(St,{}),d.jsxs("div",{className:"manage-users-container",children:[d.jsx("h1",{className:"page-title",children:"Gestión de Usuarios"}),d.jsxs("div",{className:"controls-container",children:[d.jsxs("div",{className:"search-filter-container",children:[d.jsxs("div",{className:"search-bar",children:[d.jsx(pe,{icon:Cu,className:"search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:m,onChange:ee=>p(ee.target.value)})]}),d.jsxs("div",{className:"filter-dropdown",children:[d.jsx(pe,{icon:OS,className:"filter-icon"}),d.jsxs("select",{value:y,onChange:ee=>_(ee.target.value),children:[d.jsx("option",{value:"all",children:"Todos los roles"}),d.jsx("option",{value:"admin",children:"Administradores"}),d.jsx("option",{value:"guia",children:"Guías"}),d.jsx("option",{value:"estudiante",children:"Estudiantes"})]})]})]}),d.jsxs("button",{className:"add-user-button",onClick:()=>T(!0),children:[d.jsx(pe,{icon:RP}),d.jsx("span",{children:"Nuevo Usuario"})]})]}),r&&e.length===0?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:"Cargando usuarios..."})]}):l?d.jsxs("div",{className:"error-container",children:[d.jsx(pe,{icon:sy,className:"error-icon"}),d.jsx("p",{children:l}),d.jsx("button",{onClick:D,className:"retry-button",children:"Reintentar"})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"users-table-container",children:d.jsxs("table",{className:"users-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>Z("name"),className:"sortable-header",children:["Nombre ",de("name")]}),d.jsxs("th",{onClick:()=>Z("email"),className:"sortable-header",children:["Email ",de("email")]}),d.jsxs("th",{onClick:()=>Z("role"),className:"sortable-header",children:["Rol ",de("role")]}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:me.length>0?me.map(ee=>{var he;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsxs("div",{className:"user-name-cell",children:[ee.profilePic?d.jsx("img",{src:ee.profilePic,alt:ee.name,className:"user-avatar"}):d.jsx("div",{className:"user-avatar-placeholder",children:((he=ee.name)==null?void 0:he.charAt(0).toUpperCase())||"?"}),d.jsx("span",{children:ee.name})]})}),d.jsx("td",{children:ee.email}),d.jsx("td",{children:d.jsx("span",{className:`role-badge ${ee.role}`,children:ge(ee.role)})}),d.jsx("td",{children:d.jsxs("div",{className:"actions-cell",children:[d.jsx("button",{onClick:()=>ue(ee),className:"action-button edit-button",title:"Editar usuario",children:d.jsx(pe,{icon:DS})}),d.jsx("button",{onClick:()=>U(ee),className:"action-button delete-button",title:"Eliminar usuario",children:d.jsx(pe,{icon:PS})})]})})]},ee.id)}):d.jsx("tr",{children:d.jsx("td",{colSpan:"4",className:"no-users-message",children:"No se encontraron usuarios con los criterios de búsqueda"})})})]})}),d.jsx("div",{className:"pagination-container",children:d.jsxs("p",{className:"user-count",children:["Mostrando ",me.length," de ",e.length," usuarios"]})})]})]}),w&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Crear Nuevo Usuario"}),d.jsx("button",{className:"close-modal-button",onClick:()=>T(!1),children:d.jsx(pe,{icon:rl})})]}),d.jsxs("form",{onSubmit:oe,className:"user-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre Completo *"}),d.jsx("input",{type:"text",id:"name",name:"name",value:A.name,onChange:_e,required:!0}),O.name&&d.jsx("span",{className:"form-error",children:O.name})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Email *"}),d.jsx("input",{type:"email",id:"email",name:"email",value:A.email,onChange:_e,required:!0}),O.email&&d.jsx("span",{className:"form-error",children:O.email})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Contraseña *"}),d.jsxs("div",{className:"password-input-container",children:[d.jsx("input",{type:j?"text":"password",id:"password",name:"password",value:A.password,onChange:_e,required:!0}),d.jsx("button",{type:"button",className:"toggle-password-button",onClick:()=>S(!j),children:d.jsx(pe,{icon:j?lP:kS})})]}),O.password&&d.jsx("span",{className:"form-error",children:O.password})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contraseña *"}),d.jsx("input",{type:j?"text":"password",id:"confirmPassword",name:"confirmPassword",value:A.confirmPassword,onChange:_e,required:!0}),O.confirmPassword&&d.jsx("span",{className:"form-error",children:O.confirmPassword})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"role",children:"Rol *"}),d.jsxs("select",{id:"role",name:"role",value:A.role,onChange:_e,required:!0,children:[d.jsx("option",{value:"estudiante",children:"Estudiante"}),d.jsx("option",{value:"guia",children:"Guía"}),d.jsx("option",{value:"admin",children:"Administrador"})]}),O.role&&d.jsx("span",{className:"form-error",children:O.role})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",className:"cancel-button",onClick:()=>T(!1),children:"Cancelar"}),d.jsx("button",{type:"submit",className:"submit-button",disabled:r,children:r?"Creando...":"Crear Usuario"})]})]})]})}),N&&B&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Editar Usuario"}),d.jsx("button",{className:"close-modal-button",onClick:()=>C(!1),children:d.jsx(pe,{icon:rl})})]}),d.jsxs("form",{onSubmit:ne,className:"user-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre Completo *"}),d.jsx("input",{type:"text",id:"name",name:"name",value:A.name,onChange:_e,required:!0}),O.name&&d.jsx("span",{className:"form-error",children:O.name})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Email *"}),d.jsx("input",{type:"email",id:"email",name:"email",value:A.email,onChange:_e,disabled:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"role",children:"Rol *"}),d.jsxs("select",{id:"role",name:"role",value:A.role,onChange:_e,required:!0,children:[d.jsx("option",{value:"estudiante",children:"Estudiante"}),d.jsx("option",{value:"guia",children:"Guía"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",className:"cancel-button",onClick:()=>C(!1),children:"Cancelar"}),d.jsx("button",{type:"submit",className:"submit-button",disabled:r,children:r?"Guardando...":"Guardar Cambios"})]})]})]})}),F&&G&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content delete-confirmation-modal",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Confirmar Eliminación"}),d.jsx("button",{className:"close-modal-button",onClick:()=>V(!1),children:d.jsx(pe,{icon:rl})})]}),d.jsxs("div",{className:"confirmation-content",children:[d.jsx(pe,{icon:sy,className:"warning-icon"}),d.jsxs("p",{children:["¿Estás seguro que deseas eliminar al usuario ",d.jsx("strong",{children:G.name}),"?"]}),d.jsx("p",{className:"warning-text",children:"Esta acción no se puede deshacer y eliminará todos los datos del usuario."})]}),d.jsxs("div",{className:"confirmation-actions",children:[d.jsx("button",{className:"cancel-button",onClick:()=>V(!1),children:"Cancelar"}),d.jsx("button",{className:"delete-button",onClick:Re,disabled:r,children:r?"Eliminando...":"Eliminar Usuario"})]})]})})]})},k8=()=>{sn();const[n,e]=k.useState([]),[t,r]=k.useState(!0),[s,l]=k.useState(null),[u,m]=k.useState(""),[p,y]=k.useState({field:"name",direction:"asc"}),[_,w]=k.useState(null),[T,N]=k.useState(!1),[C,B]=k.useState({title:"",difficulty:"",distance:"",map:"",about:""}),[L,F]=k.useState(!1),[V,G]=k.useState(null);al();const Y=jt();k.useEffect(()=>{P()},[]);const P=async()=>{r(!0);try{console.log("Fetching routes...");const ne=["routes","rutas","Rutas","Routes"];let U=[],Z=!1;for(const me of ne)try{console.log(`Trying collection: ${me}`);const de=Xt(Y,me),ge=Gs(de),ee=await qn(ge);if(!ee.empty){const he=ee.docs[0];w(he.data()),console.log("First document fields:",he.data()),U=ee.docs.map(Ae=>{const ve=Ae.data();return console.log("Document fields for",Ae.id,":",Object.keys(ve)),{id:Ae.id,name:ve.name||ve.nombre||ve.title||ve.titulo||"Sin nombre",difficulty:ve.difficulty||ve.dificultad||ve.nivel||"fácil",distance:ve.distance||ve.distancia||ve.longitud||"No especificada",description:ve.description||ve.descripcion||ve.desc||"",imageUrl:ve.imageUrl||ve.imagen||ve.image||ve.imagePath||"",...ve}}),console.log(`Found ${U.length} routes in collection ${me}`),Z=!0;break}}catch(de){console.log(`Error with collection ${me}:`,de)}Z||(console.log("No routes found in any collection"),l("No se encontraron rutas en la base de datos.")),U.length===0&&(console.log("Adding test route"),U=[{id:"test-route-1",name:"Ruta de Prueba",difficulty:"fácil",distance:"5 km",description:"Esta es una ruta de prueba para depuración.",imageUrl:""}]),e(U),console.log("Routes set in state:",U)}catch(ne){console.error("Error fetching routes:",ne),l("Error al cargar las rutas: "+ne.message)}finally{r(!1)}},ie=ne=>{m(ne.target.value)},j=ne=>{y(U=>({field:ne,direction:U.field===ne&&U.direction==="asc"?"desc":"asc"}))},S=ne=>p.field===ne?p.direction==="asc"?" ▲":" ▼":"",A=()=>{N(!0)},I=ne=>{const{name:U,value:Z}=ne.target;B(me=>({...me,[U]:Z}))},O=async()=>{try{const ne=Xt(Y,"routes");await lu(ne,C),console.log("Ruta creada exitosamente"),N(!1),B({title:"",difficulty:"",distance:"",map:"",about:""}),P()}catch(ne){console.error("Error creando ruta:",ne)}},z=ne=>{G(ne),F(!0)},D=ne=>{const{name:U,value:Z}=ne.target;G(me=>({...me,[U]:Z}))},Re=async()=>{try{const ne=st(Y,"routes",V.id),{id:U,...Z}=V;await ou(ne,Z),console.log("Ruta actualizada:",V.id),F(!1),G(null),P()}catch(ne){console.error("Error actualizando ruta:",ne)}},_e=async(ne,U)=>{if(window.confirm(`¿Estás seguro de eliminar la ruta "${U}"?`))try{await mv(st(Y,"routes",ne)),console.log("Ruta eliminada:",ne),P()}catch(Z){console.error("Error eliminando ruta:",Z)}},ce=n.filter(ne=>{if(!u)return!0;const U=u.toLowerCase(),Z=ne.name&&ne.name.toLowerCase().includes(U),me=ne.description&&ne.description.toLowerCase().includes(U);return Z||me}).sort((ne,U)=>{const Z=p.field,me=ne[Z]!==void 0?ne[Z]:"",de=U[Z]!==void 0?U[Z]:"";return typeof me=="string"&&typeof de=="string"?p.direction==="asc"?me.localeCompare(de):de.localeCompare(me):p.direction==="asc"?me-de:de-me}),oe=ne=>{if(!ne)return"";const U=typeof ne=="string"?ne.toLowerCase():"";return{facil:"difficulty-easy",fácil:"difficulty-easy",moderado:"difficulty-moderate",moderada:"difficulty-moderate",medio:"difficulty-moderate",media:"difficulty-moderate",intermedio:"difficulty-moderate",intermedia:"difficulty-moderate",dificil:"difficulty-hard",difícil:"difficulty-hard","muy dificil":"difficulty-hard","muy difícil":"difficulty-hard",extremo:"difficulty-very-hard",extrema:"difficulty-very-hard"}[U]||"difficulty-moderate"},ue=ne=>{if(!ne)return"No especificada";const U=typeof ne=="string"?ne.toLowerCase():"";return{facil:"Fácil",fácil:"Fácil",moderado:"Moderado",moderada:"Moderado",medio:"Moderado",media:"Moderado",intermedio:"Moderado",intermedia:"Moderado",dificil:"Difícil",difícil:"Difícil","muy dificil":"Difícil","muy difícil":"Difícil",extremo:"Muy Difícil",extrema:"Muy Difícil"}[U]||ne};return d.jsxs("div",{className:"manage-rutas-page",children:[d.jsx(St,{}),d.jsxs("div",{className:"manage-rutas-container",children:[d.jsx("h1",{className:"page-title",children:"Gestión de Rutas"}),d.jsxs("div",{className:"controls-container",children:[d.jsx("div",{className:"search-filter-container",children:d.jsxs("div",{className:"search-bar",children:[d.jsx(pe,{icon:Cu,className:"search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar rutas...",value:u,onChange:ie})]})}),d.jsxs("button",{className:"add-ruta-button",onClick:A,children:[d.jsx(pe,{icon:ry}),d.jsx("span",{children:"Añadir Ruta"})]})]}),t?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:"Cargando rutas..."})]}):s?d.jsxs("div",{className:"error-message",children:[d.jsx(pe,{icon:sy}),d.jsx("span",{children:s}),d.jsx("button",{onClick:P,className:"retry-button",children:"Reintentar"})]}):d.jsx(d.Fragment,{children:n.length===0?d.jsx("div",{className:"no-rutas-container",children:d.jsxs("div",{className:"no-data-message",children:[d.jsx(pe,{icon:p2,className:"no-data-icon"}),d.jsx("h3",{children:"No hay rutas disponibles"}),d.jsx("p",{children:"No se encontraron rutas en la base de datos"}),d.jsxs("button",{className:"add-ruta-button",onClick:A,style:{marginTop:"1rem"},children:[d.jsx(pe,{icon:ry}),d.jsx("span",{children:"Añadir Primera Ruta"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"rutas-table-container",children:d.jsxs("table",{className:"rutas-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"image-column",children:"Imagen"}),d.jsxs("th",{className:`sortable-header ${p.field==="name"?"active":""}`,onClick:()=>j("name"),children:["Nombre ",S("name")]}),d.jsxs("th",{className:`sortable-header ${p.field==="difficulty"?"active":""}`,onClick:()=>j("difficulty"),children:["Dificultad ",S("difficulty")]}),d.jsxs("th",{className:`sortable-header ${p.field==="distance"?"active":""}`,onClick:()=>j("distance"),children:["Distancia ",S("distance")]}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:ce.length>0?ce.map(ne=>d.jsxs("tr",{children:[d.jsx("td",{className:"image-cell",children:d.jsx("div",{className:"route-image-thumbnail",children:ne.imageUrl?d.jsx("img",{src:ne.imageUrl,alt:ne.name}):d.jsx("div",{className:"no-image",children:d.jsx(pe,{icon:p2})})})}),d.jsx("td",{children:ne.name||"Sin nombre"}),d.jsx("td",{children:d.jsxs("span",{className:`difficulty-badge ${oe(ne.difficulty)}`,children:[d.jsx(pe,{icon:gP})," ",ue(ne.difficulty)]})}),d.jsx("td",{children:ne.distance||"No especificada"}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"edit-button",onClick:()=>z(ne),title:"Editar ruta",children:d.jsx(pe,{icon:DS})}),d.jsx("button",{className:"delete-button",onClick:()=>_e(ne.id,ne.name),title:"Eliminar ruta",children:d.jsx(pe,{icon:PS})})]})})]},ne.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:"5",className:"no-results",children:"No se encontraron rutas que coincidan con tu búsqueda"})})})]})}),d.jsxs("div",{className:"pagination-info",children:["Mostrando ",ce.length," de ",n.length," rutas"]})]})})]}),T&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal",children:[d.jsx("h2",{children:"Añadir Ruta"}),d.jsxs("label",{children:["Título:",d.jsx("input",{type:"text",name:"title",value:C.title,onChange:I})]}),d.jsxs("label",{children:["Dificultad:",d.jsx("input",{type:"text",name:"difficulty",value:C.difficulty,onChange:I})]}),d.jsxs("label",{children:["Distancia:",d.jsx("input",{type:"text",name:"distance",value:C.distance,onChange:I})]}),d.jsxs("label",{children:["Mapa:",d.jsx("input",{type:"text",name:"map",value:C.map,onChange:I})]}),d.jsxs("label",{children:["About:",d.jsx("input",{type:"text",name:"about",value:C.about,onChange:I})]}),d.jsxs("div",{className:"modal-buttons",children:[d.jsx("button",{onClick:O,children:"Crear Ruta"}),d.jsx("button",{onClick:()=>N(!1),children:"Cancelar"})]})]})}),L&&V&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal",children:[d.jsx("h2",{children:"Editar Ruta"}),d.jsxs("label",{children:["Título:",d.jsx("input",{type:"text",name:"title",value:V.title,onChange:D})]}),d.jsxs("label",{children:["Dificultad:",d.jsx("input",{type:"text",name:"difficulty",value:V.difficulty,onChange:D})]}),d.jsxs("label",{children:["Distancia:",d.jsx("input",{type:"text",name:"distance",value:V.distance,onChange:D})]}),d.jsxs("label",{children:["Mapa:",d.jsx("input",{type:"text",name:"map",value:V.map,onChange:D})]}),d.jsxs("label",{children:["About:",d.jsx("input",{type:"text",name:"about",value:V.about,onChange:D})]}),d.jsxs("div",{className:"modal-buttons",children:[d.jsx("button",{onClick:Re,children:"Guardar Cambios"}),d.jsx("button",{onClick:()=>{F(!1),G(null)},children:"Cancelar"})]})]})})]})},M8=()=>{const n=sn(),[e,t]=k.useState([]),[r,s]=k.useState([]),[l,u]=k.useState(!0),[m,p]=k.useState(null),[y,_]=k.useState({}),[w,T]=k.useState("all"),[N,C]=k.useState("");k.useEffect(()=>{const P=qa.onAuthStateChanged(async ie=>{var j,S;if(!ie){n("/login",{state:{message:"Por favor inicia sesión para ver tus reservas.",redirect:"/bookings"}});return}try{u(!0),p(null);const A=Gs(Xt(Ms,"reservations"),ka("userId","==",ie.uid),ka("paymentStatus","==","completed")),I=await qn(A);if(I.empty){t([]),s([]),u(!1);return}const O=[],z=new Date;for(const _e of I.docs){const ce=_e.data();try{if(!ce.activityId)continue;const oe=st(Ms,"activities",ce.activityId),ue=await wn(oe);if(!ue.exists())continue;const ne=ue.data(),U=((j=ne.date)==null?void 0:j.toDate())||new Date;let Z={title:"Ruta no disponible"};if(ne.routeId){const de=await wn(st(Ms,"routes",ne.routeId));de.exists()&&(Z=de.data())}let me={name:"Guía no disponible",profilePic:null};if(ne.guideId){const de=await wn(st(Ms,"users",ne.guideId));de.exists()&&(me=de.data())}O.push({id:_e.id,bookingDate:((S=ce.createdAt)==null?void 0:S.toDate())||new Date,paymentAmount:ce.price||0,paymentMethod:"PayPal",participants:1,activity:{id:ne.id||ce.activityId,title:ne.title||ce.activityName||"Actividad sin nombre",description:ne.description||"Sin descripción disponible",date:U,time:ne.time||"Hora no especificada",duration:ne.duration||"Duración no especificada",capacity:ne.capacity||"Capacidad no especificada",price:ne.price||0,route:{id:ne.routeId||"unknown",title:Z.title},guide:{id:ne.guideId||"unknown",name:me.name||"Guía no disponible",profilePic:me.profilePic||"/default-profile.jpg"}},isActive:U>z})}catch(oe){console.error("Error processing reservation:",_e.id,oe);continue}}const D=O.filter(_e=>_e.isActive),Re=O.filter(_e=>!_e.isActive);D.sort((_e,ce)=>_e.activity.date-ce.activity.date),Re.sort((_e,ce)=>ce.activity.date-_e.activity.date),t(D),s(Re)}catch(A){console.error("Error fetching reservations:",A),p("No se pudieron cargar tus reservas. Por favor intenta de nuevo más tarde.")}finally{u(!1)}});return()=>P()},[n]);const B=P=>{_(ie=>({...ie,[P]:!ie[P]}))},L=P=>!P||!(P instanceof Date)||isNaN(P)?"Fecha no disponible":P.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),F=P=>P||"Hora no especificada",V=e.filter(P=>{if(N&&!P.activity.title.toLowerCase().includes(N.toLowerCase()))return!1;if(w==="this-week"){const ie=new Date,j=new Date;return j.setDate(ie.getDate()+(7-ie.getDay())),P.activity.date<=j}if(w==="this-month"){const ie=new Date,j=new Date(ie.getFullYear(),ie.getMonth()+1,0);return P.activity.date<=j}return!0}),G=r.filter(P=>N?P.activity.title.toLowerCase().includes(N.toLowerCase()):!0),Y=P=>{if(!P||!(P instanceof Date)||isNaN(P))return 0;const j=P-new Date;return Math.max(0,Math.ceil(j/(1e3*60*60*24)))};return d.jsxs("div",{className:"bookings-page",children:[d.jsx(St,{}),d.jsxs("main",{className:"bookings-container",children:[d.jsx("h1",{className:"bookings-title",children:"Mis Reservas"}),l?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando reservas..."})]}):m?d.jsxs("div",{className:"error-container",children:[d.jsx(pe,{icon:hu,className:"error-icon"}),d.jsx("p",{className:"error-message",children:m}),d.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Intentar nuevamente"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bookings-filter-container",children:[d.jsxs("div",{className:"search-container",children:[d.jsx(pe,{icon:Cu,className:"search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar actividad...",value:N,onChange:P=>C(P.target.value),className:"search-input"})]}),d.jsxs("div",{className:"filter-container",children:[d.jsx(pe,{icon:OS,className:"filter-icon"}),d.jsxs("select",{className:"filter-select",value:w,onChange:P=>T(P.target.value),children:[d.jsx("option",{value:"all",children:"Todas las reservas"}),d.jsx("option",{value:"this-week",children:"Esta semana"}),d.jsx("option",{value:"this-month",children:"Este mes"})]})]})]}),d.jsxs("section",{className:"active-bookings-section",children:[d.jsxs("h2",{className:"section-title",children:[d.jsx(pe,{icon:Rv,className:"section-icon"}),"Actividades Próximas"]}),V.length===0?d.jsxs("div",{className:"empty-bookings",children:[d.jsx("p",{children:"No tienes reservas activas."}),d.jsx("button",{className:"view-activities-btn",onClick:()=>n("/routes"),children:"Ver actividades disponibles"})]}):d.jsx("div",{className:"bookings-grid",children:V.map(P=>d.jsxs("div",{className:"booking-card",children:[d.jsxs("div",{className:"booking-header",children:[d.jsx("h3",{className:"booking-title",children:P.activity.title}),d.jsxs("div",{className:"booking-route",children:[d.jsx(pe,{icon:iy,className:"booking-icon"}),d.jsx("span",{children:P.activity.route.title})]})]}),d.jsxs("div",{className:"booking-date",children:[d.jsxs("div",{className:"date-badge",children:[d.jsx("div",{className:"date-month",children:P.activity.date.toLocaleDateString("es-ES",{month:"short"}).toUpperCase()}),d.jsx("div",{className:"date-day",children:P.activity.date.getDate()})]}),d.jsxs("div",{className:"date-details",children:[d.jsx("div",{className:"full-date",children:L(P.activity.date)}),d.jsxs("div",{className:"booking-time",children:[d.jsx(pe,{icon:If,className:"time-icon"}),F(P.activity.time)]})]})]}),d.jsxs("div",{className:"booking-info",children:[d.jsxs("div",{className:"info-item",children:[d.jsx(pe,{icon:Df,className:"info-icon"}),d.jsx("span",{children:"Punto de encuentro: UNIMET"})]}),d.jsxs("div",{className:"info-item",children:[d.jsx(pe,{icon:uP,className:"info-icon"}),d.jsxs("span",{children:["Participantes: ",P.participants]})]})]}),d.jsxs("div",{className:"days-remaining",children:[d.jsx("span",{className:"days-count",children:Y(P.activity.date)}),d.jsx("span",{className:"days-text",children:"días restantes"})]}),d.jsx("button",{className:`details-toggle ${y[P.id]?"active":""}`,onClick:()=>B(P.id),children:y[P.id]?"Ocultar detalles":"Ver detalles"}),y[P.id]&&d.jsxs("div",{className:"booking-details",children:[d.jsxs("div",{className:"details-section",children:[d.jsx("h4",{children:"Detalles de la Actividad"}),d.jsx("p",{children:P.activity.description}),d.jsxs("p",{children:[d.jsx("strong",{children:"Duración:"})," ",P.activity.duration]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Capacidad:"})," ",P.activity.capacity," personas"]})]}),d.jsxs("div",{className:"details-section",children:[d.jsx("h4",{children:"Detalles de la Reserva"}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fecha de reserva:"})," ",L(P.bookingDate)]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Método de pago:"})," ",P.paymentMethod]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Monto pagado:"})," $",P.paymentAmount.toFixed(2)," USD"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Estado:"})," ",d.jsx("span",{className:"payment-confirmed",children:"Pago confirmado"})]})]}),d.jsxs("div",{className:"details-section guide-info",children:[d.jsx("h4",{children:"Información del Guía"}),d.jsxs("div",{className:"guide-profile",children:[d.jsx("img",{src:P.activity.guide.profilePic||"/default-profile.jpg",alt:P.activity.guide.name,className:"guide-pic"}),d.jsx("span",{className:"guide-name",children:P.activity.guide.name})]})]})]})]},P.id))})]}),d.jsxs("section",{className:"past-bookings-section",children:[d.jsxs("h2",{className:"section-title",children:[d.jsx(pe,{icon:xP,className:"section-icon"}),"Actividades Pasadas"]}),G.length===0?d.jsx("div",{className:"empty-bookings",children:d.jsx("p",{children:"No tienes actividades pasadas."})}):d.jsx("div",{className:"bookings-grid past-grid",children:G.map(P=>d.jsxs("div",{className:"booking-card past-booking",children:[d.jsxs("div",{className:"booking-header",children:[d.jsx("div",{className:"past-badge",children:"Completada"}),d.jsx("h3",{className:"booking-title",children:P.activity.title}),d.jsxs("div",{className:"booking-route",children:[d.jsx(pe,{icon:iy,className:"booking-icon"}),d.jsx("span",{children:P.activity.route.title})]})]}),d.jsxs("div",{className:"booking-date",children:[d.jsxs("div",{className:"date-badge past-date",children:[d.jsx("div",{className:"date-month",children:P.activity.date.toLocaleDateString("es-ES",{month:"short"}).toUpperCase()}),d.jsx("div",{className:"date-day",children:P.activity.date.getDate()})]}),d.jsx("div",{className:"date-details",children:d.jsx("div",{className:"full-date",children:L(P.activity.date)})})]}),d.jsx("button",{className:`details-toggle ${y[P.id]?"active":""}`,onClick:()=>B(P.id),children:y[P.id]?"Ocultar detalles":"Ver detalles"}),y[P.id]&&d.jsxs("div",{className:"booking-details",children:[d.jsxs("div",{className:"details-section",children:[d.jsx("h4",{children:"Detalles de la Actividad"}),d.jsx("p",{children:P.activity.description}),d.jsxs("p",{children:[d.jsx("strong",{children:"Duración:"})," ",P.activity.duration]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Capacidad:"})," ",P.activity.capacity," personas"]})]}),d.jsxs("div",{className:"details-section",children:[d.jsx("h4",{children:"Detalles de la Reserva"}),d.jsxs("p",{children:[d.jsx("strong",{children:"Participantes:"})," ",P.participants]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fecha de reserva:"})," ",L(P.bookingDate)]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Método de pago:"})," ",P.paymentMethod]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Monto pagado:"})," $",P.paymentAmount.toFixed(2)," USD"]})]}),d.jsxs("div",{className:"details-section guide-info",children:[d.jsx("h4",{children:"Información del Guía"}),d.jsxs("div",{className:"guide-profile",children:[d.jsx("img",{src:P.activity.guide.profilePic||"/default-profile.jpg",alt:P.activity.guide.name,className:"guide-pic"}),d.jsx("span",{className:"guide-name",children:P.activity.guide.name})]})]})]})]},P.id))})]})]})]}),d.jsx(Wt,{})]})},P8=()=>{const n=sn(),{currentUser:e}=gv(),[t,r]=k.useState([]),[s,l]=k.useState(!0),[u,m]=k.useState(null),[p,y]=k.useState(!1),[_,w]=k.useState(""),[T,N]=k.useState({title:"",description:""}),[C,B]=k.useState({});k.useEffect(()=>{(async()=>{var G;l(!0);try{const Y=jt(),P=Xt(Y,"forumTopics"),ie=Gs(P,O5("createdAt","desc")),j=await qn(ie),S=[];for(const A of j.docs){const I=A.data();if(I.userId&&!C[I.userId])try{const O=await wn(st(Y,"users",I.userId));O.exists()&&B(z=>({...z,[I.userId]:O.data()}))}catch(O){console.error("Error fetching user profile:",O)}S.push({id:A.id,...I,createdAt:((G=I.createdAt)==null?void 0:G.toDate())||new Date})}r(S)}catch(Y){console.error("Error fetching topics:",Y),m("Error al cargar los temas. Por favor, inténtalo de nuevo.")}finally{l(!1)}})()},[]);const L=async()=>{if(!e){n("/login",{state:{message:"Por favor inicia sesión para crear un tema.",redirect:"/forum"}});return}if(!T.title.trim()){alert("Por favor ingresa un título para el tema.");return}try{const V=jt(),G={title:T.title.trim(),description:T.description.trim(),userId:e.uid,userName:e.displayName||"Usuario",commentCount:0,viewCount:0,createdAt:cu()},Y=await lu(Xt(V,"forumTopics"),G);r(P=>[{id:Y.id,...G,createdAt:new Date},...P]),N({title:"",description:""}),y(!1)}catch(V){console.error("Error creating topic:",V),alert("Error al crear el tema. Por favor, inténtalo de nuevo.")}},F=t.filter(V=>V.title.toLowerCase().includes(_.toLowerCase())||V.description.toLowerCase().includes(_.toLowerCase()));return d.jsxs("div",{className:"forum-page",children:[d.jsx(St,{}),d.jsxs("div",{className:"forum-container",children:[d.jsxs("div",{className:"forum-header",children:[d.jsx("h1",{className:"forum-title",children:"Foro de Discusión"}),d.jsx("p",{className:"forum-subtitle",children:"Comparte experiencias y resuelve dudas con la comunidad"})]}),d.jsxs("div",{className:"forum-controls",children:[d.jsxs("div",{className:"search-container",children:[d.jsx(pe,{icon:Cu,className:"search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar temas...",value:_,onChange:V=>w(V.target.value),className:"search-input"})]}),d.jsxs("button",{className:"create-topic-button",onClick:()=>y(!0),children:[d.jsx(pe,{icon:ry}),d.jsx("span",{children:"Crear nuevo tema"})]})]}),s?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando temas..."})]}):u?d.jsxs("div",{className:"error-container",children:[d.jsx("p",{className:"error-message",children:u}),d.jsx("button",{onClick:()=>window.location.reload(),children:"Intentar nuevamente"})]}):F.length===0?d.jsx("div",{className:"no-topics-message",children:_?d.jsxs("p",{children:['No se encontraron temas que coincidan con "',_,'"']}):d.jsx("p",{children:"No hay temas disponibles. ¡Sé el primero en crear uno!"})}):d.jsxs("div",{className:"topics-list",children:[d.jsxs("div",{className:"topics-header",children:[d.jsx("div",{className:"topic-column title-column",children:"Tema"}),d.jsx("div",{className:"topic-column stats-column",children:"Estadísticas"})]}),F.map(V=>{var G,Y;return d.jsxs("div",{className:"topic-item",onClick:()=>n(`/forum/topic/${V.id}`),children:[d.jsxs("div",{className:"topic-main",children:[d.jsx("h3",{className:"topic-title",children:V.title}),d.jsx("p",{className:"topic-description",children:V.description}),d.jsxs("div",{className:"topic-author",children:[d.jsx(pe,{icon:Cf}),d.jsx("span",{children:((G=C[V.userId])==null?void 0:G.name)||((Y=C[V.userId])==null?void 0:Y.displayName)||V.userName||"Usuario"})]})]}),d.jsxs("div",{className:"topic-stats",children:[d.jsxs("div",{className:"stats-item",children:[d.jsx(pe,{icon:IS}),d.jsxs("span",{children:[V.commentCount||0," comentarios"]})]}),d.jsxs("div",{className:"stats-item",children:[d.jsx(pe,{icon:kS}),d.jsxs("span",{children:[V.viewCount||0," vistas"]})]})]})]},V.id)})]})]}),p&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Crear nuevo tema"}),d.jsx("button",{className:"close-modal-button",onClick:()=>y(!1),children:d.jsx(pe,{icon:rl})})]}),d.jsxs("div",{className:"modal-body",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"topic-title",children:"Título *"}),d.jsx("input",{type:"text",id:"topic-title",value:T.title,onChange:V=>N({...T,title:V.target.value}),placeholder:"Escribe un título descriptivo",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"topic-description",children:"Descripción"}),d.jsx("textarea",{id:"topic-description",value:T.description,onChange:V=>N({...T,description:V.target.value}),placeholder:"Proporciona más detalles sobre tu tema (opcional)",rows:5})]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{className:"cancel-button",onClick:()=>y(!1),children:"Cancelar"}),d.jsx("button",{className:"create-button",onClick:L,children:"Crear tema"})]})]})}),d.jsx(Wt,{})]})},L8="/AvilaGO-ASMS/assets/unimet-BhOE13dh.png",U8=()=>d.jsxs("div",{className:"about-us-page",children:[d.jsx(St,{}),d.jsxs("div",{className:"about-us-container",children:[d.jsxs("div",{className:"about-us-content",children:[d.jsx("h1",{children:"Acerca de Nosotros"}),d.jsx("p",{children:"Somos estudiantes de la Universidad Metropolitana, encargados como desarrolladores de la página web de esta gran agrupación unimetana, que impulsa a los estudiantes a involucrarse más con la naturaleza y sus alrededores en Caracas. ¡Esperamos que se animen al proyecto!"})]}),d.jsx("div",{className:"about-us-image",children:d.jsx("img",{src:L8,alt:"UNIMET"})})]}),d.jsx(Wt,{})]});function V8(){return d.jsx(V5,{children:d.jsx(rC,{children:d.jsxs(MR,{children:[d.jsx(Yt,{path:"/",element:d.jsx(jP,{})}),d.jsx(Yt,{path:"/register",element:d.jsx(LP,{})}),d.jsx(Yt,{path:"/login",element:d.jsx(PP,{})}),d.jsx(Yt,{path:"/routes",element:d.jsx(BP,{})}),d.jsx(Yt,{path:"/payment",element:d.jsx(c9,{})}),d.jsx(Yt,{path:"/gallery",element:d.jsx(u9,{})}),d.jsx(Yt,{path:"/profile",element:d.jsx(S8,{})}),d.jsx(Yt,{path:"/rutasinfo",element:d.jsx(x8,{})}),d.jsx(Yt,{path:"/activities/:routeId",element:d.jsx(R8,{})}),d.jsx(Yt,{path:"/activity/:activityId",element:d.jsx(C8,{})}),d.jsx(Yt,{path:"/admin",element:d.jsx(I8,{})}),d.jsx(Yt,{path:"/activitydashboard",element:d.jsx(j8,{})}),d.jsx(Yt,{path:"/admin/users",element:d.jsx(O8,{})}),d.jsx(Yt,{path:"/admin/routes",element:d.jsx(k8,{})}),d.jsx(Yt,{path:"/bookings",element:d.jsx(M8,{})}),d.jsx(Yt,{path:"/forum",element:d.jsx(P8,{})}),d.jsx(Yt,{path:"/about-us",element:d.jsx(U8,{})})," "]})})})}GN.createRoot(document.getElementById("root")).render(d.jsx(k.StrictMode,{children:d.jsx(V8,{})}));
